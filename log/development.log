  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE "businesses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" varchar(255), "city" varchar(255), "state" varchar(255), "country" varchar(255), "picture" blob, "rating" integer, "review" text, "category" varchar(255), "description" text, "zipcode" varchar(255), "yelpid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090827180332')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("businesses")[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-30 13:49:09) [GET]

ActionController::UnknownAction (No action responded to index. Actions: ):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 13:58:44) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED compile error
c:/Ruby/Referme/app/views/layouts/application.html.erb:16: syntax error, unexpected ':', expecting ')'
...@output_buffer.concat(( yield: content ).to_s); @output_buff...
                              ^
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n"
@output_buffer.concat "\t<head>\n"
@output_buffer.concat "\t</head>\n"
@output_buffer.concat "\t<body>\n"
@output_buffer.concat "\t\t<div id = \"SearchPanel\">\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( javascript_include_tag :default ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  form_remote_tag :url => {:controller => 'businesses', :action => 'search'} do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<p>Business Name (e.g. The Onyx Apartment)</p>\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<p>Location (e.g. Redmond, WA)</p>\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( text_field_tag :location, params[:location], :id => 'location_field' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t\t<div id = \"content\">\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( yield: content ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/Ruby/Referme/app/views/layouts/application.html.erb:22:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/webrick.rb:46:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/webrick.rb:13:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
c:/Ruby/Referme/app/views/layouts/application.html.erb:16: syntax error, unexpected ':', expecting ')'
...@output_buffer.concat(( yield: content ).to_s); @output_buff...
                              ^) on line #16 of app/views/layouts/application.html.erb:
13: 			<% end %>
14: 		</div>
15: 		<div id = "content">
16: 			<%= yield: content %>
17: 		</div>
18: 	</body>
19: </html>

    app/views/layouts/application.html.erb:22:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:01:32) [GET]
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #1 of app/views/home/index.html.erb:
1: <% content_for do %>
2: 	<title>A simple page</title>
3: <% end %>

    app/views/home/index.html.erb:1:in `content_for'
    app/views/home/index.html.erb:1
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:02:06) [GET]
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (No expansion found for :default) on line #6 of app/views/layouts/application.html.erb:
3: 	</head>
4: 	<body>
5: 		<div id = "SearchPanel">
6: 			<%= javascript_include_tag :default %>
7: 			<% form_remote_tag :url => {:controller => 'businesses', :action => 'search'} do %>
8: 			<p>Business Name (e.g. The Onyx Apartment)</p>
9: 			<%= text_field_tag :businessname, params[:businessname], :id => 'businessname_field' %>

    app/views/layouts/application.html.erb:6
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (140.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:03:08) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 606ms (View: 604, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:03:15) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:03:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:03:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 9ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:04:18) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:05:17) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:05:18) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:27:24) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:39:24) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:39:43) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:39:51) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:47:34) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:47:38) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:49:50) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:50:04) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:51:33) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:52:15) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:53:19) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]
  [4;36;1mBusiness Create (1.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "city", "rating", "yelpid", "category", "updated_at", "review", "zipcode", "country", "description", "picture", "address", "state", "created_at") VALUES(NULL, NULL, NULL, NULL, NULL, '2009-08-30 22:10:23', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2009-08-30 22:10:23')[0m
  [4;35;1mBusiness Update (1.0ms)[0m   [0mUPDATE "businesses" SET "category" = 'Apartment', "city" = 'Redmond', "name" = 'The Onyx Apartment', "zipcode" = '98052', "country" = 'United States', "state" = 'WA', "address" = '4850 156th AVE NE', "updated_at" = '2009-08-30 22:12:33' WHERE "id" = 1[0m


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:33:06) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:33:14) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"redmond"}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:33:16) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:33:17) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:08) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:09) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:10) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:23) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:24) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:25) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:25) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:25) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:40:13) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 8, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:40:15) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:40:17) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:41:18) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 21, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:41:20) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:41:20) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:48:19) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing ApplicationController#search (for 127.0.0.1 at 2009-08-30 15:48:21) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}

SyntaxError (c:/Ruby/Referme/app/controllers/businesses_controller.rb:4: syntax error, unexpected tIDENTIFIER, expecting kEND
	@businesses = Business.search params[:businessname] params[:city]
	                                                          ^):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:49:15) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5a3ba60>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:49:37) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5918b4c>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:50:32) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x583fdd8>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:51:10) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5a3a64c>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (72.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:55:47) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5916c5c>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:56:47) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering businesses/search

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #2 of app/views/businesses/search.html.erb:
1: <table>
2: <% @businesses.each do |business| %>
3: <tr>
4: <td>
5: <%= business.name %>

    app/views/businesses/search.html.erb:2
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (177.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#search (for 127.0.0.1 at 2009-08-30 16:00:32) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}

NameError (uninitialized constant BusinessesController):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-30 16:00:41) [GET]

ActionController::RoutingError (No route matches "/business/search" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:02:01) [GET]
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x591b018>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (5.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:02:05) [GET]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5817824>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 16:02:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 30ms (View: 26, DB: 0) | 200 OK [http://localhost/]


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:02:15) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x59cb8c8>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:02:20) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"ss"}
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x58c0974>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:04:47) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"ss"}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aa' for #<Class:0x57ebc9c>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (162.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 17:07:17) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"ss"}
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x59c69cc>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (131.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#search (for 127.0.0.1 at 2009-08-30 17:25:32) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"ss"}

NameError (uninitialized constant BusinessController):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (84.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-30 17:25:38) [GET]

ActionController::RoutingError (No route matches "/businesses/search" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 17:26:17) [GET]
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5b1fd78>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (4.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 17:27:35) [GET]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 11:17:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 2840ms (View: 2838, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:17:33) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5393cf8>):
  app/controllers/businesses_controller.rb:4:in `search'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:19:55) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/businesses_controller.rb:5:in `method'
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:20:25) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/businesses_controller.rb:5:in `method'
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:21:16) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x4359798>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:44:07) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x5408b34>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:44:58) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x49582e8>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (126.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 14:34:53) [GET]

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x54d1d68>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 14:42:13) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x4a042a0>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (119.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 16:20:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 22ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 16:20:33) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x53ab95c>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 17:49:42) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 17:49:48) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"ff"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x556877c>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 17:50:28) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"ff"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x52f3988>):
  app/controllers/businesses_controller.rb:4:in `search'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 17:56:45) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"ff"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x54936a8>):
  app/controllers/businesses_controller.rb:4:in `search'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 18:06:54) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 21ms (View: 19, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#search (for 127.0.0.1 at 2009-09-13 18:07:01) [POST]
  Parameters: {"businessname"=>"aaaa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

LoadError (Expected c:/Ruby/Referme/app/controllers/businesses_controller.rb to define BusinessesController):
  

Rendered rescues/_trace (55.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#search (for 127.0.0.1 at 2009-09-13 18:08:39) [POST]
  Parameters: {"businessname"=>"aaaa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

NameError (uninitialized constant BusinessesController):
  

Rendered rescues/_trace (53.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 18:08:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-13 18:08:54) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

ActionController::RoutingError (No route matches "/businesss/search" with {:method=>:post}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-13 18:19:31) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

ActionController::RoutingError (No route matches "/businesss/search" with {:method=>:post}):
  

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 18:19:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-13 18:19:40) [POST]
  Parameters: {"businessname"=>"hfoadf", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"haodfhaodf"}

ActionController::RoutingError (No route matches "/businesss/search" with {:method=>:post}):
  

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 18:20:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:20:03) [POST]
  Parameters: {"businessname"=>"hfoadf", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"haodfhaodf"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%hfoadf%' AND city = '%hfoadf%') [0m

ActionView::MissingTemplate (Missing template businesses/search.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:22:48) [POST]
  Parameters: {"businessname"=>"hfoadf", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"haodfhaodf"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%hfoadf%' AND city = '%hfoadf%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 23ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:23:05) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%' AND city = '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:23:14) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%' AND city = '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:23:15) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%' AND city = '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:23:40) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (2 for 1) in: name LIKE ?):
  app/models/business.rb:4:in `search'
  app/controllers/businesses_controller.rb:3:in `search'

Rendered rescues/_trace (70.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:24:09) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "displayname" varchar(255), "email" varchar(255), "ratingcount" integer, "averagerating" integer, "picture" blob, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090915061534')[0m
Migrating to CreateReferals (20090916041044)
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE "referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "publishtime" datetime, "description" text, "offerprice" integer, "user_id" integer, "business_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090916041044')[0m
Migrating to CreateRequests (20090916041112)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "publishtime" datetime, "description" text, "askprice" integer, "user_id" integer, "business_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090916041112')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("businesses")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("updated_at", "displayname", "ratingcount", "averagerating", "picture", "email", "created_at") VALUES('2009-09-16 04:18:38', NULL, NULL, NULL, NULL, NULL, '2009-09-16 04:18:38')[0m
  [4;35;1mReferal Create (1.0ms)[0m   [0mINSERT INTO "referals" ("updated_at", "business_id", "publishtime", "description", "offerprice", "user_id", "created_at") VALUES('2009-09-16 04:19:54', NULL, NULL, NULL, NULL, NULL, '2009-09-16 04:19:54')[0m
  [4;36;1mUser Update (4.0ms)[0m   [0;1mUPDATE "users" SET "ratingcount" = 10, "email" = 'yanji84@gmail.com', "averagerating" = 5, "displayname" = 'max', "updated_at" = '2009-09-16 05:06:11' WHERE "id" = 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mReferal Update (2.0ms)[0m   [0;1mUPDATE "referals" SET "offerprice" = 700, "business_id" = 1, "description" = 'I am look for someone to split 1000 dollars, anyone interested?', "updated_at" = '2009-09-16 05:10:42', "user_id" = 1 WHERE "id" = 1[0m
  [4;35;1mUser Create (2.0ms)[0m   [0mINSERT INTO "users" ("updated_at", "displayname", "ratingcount", "averagerating", "picture", "email", "created_at") VALUES('2009-09-16 05:10:59', NULL, NULL, NULL, NULL, NULL, '2009-09-16 05:10:59')[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "ratingcount" = 10, "email" = 'yanji84@gmail.com', "averagerating" = 6, "displayname" = 'walala', "updated_at" = '2009-09-16 05:12:51' WHERE "id" = 2[0m
  [4;35;1mRequest Create (1.0ms)[0m   [0mINSERT INTO "requests" ("updated_at", "business_id", "publishtime", "description", "user_id", "askprice", "created_at") VALUES('2009-09-16 05:12:59', NULL, NULL, NULL, NULL, NULL, '2009-09-16 05:12:59')[0m
  [4;36;1mRequest Update (1.0ms)[0m   [0;1mUPDATE "requests" SET "business_id" = 1, "description" = 'I am looking for someone to split 1000 dollars, anyone?', "askprice" = 700, "updated_at" = '2009-09-16 05:14:41', "user_id" = 2 WHERE "id" = 1[0m


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-15 22:58:00) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-15 22:58:03) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%aa%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-15 23:41:02) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (18.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 126ms (View: 50, DB: 18) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 11:34:57) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (21.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 1462ms (View: 969, DB: 22) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 11:36:41) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (26.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 171ms (View: 111, DB: 27) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:07:04) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
ERROR: compiling _run_erb_app47views47businesses47search46html46erb RAISED compile error
c:/Ruby/Referme/app/views/businesses/search.html.erb:15: syntax error, unexpected tIDENTIFIER, expecting ')'
...'number of referals,' business.requests.count 'number of req...
                              ^
Function body:           def _run_erb_app47views47businesses47search46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
 @businesses.each do |business| ; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( business.name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( business.address ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( link_to business.referals.count 'number of referals,' business.requests.count 'number of requests', business ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "</table>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/Ruby/Referme/app/views/businesses/search.html.erb:21:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/chunked.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:61:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
c:/Ruby/Referme/app/views/businesses/search.html.erb:15: syntax error, unexpected tIDENTIFIER, expecting ')'
...'number of referals,' business.requests.count 'number of req...
                              ^) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to business.referals.count 'number of referals,' business.requests.count 'number of requests', business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:21:in `compile!'

Rendered rescues/_trace (201.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:07:31) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m

ActionView::TemplateError (String can't be coerced into Fixnum) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to business.referals.count + 'number of referals,' + business.requests.count + 'number of requests', business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15:in `+'
    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (141.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:09:18) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m

ActionView::TemplateError (String can't be coerced into Fixnum) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to business.referals.count + " number of referals,'" + business.requests.count + " number of requests", business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15:in `+'
    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (145.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:12:14) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (undefined method `business_path' for #<ActionView::Base:0x559edb8>) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to "#{business.referals.count} number of referals, #{business.requests.count} number of requests", business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (89.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:13:03) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (undefined method `business_path' for #<ActionView::Base:0x56815a0>) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to "#{business.referals.count} number of referals, #{business.requests.count} number of requests", business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:17:56) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (undefined method `business_path' for #<ActionView::Base:0x4995e40>) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to "#{business.referals.count} number of referals, #{business.requests.count} number of requests", business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:18:14) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (undefined local variable or method `business_path' for #<ActionView::Base:0x532dc28>) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to "#{business.referals.count} number of referals, #{business.requests.count} number of requests", business_path %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (135.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:21:31) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 34, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 14:21:40) [GET]

ActionController::RoutingError (No route matches "/business/show" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:23:09) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 43ms (View: 29, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 14:23:11) [GET]

ActionController::RoutingError (No route matches "/business/show" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:23:47) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 45ms (View: 33, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:23:48) [GET]
Rendering template within layouts/application
Rendering businesses/show
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/show]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:23:56) [GET]
Rendering template within layouts/application
Rendering businesses/show
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/show]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:30:23) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 83ms (View: 71, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:30:25) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (119.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:00) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:02) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (61.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:32:07) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:08) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
Completed in 18ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:49) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:52) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:32:55) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 32, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:56) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:34:03) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 45ms (View: 34, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:34:04) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (119.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:34:59) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 35, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:35:37) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 36, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:35:41) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (120.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:36:16) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 33, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:36:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 38ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 30ms (View: 16, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 30ms (View: 15, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (60.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 91ms (View: 17, DB: 61) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:50:52) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 36, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 31ms (View: 16, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:52:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 53ms (View: 35, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:55:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 68ms (View: 52, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:55:24) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 42ms (View: 29, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:55:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 60ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:36:31) [GET]

ActionController::RoutingError (No route matches "/public/404.html" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 15:40:20) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 34, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#greybox to js (for 127.0.0.1 at 2009-09-17 15:40:20) [GET]
  Parameters: {"id"=>"AJS"}

ActionController::UnknownAction (No action responded to greybox. Actions: index, search, and show):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#greybox to js (for 127.0.0.1 at 2009-09-17 15:40:20) [GET]
  Parameters: {"id"=>"AJS_fx"}

ActionController::UnknownAction (No action responded to greybox. Actions: index, search, and show):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#greybox to js (for 127.0.0.1 at 2009-09-17 15:40:20) [GET]
  Parameters: {"id"=>"gb_scripts"}

ActionController::UnknownAction (No action responded to greybox. Actions: index, search, and show):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#greybox to css (for 127.0.0.1 at 2009-09-17 15:40:20) [GET]
  Parameters: {"id"=>"gb_styles"}

ActionController::UnknownAction (No action responded to greybox. Actions: index, search, and show):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 70ms (View: 42, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS_fx.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_scripts.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_styles.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 15:42:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 67ms (View: 49, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:42:25) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:42:26) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS_fx.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:42:26) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_scripts.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:42:26) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_styles.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 15:51:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 126ms (View: 109, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:07) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:07) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS_fx.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:07) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_scripts.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:08) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_styles.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 15:51:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 73ms (View: 55, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:39) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:40) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS_fx.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:40) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_scripts.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:40) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_styles.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 16:09:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 65ms (View: 47, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 16:09:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 61ms (View: 43, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 17:14:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (undefined local variable or method `greybox_includes' for #<ActionView::Base:0x49012a4>) on line #11 of app/views/layouts/application.html.erb:
8: 		}
9: 		</style>
10: 	
11: 	<%= greybox_includes %>
12: 	</head>
13: 	<body>
14: 		<table border="1" class="center">

    app/views/layouts/application.html.erb:11

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 17:19:06) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 155ms (View: 96, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 17:19:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 70ms (View: 54, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-17 17:19:10) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-17 17:19:20) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:16:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 72ms (View: 54, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-17 20:16:35) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:34:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 79ms (View: 60, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 20:34:28) [GET]
Rendering template within layouts/application
Rendering businesses/referalform
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:46:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 73ms (View: 54, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:46:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 61ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-17 20:46:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-17 20:56:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#search (for 127.0.0.1 at 2009-09-17 20:56:59) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

SyntaxError (c:/Ruby/Referme/app/controllers/businesses_controller.rb:11: syntax error, unexpected ':', expecting kEND
	render template: => 'businesses/referalform', :layout => false
	                ^
c:/Ruby/Referme/app/controllers/businesses_controller.rb:11: syntax error, unexpected ',', expecting kEND
	render template: => 'businesses/referalform', :layout => false
	                                             ^):
  

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#search (for 127.0.0.1 at 2009-09-17 20:57:22) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

SyntaxError (c:/Ruby/Referme/app/controllers/businesses_controller.rb:11: syntax error, unexpected ':', expecting kEND
	render template: => 'businesses/referalform' :layout => false
	                ^
c:/Ruby/Referme/app/controllers/businesses_controller.rb:11: syntax error, unexpected ':', expecting kEND
	render template: => 'businesses/referalform' :layout => false
	                                              ^):
  

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 20:58:03) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 113ms (View: 97, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:58:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 62ms (View: 47, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 20:58:08) [GET]
Rendering businesses/referalform
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 20:58:12) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "comment"=>"", "email"=>""}
Rendering template within layouts/application
Rendering businesses/sendemail
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/sendemail]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:01:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 65ms (View: 49, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:01:49) [GET]
Rendering businesses/referalform
ERROR: compiling _run_erb_app47views47businesses47referalform46html46erb RAISED compile error
c:/Ruby/Referme/app/views/businesses/referalform.html.erb:6: syntax error, unexpected ':', expecting ')'
...email], :id => 'email_field' :size => 70 ).to_s); @output_bu...
                              ^
c:/Ruby/Referme/app/views/businesses/referalform.html.erb:12: syntax error, unexpected ':', expecting ')'
...ent], :id => 'comment_field' :size => 200).to_s); @output_bu...
                              ^
Function body:           def _run_erb_app47views47businesses47referalform46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  form_tag '/businesses/sendemail' do ; @output_buffer.concat "\n"
@output_buffer.concat "<table>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "<label>Leave your email</label>\n"
@output_buffer.concat(( text_field_tag :email, params[:email], :id => 'email_field' :size => 70 ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "<label>Leave your comment</label>\n"
@output_buffer.concat(( text_field_tag :comment, params[:comment], :id => 'comment_field' :size => 200).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( submit_tag "Send" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/Ruby/Referme/app/views/businesses/referalform.html.erb:24:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
c:/Ruby/Referme/app/controllers/businesses_controller.rb:11:in `referalform'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/chunked.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:61:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
c:/Ruby/Referme/app/views/businesses/referalform.html.erb:6: syntax error, unexpected ':', expecting ')'
...email], :id => 'email_field' :size => 70 ).to_s); @output_bu...
                              ^
c:/Ruby/Referme/app/views/businesses/referalform.html.erb:12: syntax error, unexpected ':', expecting ')'
...ent], :id => 'comment_field' :size => 200).to_s); @output_bu...
                              ^) on line #6 of app/views/businesses/referalform.html.erb:
3: <tr>
4: <td>
5: <label>Leave your email</label>
6: <%= text_field_tag :email, params[:email], :id => 'email_field' :size => 70 %>
7: </td>
8: </tr>
9: <tr>

    app/views/businesses/referalform.html.erb:24:in `compile!'
    app/controllers/businesses_controller.rb:11:in `referalform'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:02:12) [GET]
Rendering businesses/referalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:03:28) [GET]
Rendering businesses/referalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:04:15) [GET]
Rendering businesses/referalform
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:04:38) [GET]
Rendering businesses/referalform
Completed in 75ms (View: 73, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:05:24) [GET]
Rendering businesses/referalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:05:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 64ms (View: 48, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:05:57) [GET]
Rendering businesses/referalform
Completed in 11ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:21:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 72ms (View: 53, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:21:10) [GET]
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 21:21:14) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "comment"=>"", "email"=>"yanji84@gmail.com"}

SyntaxError (c:/Ruby/Referme/app/models/mailer.rb:3: syntax error, unexpected tSTRING_BEG, expecting kEND
	@from "sender.address@example.com"
	       ^
c:/Ruby/Referme/app/models/mailer.rb:4: syntax error, unexpected tIDENTIFIER, expecting kEND
c:/Ruby/Referme/app/models/mailer.rb:5: syntax error, unexpected tSTRING_BEG, expecting kEND
	@subject "Hi #{recipient}"
	          ^
c:/Ruby/Referme/app/models/mailer.rb:6: syntax error, unexpected '(', expecting kEND
	@body(:recipient => recipient)
	      ^):
  app/controllers/businesses_controller.rb:15:in `sendemail'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:41:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (undefined local variable or method `businesses' for #<ActionView::Base:0x4c6c4c0>) on line #67 of app/views/businesses/show.html.erb:
64: </tr>
65: <tr>
66: <td>
67: <%= link_to "Contact Me", {:controller => businesses, :action => referalform, :id => @business.id}, :rel => 'gb_page_fs[]' %></td>
68: </tr>
69: <% end %>
70: </table>

    app/views/businesses/show.html.erb:67
    app/views/businesses/show.html.erb:49

Rendered rescues/_trace (143.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:42:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 73ms (View: 56, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:42:42) [GET]
  Parameters: {"id"=>"1"}

NameError (undefined local variable or method `param' for #<BusinessesController:0x41dd98c>):
  app/controllers/businesses_controller.rb:11:in `referalform'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:43:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 68ms (View: 48, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:43:18) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform/1

ActionView::MissingTemplate (Missing template businesses/referalform/1.erb in view path app/views):
  app/controllers/businesses_controller.rb:11:in `referalform'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:49:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 67ms (View: 49, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:49:21) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform

ActionView::TemplateError (undefined local variable or method `businesses' for #<ActionView::Base:0x4f0e0c0>) on line #1 of app/views/businesses/referalform.html.erb:
1: <% form_tag :controller => businesses, :action => sendemail, :id => @businessid do %>
2: <table>
3: <tr>
4: <td>

    app/views/businesses/referalform.html.erb:1
    app/controllers/businesses_controller.rb:12:in `referalform'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:49:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 68ms (View: 50, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:49:59) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 21:50:05) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"", "email"=>"yan"}

NameError (undefined local variable or method `param' for #<BusinessesController:0x4e7fa50>):
  app/controllers/businesses_controller.rb:16:in `sendemail'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:51:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 64ms (View: 47, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:51:37) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 21:51:42) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"aaa", "email"=>"yanji84@gmail.com"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m

NoMethodError (undefined method `user' for #<Business:0x4f1238c>):
  app/controllers/businesses_controller.rb:17:in `sendemail'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:56:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 75ms (View: 58, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:57:03) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:58:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:00:09) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:03:57) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 10ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:04:04) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalala", "email"=>"yanji84@gmail.com"}

NameError (uninitialized constant BusinessesController::Referals):
  app/controllers/businesses_controller.rb:16:in `sendemail'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 22:04:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 124ms (View: 103, DB: 7) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:04:34) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:04:39) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalal", "email"=>"yanji84@gmail.com"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:04:39 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
lalal

Thanks
Completed in 1132ms (View: 1, DB: 2) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 22:08:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 67ms (View: 47, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:08:56) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:09:03) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalal", "email"=>"yanji84@gmail.com"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:09:03 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
lalal

Thanks
Completed in 1108ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:09:19) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalal", "email"=>"yanji84@gmail.com"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:09:19 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
lalal

Thanks
Completed in 1060ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 22:11:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 66ms (View: 50, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:11:31) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:11:49) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalala", "email"=>"yanji84@gmail.com"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:11:49 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
lalala

Thanks
Completed in 1044ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 22:20:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 126ms (View: 108, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:20:03) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:20:32) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"wallaal", "email"=>"yanji84@gmail.com"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:20:32 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
wallaal

Thanks
Completed in 1062ms (View: 1, DB: 2) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:22:59) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:23:03) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"fadfadf", "email"=>"yanji84@gmail.com"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:23:03 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
fadfadf

Thanks
Completed in 1050ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 386ms (View: 269, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:30:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 83ms (View: 72, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:30:44) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 38ms (View: 36, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:30:52) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaaa", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Sat, 19 Sep 2009 13:30:52 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
aaaa

Thanks
Completed in 610ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:33:19) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:33:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 48ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:33:24) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:33:28) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"llll", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Sat, 19 Sep 2009 13:33:28 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
llll

Thanks
Completed in 439ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:35:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 90ms (View: 78, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:35:52) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:35:57) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaaaa", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Sat, 19 Sep 2009 13:35:57 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
aaaaa

Thanks
Completed in 452ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:39:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 49ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-19 13:39:14) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 62ms (View: 53, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:39:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 52ms (View: 38, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:39:17) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:39:21) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"jkhj", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Sat, 19 Sep 2009 13:39:21 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
jkhj

Thanks
Completed in 489ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:54:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 55ms (View: 42, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:54:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:54:46) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"ad", "comment"=>"df", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 447ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:55:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 264ms (View: 175, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:55:36) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:55:37) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 5110ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:01:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 50ms (View: 37, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:01:26) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:01:39) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"Do you want to split $1000 with me?", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m

SyntaxError (c:/Referme/app/models/mailer.rb:6: syntax error, unexpected '(', expecting keyword_end
	@body(:senderemail => senderemail)
	      ^):
  app/controllers/businesses_controller.rb:17:in `sendemail'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (116.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:03:06) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:03:13) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"wanna split?", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ArgumentError (wrong number of arguments (1 for 3)):
  app/controllers/businesses_controller.rb:17:in `sendemail'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:04:22) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:04:27) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"lalala", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (117.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:06:15) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:06:20) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaa", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:07:51) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:07:54) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaa", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:08:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 51ms (View: 38, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:08:49) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:08:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"adf", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:10:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 50ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:10:32) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:10:33) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: no-reply@referme.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 2588ms (View: 1, DB: 2) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:10:48) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:10:49) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: no-reply@referme.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 2141ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:11:01) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:11:02) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: no-reply@referme.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 1752ms (View: 1, DB: 2) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:11:07) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:11:10) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (120.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:18:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 56ms (View: 42, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:18:36) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:18:40) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaa", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (120.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:20:37) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:20:42) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"wanna split?", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@wanna split?' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:27:13) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:27:16) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"adfadf", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `content' for #<ActionView::Base:0x4b230e0>) on line #3 of app/views/mailer/mail.rhtml:
1: Hi!
2: 
3: <%= content %>
4: 
5: Thanks

    app/views/mailer/mail.rhtml:3:in `_run_rhtml_app47views47mailer47mail46rhtml'
    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:27:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:27:44) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"aaaa", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `content' for #<ActionView::Base:0x399a300>) on line #3 of app/views/mailer/mail.rhtml:
1: Hi!
2: 
3: <%= content %>
4: 
5: Thanks

    app/views/mailer/mail.rhtml:3:in `_run_rhtml_app47views47mailer47mail46rhtml'
    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:28:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 55ms (View: 39, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:28:11) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:28:15) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"lalala", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `content' for #<ActionView::Base:0x4588e20>) on line #3 of app/views/mailer/mail.rhtml:
1: Hi!
2: 
3: <%= content %>
4: 
5: Thanks

    app/views/mailer/mail.rhtml:3:in `_run_rhtml_app47views47mailer47mail46rhtml'
    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:32:40) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:32:42) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: no-reply@referme.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 2018ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:34:46) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 46ms (View: 44, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:36:34) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:37:58) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:38:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 59ms (View: 44, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:38:04) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:38:16) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:46:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 66ms (View: 55, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:46:31) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-19 14:46:34) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/requestform
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/requestform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 18:38:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 57ms (View: 42, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 18:43:24) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 16, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-19 18:43:34) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 39ms (View: 29, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 18:43:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 48ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 19:44:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 104ms (View: 90, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 19:44:19) [GET]

ActionController::RoutingError (No route matches "/business/createreferalform" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 19:46:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 59ms (View: 46, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-19 19:46:12) [GET]
Rendering businesses/createreferalform
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/createreferalform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-19 19:46:18) [GET]
Rendering businesses/createrequestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 19:46:34) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (44.0ms)[0m   [0mALTER TABLE "users" ADD "password" varchar(255)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090920025709')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("businesses")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 20:05:45) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47home47index46html46erb RAISED c:/Referme/app/views/home/index.html.erb:1: syntax error, unexpected ':', expecting ')'
...r.concat(( link_to "New User" :controller => 'users', :actio...
...                               ^
c:/Referme/app/views/home/index.html.erb:1: syntax error, unexpected ',', expecting ')'
...w User" :controller => 'users', :action => 'create' ).to_s);...
...                               ^
Function body:           def _run_erb_app47views47home47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( link_to "New User" :controller => 'users', :action => 'create' ).to_s); @output_buffer.concat "\n"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/home/index.html.erb:1: syntax error, unexpected ':', expecting ')'
...r.concat(( link_to "New User" :controller => 'users', :actio...
...                               ^
c:/Referme/app/views/home/index.html.erb:1: syntax error, unexpected ',', expecting ')'
...w User" :controller => 'users', :action => 'create' ).to_s);...
...                               ^) on line #1 of app/views/home/index.html.erb:
1: <%= link_to "New User" :controller => 'users', :action => 'create' %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 20:06:03) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:06:05) [GET]

ActionController::RoutingError (No route matches "/users/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 20:07:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:07:27) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:13:56) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:13:58) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:13:59) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:40:19) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:40:24) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:40:26) [GET]

ActionController::RoutingError (No route matches "/users/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:40:41) [GET]

ActionController::RoutingError (No route matches "/users/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:40:45) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:40:46) [GET]

ActionController::RoutingError (No route matches "/user/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:42:24) [GET]

ActionController::RoutingError (No route matches "/user/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:43:03) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 13:43:05) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:43:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:43:29) [GET]

ActionController::RoutingError (No route matches "/users" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:47:49) [GET]

ActionController::RoutingError (No route matches "/users" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:47:50) [GET]

ActionController::RoutingError (No route matches "/users" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:48:42) [GET]

ActionController::RoutingError (No route matches "/users" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:51:38) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:51:39) [GET]

ActionController::RoutingError (No route matches "/users/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 13:57:26) [GET]
Rendering template within layouts/application
Rendering users/create
Completed in 18ms (View: 17, DB: 0) | 200 OK [http://localhost/users/create]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:01:37) [GET]
Rendering template within layouts/application
Rendering users/create
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:03:14) [GET]
Rendering template within layouts/application
Rendering users/create
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:03:24) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering users/create
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/users/create]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:04:11) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering users/create
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:05) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:15) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:17) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:17) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:21) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:42) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 71ms (View: 69, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:44) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:07:28) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create

ActionView::TemplateError (undefined local variable or method `new' for #<ActionView::Base:0x9d80aa0>) on line #1 of app/views/users/create.html.erb:
1: <% form_for :user, :controller => :users, :action => new do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:3:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:07:52) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create

ActionView::TemplateError (undefined local variable or method `users' for #<ActionView::Base:0x986d580>) on line #1 of app/views/users/create.html.erb:
1: <% form_for :user, :controller => users, :action => new do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:3:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:08:50) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:08:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:08:54) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:01) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:01) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:01) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:17) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:33) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:33) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "usjher"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 14:10:37) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:38) [GET]
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:40) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "usjher"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:40) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "usjher"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 14:17:29) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:17:30) [GET]
Rendering users/create

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x2eb7c20>) on line #1 of app/views/users/create.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:4:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:19:16) [GET]
Rendering users/create
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:19:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"New"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:19:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"New"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:21:51) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"New"}
Rendering users/create

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x97c9ae0>) on line #1 of app/views/users/create.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:4:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:24:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"New"}
Rendering users/create

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x88c17e0>) on line #1 of app/views/users/create.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:4:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (84.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 14:29:33) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 14:29:34) [GET]

ActionView::MissingTemplate (Missing template users/new.erb in view path app/views):
  app/controllers/users_controller.rb:11:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 14:30:11) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x3b83840>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:01:41) [GET]
Rendering users/new
Completed in 15ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:01:42) [GET]
Rendering users/new
Completed in 9ms (View: 1, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:01:48) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x9ced540>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:25:48) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x96ba9c0>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 15:26:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:26:01) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x74684c0>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:26:51) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x3c3b3e0>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:29:45) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x300a800>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:30:45) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x99a2980>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 15:30:50) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:30:52) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x8d77420>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:42:19) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x496aa60>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-09-20 15:42:22) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create and new):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 15:42:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:42:27) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x37d7de0>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (151.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 15:46:04) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:46:06) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:46:10) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:51:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:52:45) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:53:50) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:53:51) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:55:37) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 16:08:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 16:08:48) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 16:08:49) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 16:08:51) [GET]
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES(NULL, NULL, NULL, NULL, NULL, '2009-09-20 23:08:51', '2009-09-20 23:08:51', NULL)[0m
Completed in 25ms (View: 2, DB: 1) | 200 OK [http://localhost/users/create]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 16:11:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 16:11:59) [GET]
Rendering users/new
Completed in 57ms (View: 49, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 16:12:05) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('Ji', 'yanji84@gmail.com', NULL, NULL, NULL, '2009-09-20 23:12:05', '2009-09-20 23:12:05', 'yyyyyy')[0m
Completed in 51ms (View: 2, DB: 1) | 200 OK [http://localhost/users/create]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 16:20:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-20 16:21:23) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 16:21:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 51ms (View: 38, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:21:31) [GET]
Rendering businesses/createreferalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform]


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 16:21:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-20 16:25:46) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 16:25:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 49ms (View: 39, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:25:57) [GET]
Rendering businesses/createreferalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 16:26:22) [GET]
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 16:32:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 58ms (View: 44, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:32:47) [GET]
Rendering businesses/createreferalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-20 16:33:05) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 16:43:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 50ms (View: 37, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:43:26) [GET]

NoMethodError (undefined method `login_required' for #<BusinessesController:0x6c766c0>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 16:43:51) [GET]
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:44:02) [GET]

NoMethodError (undefined method `login_required' for #<BusinessesController:0x454d840>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 17:06:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 17:06:50) [GET]
Rendering users/new
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 17:41:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 75ms (View: 73, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:41:55) [GET]
Rendering template within layouts/application
Rendering users/login
Completed in 20ms (View: 18, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:43:23) [GET]
Rendering users/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:44:22) [GET]
Rendering users/login
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 17:44:30) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:44:33) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 17:44:36) [GET]
Rendering users/new
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 17:54:54) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:54:59) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 20:21:27) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 20:21:29) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 20:21:37) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 20:58:03) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 20:58:17) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"yyyyyy", "commit"=>"login"}

ActionView::MissingTemplate (Missing template users/processlogin.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:02:34) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"yyyyyy", "commit"=>"login"}

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/models/user.rb:10:in `authenticate'
  app/controllers/users_controller.rb:21:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:06:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:07:00) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x44fdb00>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 21:07:06) [GET]
Rendering users/new
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:07:08) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x31d42e0>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (113.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:07:15) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x9bdf460>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:08:49) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x9836900>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:08:53) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 21:08:54) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:08:57) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x881e440>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:09:21) [GET]

NoMethodError (undefined method `username=' for #<User:0x49f6ee0>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:10:27) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:10:29) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:10:56) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:10:59) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aaa", "password"=>"aaa", "commit"=>"login"}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `find_by_username_and_password' for #<Class:0x3871b40>):
  app/models/user.rb:10:in `authenticate'
  app/controllers/users_controller.rb:21:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:24:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:24:28) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:24:34) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"aaa", "commit"=>"login"}
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `find_by_username_and_password' for #<Class:0x9af8780>):
  app/models/user.rb:11:in `authenticate'
  app/controllers/users_controller.rb:21:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:27:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:27:57) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:28:00) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aaa", "password"=>"aaa", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = NULL and password = 'aaa') [0m
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:28:07) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = NULL and password = 'yyyyyy') [0m
Completed in 10ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:28:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = NULL and password = 'yyyyyy') [0m
Completed in 10ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:30:32) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

NoMethodError (undefined method `id' for true:TrueClass):
  app/controllers/users_controller.rb:22:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:43:18) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-20 21:43:22) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 64ms (View: 54, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 21:43:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 51ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 21:43:34) [GET]

NoMethodError (undefined method `login_required' for #<BusinessesController:0x3b8a6a0>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 21:43:38) [GET]
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 21:46:43) [GET]
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-20 21:46:54) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/requestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/requestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 21:47:04) [GET]
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 21:47:12) [GET]
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:19:38) [GET]
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:19:49) [GET]
Rendering businesses/createrequestform
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:20:24) [GET]
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 22:30:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 62ms (View: 49, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:30:55) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:31:05) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"200", "description"=>"lalala"}, "commit"=>"Create", "id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:31:07) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create", "id"=>"1"}
Rendering businesses/createrequestform
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" [0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 22:34:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 52ms (View: 40, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:34:11) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest", :id => @businessid } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:36:19) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest", :id => @businessid } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:36:38) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 22:37:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:37:10) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 22:37:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 53ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:37:51) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:53:03) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:05:44) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:05:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 75ms (View: 40, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:05:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:05:58) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (122.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (30.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mBusiness Load (8.0ms)[0m   [0mSELECT * FROM "businesses" [0m


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:08:41) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:08:46) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (199.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:08:59) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:09:57) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest", :id => @businessid } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (49.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:12:10) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:14:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m

ActionView::TemplateError (undefined method `id' for :@business:Symbol) on line #23 of app/views/businesses/show.html.erb:
20: <%= "#{@business.referals.count} Referals" %>
21: </td>
22: <td>
23: <%= link_to "New Referal", {:controller => :businesses, :action => :createreferalform, :id => :@business.id}, :rel => 'gb_page_center[640,480]' %></td>
24: </td>
25: </tr>
26: <% @business.referals.each do |referal| %>

    app/views/businesses/show.html.erb:23
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:14:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:14:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 22, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:14:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m

ActionView::TemplateError (undefined method `id' for :@business:Symbol) on line #23 of app/views/businesses/show.html.erb:
20: <%= "#{@business.referals.count} Referals" %>
21: </td>
22: <td>
23: <%= link_to "New Referal", {:controller => :businesses, :action => :createreferalform, :id => :@business.id}, :rel => 'gb_page_center[640,480]' %></td>
24: </td>
25: </tr>
26: <% @business.referals.each do |referal| %>

    app/views/businesses/show.html.erb:23
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:15:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 77ms (View: 65, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:15:34) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:16:07) [GET]
Rendering businesses/createrequestform
Completed in 9ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:16:37) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "creerequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:17:29) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (148.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:17:46) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2: <% end %>

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:17:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 56ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:17:51) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2: <% end %>

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:18:17) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @referal, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:18:28) [GET]
Rendering businesses/createrequestform
Completed in 56ms (View: 54, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:18:53) [GET]
Rendering businesses/createrequestform
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:18:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 117ms (View: 104, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:20:11) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 25ms (View: 24, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:20:15) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 329ms (View: 225, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:20:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 57ms (View: 42, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:20:19) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:20:26) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:20:55) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:21:06) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-21 17:21:23) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"400", "description"=>"want to split 400 dollars"}, "commit"=>"Create", "id"=>"1"}

NoMethodError (undefined method `save' for #<ActionController::Request:0x39817e0>):
  app/controllers/businesses_controller.rb:56:in `createrequest'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:21:49) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:21:58) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-21 17:22:07) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"400", "description"=>"want to split 400 dollars"}, "commit"=>"Create", "id"=>"1"}
  [4;36;1mRequest Create (25.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'want to split 400 dollars', 400, NULL, 1, '2009-09-22 00:22:07', '2009-09-22 00:22:07')[0m
Completed in 52ms (View: 2, DB: 25) | 200 OK [http://localhost/businesses/createrequest/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:22:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #72 of app/views/businesses/show.html.erb:
69: </tr>
70: <tr>
71: <td>
72: <%= request.user.displayname %>
73: </td>
74: </tr>
75: <tr>

    app/views/businesses/show.html.erb:72:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:59
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (84.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:25:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #74 of app/views/businesses/show.html.erb:
71: <td>
72: <%=
73: 
74: if request.user.displayname != nil?
75:   request.user.displayname
76: end
77: 

    app/views/businesses/show.html.erb:74:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:59
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:25:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #75 of app/views/businesses/show.html.erb:
72: <%=
73: 
74: if request.user != nil?
75:   request.user.displayname
76: end
77: 
78: %>

    app/views/businesses/show.html.erb:75:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:59
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:27:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 43, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:28:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 38, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:28:51) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-21 17:28:59) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"600", "description"=>"want to split 600 dollars"}, "commit"=>"Create", "id"=>"1"}
  [4;36;1mRequest Create (1.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'want to split 600 dollars', 600, NULL, 1, '2009-09-22 00:28:59', '2009-09-22 00:28:59')[0m
Completed in 20ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses/createrequest/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:29:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 84ms (View: 71, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:29:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 64ms (View: 49, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:29:10) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 38, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-21 17:29:15) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x3949960>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:29:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:30:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 16, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:31:14) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:31:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:31:24) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 32ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:31:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 51ms (View: 39, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:31:29) [GET]
Rendering users/new
Completed in 27ms (View: 19, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:31:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:32:10) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:32:28) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 23, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:32:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 39, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:35:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 18, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-21 17:35:14) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-21 17:35:17) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:35:22) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:36:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:36:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:36:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:36:40) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:36:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 39, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:36:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:36:52) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:36:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 84ms (View: 71, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:37:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-21 17:37:16) [GET]
Rendering users/login
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:48:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:00) [GET]
Rendering users/new
ERROR: compiling _run_erb_app47views47users47new46html46erb RAISED c:/Referme/app/views/users/new.html.erb:24: syntax error, unexpected '{', expecting ')'
...uffer.concat(( link_to "back" {:controller => :home, :action...
...                               ^
Function body:           def _run_erb_app47views47users47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  form_for @user, :url => { :controller => "users", :action => "create" } do |u| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( u.error_messages ).to_s); @output_buffer.concat "\n  <p>\n    "

; @output_buffer.concat(( u.label :displayname ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :displayname ).to_s); @output_buffer.concat "\n  </p>\n  \n  <p>\n    "



; @output_buffer.concat(( u.label :email ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :email ).to_s); @output_buffer.concat "\n  </p>\n  \n  <p>\n    "



; @output_buffer.concat(( u.label :password ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :password ).to_s); @output_buffer.concat "\n  </p>  \n  \n  <p>\n    "



; @output_buffer.concat(( u.submit "Create" ).to_s); @output_buffer.concat "\n  </p>\n  \n  <br />\n  \n  "




; @output_buffer.concat(( link_to "back" {:controller => :home, :action => :index} ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:983:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/Referme/app/controllers/users_controller.rb:11:in `new'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/users/new.html.erb:24: syntax error, unexpected '{', expecting ')'
...uffer.concat(( link_to "back" {:controller => :home, :action...
...                               ^) on line #24 of app/views/users/new.html.erb:
21:   
22:   <br />
23:   
24:   <%= link_to "back" {:controller => :home, :action => :index} %>
25: <% end %>

    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:15) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:17) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:18) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:39) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:41) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:42) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:53:34) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:53:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:53:37) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:53:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-21 17:53:57) [GET]
Rendering users/login
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:53:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:54:00) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:54:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:54:04) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:54:07) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-21 17:54:08) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-21 17:54:12) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'ji' and password = 'yyyyyy') [0m
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:54:42) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:59:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 37, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:50) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 18:03:53) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:54) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-21 18:03:55) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:57) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:04:01) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 25, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:04:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 37, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:10:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:10:45) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:10:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:11:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:11:06) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:11:21) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:11:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 18:11:23) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:11:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:11:29) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:11:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:16:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 46ms (View: 34, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:23:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 46, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:25:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:25:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 39, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:25:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 37, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:35:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 47, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:35:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 38, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:35:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 37, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:37:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:38:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:38:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 38, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:39:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 44, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:40:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 67ms (View: 52, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:41:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 47, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:41:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 111ms (View: 96, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:43:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 65ms (View: 52, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:43:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 44, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:45:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 48, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:45:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 38, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:45:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:45:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:45:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 37, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:46:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:47:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 46ms (View: 35, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:48:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:49:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:59: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n<tr>\n<td>\n"


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n<hr/>\n</td>\n</tr>\n<tr>\n<td>\n<table>\n<tr>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"












; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n</td>\n</tr>\n<td>\n"



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n"
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>\n</td>\n\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</table>"









; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:59: syntax error, unexpected keyword_ensure, expecting $end) on line #59 of app/views/businesses/show.html.erb:
56: </table>
57: </td>
58: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:49:28) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 22, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:49:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:57: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n<tr>\n<td>\n"


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n<hr/>\n</td>\n</tr>\n<tr>\n<td>\n<table>\n<tr>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"












; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n</td>\n</tr>\n<td>\n"



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n"
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</table>"









; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:57: syntax error, unexpected keyword_ensure, expecting $end) on line #57 of app/views/businesses/show.html.erb:
54: </table>
55: </td>
56: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:49:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:50:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:61: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n<tr>\n<td>\n"


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n<hr/>\n</td>\n</tr>\n<tr>\n<td>\n<table>\n<tr>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"












; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n</td>\n</tr>\n<td>\n"



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n"
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n<td>\n</td>\n</tr>\n"






;  end ; @output_buffer.concat "\n</table>\n</td>\n\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</table>"









; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:61: syntax error, unexpected keyword_ensure, expecting $end) on line #61 of app/views/businesses/show.html.erb:
58: </table>
59: </td>
60: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (76.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:50:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 67ms (View: 53, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:51:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 61ms (View: 49, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:51:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 47, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:52:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:52:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:53:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:57: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n<tr>\n<td>\n"


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n<hr/>\n</td>\n</tr>\n<tr>\n<td>\n<table>\n<tr>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"












; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n</td>\n</tr>\n<td>\n"



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n"
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</table>"









; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:57: syntax error, unexpected keyword_ensure, expecting $end) on line #57 of app/views/businesses/show.html.erb:
54: </table>
55: </td>
56: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:00:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 43, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:03:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 47, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:03:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 89ms (View: 79, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:03:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:50: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n  <tr>\n  <td>\n    "


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n    "
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n    <hr/>\n  </td>\n  </tr>\n  <tr>\n  <td>\n    <table>\n    <tr>\n    <td valign=\"top\">\n      <table>\n      <tr>\n      <td>\n        "











; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n      </td>\n      <td>\n        "


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n      </td>\n      </tr>\n    <td>\n      "



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n      "
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n      "
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n      "
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n      "
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n    </td>\n    </tr>\n    "


;  end ; @output_buffer.concat "\n    </table>\n  </td>\n\n  <td valign=\"top\">\n    <table>\n      <tr>\n      <td>\n        "







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n      </td>\n      <td>\n        "


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n      </td>\n      </tr>\n    "


;  end ; @output_buffer.concat "\n    </table>\n  </td>\n  </tr>\n</table>"



; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:50: syntax error, unexpected keyword_ensure, expecting $end) on line #50 of app/views/businesses/show.html.erb:
47:   </td>
48:   </tr>
49: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:04:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 43, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:05:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 113ms (View: 98, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:05:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 19:05:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 19:05:41) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 38ms (View: 27, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:05:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 40, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:04:47) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x4d6b920>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 01:05:29) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:05:32) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:05:41) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:05:43) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'ji' and password = 'yyyyyy') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:10:22) [GET]
Rendering users/login
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:10:30) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

NoMethodError (undefined method `id' for true:TrueClass):
  app/controllers/users_controller.rb:22:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:14:52) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

NameError (undefined local variable or method `user' for #<UsersController:0x4a9bdc0>):
  app/controllers/users_controller.rb:22:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:15:34) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Completed in 13ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:18:07) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

ActionController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  app/controllers/users_controller.rb:24:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (101.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:23:29) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 9ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:23:29) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:23:32) [GET]
Rendering users/login
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:23:35) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aaa", "password"=>"a", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'aaa' and password = 'a') [0m
Redirected to http://localhost:3000/user/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 01:23:35) [GET]

ActionController::RoutingError (No route matches "/user/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 01:23:52) [GET]

ActionController::RoutingError (No route matches "/user/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 01:23:53) [GET]

ActionController::RoutingError (No route matches "/user/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:23:55) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aaa", "password"=>"a", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'aaa' and password = 'a') [0m
Redirected to http://localhost:3000/users/login
Completed in 8ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:23:55) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:24:35) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aa", "password"=>"aa", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'aa' and password = 'aa') [0m
Redirected to http://localhost:3000/users/login
Completed in 9ms (DB: 0) | 302 Found [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:24:35) [GET]
Rendering users/login
Completed in 14ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:24:59) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 10ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:24:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 01:25:29) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:25:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:25:33) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x3b29e20>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:26:39) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x31a6ba0>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (100.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:27:56) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x4a32800>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:28:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:28:49) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:30:32) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:30:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 01:30:46) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:30:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 39, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:30:49) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:31:55) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:33:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...concat(( if session[:id] <= 0 ).to_s); @output_buffer.concat...
...                               ^
c:/Referme/app/views/layouts/application.html.erb:26: syntax error, unexpected keyword_else
; @output_buffer.concat(( else ).to_s); @output_buffer.conc...
                              ^
c:/Referme/app/views/layouts/application.html.erb:28: syntax error, unexpected keyword_end
; @output_buffer.concat(( end ).to_s); @output_buffer.conc...
                             ^
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t</head>\n\t<body>\n\t\t<table border=\"1\" class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t<label>Location (<span>e.g. Redmond, WA</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :location, params[:city], :id => 'city_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "new user", :controller => "users", :action => "new" ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( if session[:id] <= 0 ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "login", :controller => "users", :action => "login" ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( else ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "logout", :controller => "users", :action => "logout" ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( end ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





; @output_buffer.concat(( link_to "home", :controller => "home", :action => "index" ).to_s); @output_buffer.concat "\t\t\t\t\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...concat(( if session[:id] <= 0 ).to_s); @output_buffer.concat...
...                               ^
c:/Referme/app/views/layouts/application.html.erb:26: syntax error, unexpected keyword_else
; @output_buffer.concat(( else ).to_s); @output_buffer.conc...
                              ^
c:/Referme/app/views/layouts/application.html.erb:28: syntax error, unexpected keyword_end
; @output_buffer.concat(( end ).to_s); @output_buffer.conc...
                             ^) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<%= if session[:id] <= 0 %>
25: 				<%= link_to "login", :controller => "users", :action => "login" %>
26: 				<%= else %>
27: 				<%= link_to "logout", :controller => "users", :action => "logout" %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:38:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 98ms (View: 86, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:38:22) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:47:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
                                     ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when > 0 ;  @login = "login"  ; @...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t</head>\n\t<body>\n\t\t<table border=\"1\" class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t<label>Location (<span>e.g. Redmond, WA</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :location, params[:city], :id => 'city_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "new user", :controller => "users", :action => "new" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
;      when > 0 ;  @login = "login"  ; @output_buffer.concat "\n\t\t\t\t"
;      else        @login = "logout" ; @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to @login, :controller => "users", :action => @login ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





; @output_buffer.concat(( link_to "home", :controller => "home", :action => "index" ).to_s); @output_buffer.concat "\t\t\t\t\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
                                     ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when > 0 ;  @login = "login"  ; @...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<% case session[:id] %>
25: 				<%     when > 0 ;  @login = "login"  %>
26: 				<%     else        @login = "logout" %>
27: 				<% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:48:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
                                     ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when 0 ;  @login = "login"  ; @ou...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t</head>\n\t<body>\n\t\t<table border=\"1\" class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t<label>Location (<span>e.g. Redmond, WA</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :location, params[:city], :id => 'city_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "new user", :controller => "users", :action => "new" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
;      when 0 ;  @login = "login"  ; @output_buffer.concat "\n\t\t\t\t"
;      else        @login = "logout" ; @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to @login, :controller => "users", :action => @login ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





; @output_buffer.concat(( link_to "home", :controller => "home", :action => "index" ).to_s); @output_buffer.concat "\t\t\t\t\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
                                     ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when 0 ;  @login = "login"  ; @ou...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<% case session[:id] %>
25: 				<%     when 0 ;  @login = "login"  %>
26: 				<%     else        @login = "logout" %>
27: 				<% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:48:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case 1 ; @output_buffer.concat "\n\t\t\t\t"
                          ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when 0 ;  @login = "login"  ; @ou...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t</head>\n\t<body>\n\t\t<table border=\"1\" class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t<label>Location (<span>e.g. Redmond, WA</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :location, params[:city], :id => 'city_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "new user", :controller => "users", :action => "new" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  case 1 ; @output_buffer.concat "\n\t\t\t\t"
;      when 0 ;  @login = "login"  ; @output_buffer.concat "\n\t\t\t\t"
;      else        @login = "logout" ; @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to @login, :controller => "users", :action => @login ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





; @output_buffer.concat(( link_to "home", :controller => "home", :action => "index" ).to_s); @output_buffer.concat "\t\t\t\t\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case 1 ; @output_buffer.concat "\n\t\t\t\t"
                          ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when 0 ;  @login = "login"  ; @ou...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<% case 1 %>
25: 				<%     when 0 ;  @login = "login"  %>
26: 				<%     else        @login = "logout" %>
27: 				<% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (117.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:56:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 01:57:30) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:57:31) [GET]
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.>) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<%= loginlabel %>
25: 			</td>
26: 		</tr>
27: 		<tr>

    app/helpers/application_helper.rb:4:in `loginlabel'
    app/views/layouts/application.html.erb:24
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:57:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:57:51) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:57:55) [POST]
  Parameters: {"authenticity_token"=>"8p2ZEUNVuEB8S9t0fawDS3Ar5RCkxBfF1foDsmNIZWk=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 10ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:57:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 01:58:03) [POST]
  Parameters: {"authenticity_token"=>"8p2ZEUNVuEB8S9t0fawDS3Ar5RCkxBfF1foDsmNIZWk=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:58:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 36, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:58:07) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:59:38) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 01:59:41) [GET]
Redirected to http://localhost:3000/home
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:59:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 01:59:57) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 69ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:59:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 41, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:00:00) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 02:01:56) [GET]
Rendering users/login
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 02:02:01) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 10ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 02:02:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 02:02:06) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 35ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 02:02:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 43, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:02:11) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 44ms (View: 42, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:02:21) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "referal"=>{"offerprice"=>"400", "description"=>"i have 400 dollars to give"}, "commit"=>"Create", "id"=>"1"}
Rendering businesses/createreferalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:02:46) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createreferalform.html.erb:
1: <% form_for @referal, :controller => :businesses, :action => :createreferal, :id => @businessid do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :offerprice %> <br />

    app/views/businesses/createreferalform.html.erb:1
    app/controllers/businesses_controller.rb:45:in `createreferalform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 02:02:50) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:03:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferal (for 127.0.0.1 at 2009-09-22 02:03:49) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "referal"=>{"offerprice"=>"400", "description"=>"I can give u 400 dollars"}, "commit"=>"Create", "id"=>"1"}
  [4;35;1mReferal Create (1.0ms)[0m   [0mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'I can give u 400 dollars', 400, 4, 1, '2009-09-22 09:03:50', '2009-09-22 09:03:50')[0m
Completed in 19ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses/createreferal/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 02:03:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 92ms (View: 79, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 02:04:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 11:48:46) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:48:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 11:48:54) [POST]
  Parameters: {"authenticity_token"=>"mHhGPx7nte9cmqQ2+fUdHqo+yepv71iKxu7hEMnQzMA=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 37ms (View: 26, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 11:48:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 11:48:59) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 11:49:08) [GET]
Rendering users/login
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:49:10) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 11:52:00) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:52:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 11:52:04) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:52:05) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 11:57:17) [GET]
Rendering users/login
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:57:19) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 11:57:28) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:57:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:43:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:43:03) [GET]
  Parameters: {"rel"=>"gb_page_center[640,480]"}
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login?rel=gb_page_center%5B640%2C480%5D]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:43:04) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:44:44) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:44:45) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:45:15) [GET]
Rendering users/login
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:45:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:45:29) [GET]
Rendering users/login
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 12:45:41) [POST]
  Parameters: {"authenticity_token"=>"mHhGPx7nte9cmqQ2+fUdHqo+yepv71iKxu7hEMnQzMA=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 35ms (View: 24, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 12:45:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 41, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:45:45) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/users/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:45:45) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:46:06) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/users/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:46:06) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 12:46:08) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:46:13) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/users/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:46:13) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:46:22) [GET]
Rendering users/login
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:46:26) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/users/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:46:26) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 12:46:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 65ms (View: 52, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:46:58) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:47:02) [GET]
Rendering users/login
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 12:47:09) [POST]
  Parameters: {"authenticity_token"=>"mHhGPx7nte9cmqQ2+fUdHqo+yepv71iKxu7hEMnQzMA=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 11ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:47:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 12:47:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 93ms (View: 81, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 12:48:35) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:48:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:48:41) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 12:48:46) [POST]
  Parameters: {"authenticity_token"=>"ZUJ9bzNpkXAWVCwsf2KbCSsPFHCSlZXNDcExY1PtWLM=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Completed in 11ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:48:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 12:49:14) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:49:14) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:51:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:51:52) [GET]
Rendering users/login
Completed in 20ms (View: 9, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 12:52:02) [POST]
  Parameters: {"authenticity_token"=>"0XkZ61QW+jtCy5U8DFtLowwzMckNb1+sMvwZ/2LGgSc=", "username"=>"Ji", "password"=>"aaaa", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'aaaa') [0m
Redirected to http://localhost:3000/users/login
Completed in 11ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:52:02) [GET]
Rendering users/login
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:16:11) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:16:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:19:50) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:19:52) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 13:19:58) [POST]
  Parameters: {"authenticity_token"=>"0XkZ61QW+jtCy5U8DFtLowwzMckNb1+sMvwZ/2LGgSc=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

ActionView::MissingTemplate (Missing template users/_refreshparent.erb in view path app/views):
  app/controllers/users_controller.rb:32:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:21:23) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 13:21:29) [POST]
  Parameters: {"authenticity_token"=>"0XkZ61QW+jtCy5U8DFtLowwzMckNb1+sMvwZ/2LGgSc=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (1.0ms)
Completed in 84ms (View: 73, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:22:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 13:22:41) [GET]
Redirected to http://localhost:3000/home
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:22:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:22:42) [GET]
Rendering users/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 13:22:49) [POST]
  Parameters: {"authenticity_token"=>"fsNOQIoqy+LhDOIzWTJfO1onL2If8XfG4aQA2CfJ8oE=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (1.0ms)
Completed in 23ms (View: 11, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:22:56) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 13:22:56) [GET]
Redirected to http://localhost:3000/home
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:22:56) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:22:58) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:50:48) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:56:58) [GET]
Rendering users/login
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 13:58:48) [POST]
  Parameters: {"authenticity_token"=>"pexAVG7ZwmXWiF4r+OFPyHvjWpUxxQC4vFt/HAOI/Ac=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (20.0ms)
Completed in 38ms (View: 28, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:01:28) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:01:29) [POST]
  Parameters: {"authenticity_token"=>"pexAVG7ZwmXWiF4r+OFPyHvjWpUxxQC4vFt/HAOI/Ac=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (0.0ms)
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:02:16) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:02:17) [POST]
  Parameters: {"authenticity_token"=>"pexAVG7ZwmXWiF4r+OFPyHvjWpUxxQC4vFt/HAOI/Ac=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (1.0ms)
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:02:33) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:02:34) [POST]
  Parameters: {"authenticity_token"=>"pexAVG7ZwmXWiF4r+OFPyHvjWpUxxQC4vFt/HAOI/Ac=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (1.0ms)
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:02:34) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 14:02:36) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:02:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:02:38) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:02:39) [POST]
  Parameters: {"authenticity_token"=>"UW6npOBfFxvtiQpnyZILgFgpKYYmUMyM2SXNkTlMsX4=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (0.0ms)
Completed in 14ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:02:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 8, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 14:10:46) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:10:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:10:47) [GET]
Rendering users/login
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:10:48) [POST]
  Parameters: {"authenticity_token"=>"eFPwauuu9KFnHNTkOPUynSagRdHS5Vc355/jKUYA2ik=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:10:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 14:13:24) [POST]
  Parameters: {"authenticity_token"=>"eFPwauuu9KFnHNTkOPUynSagRdHS5Vc355/jKUYA2ik=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 72ms (View: 62, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 14:13:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 14:13:29) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 14:16:22) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferal (for 127.0.0.1 at 2009-09-22 14:16:30) [POST]
  Parameters: {"authenticity_token"=>"eFPwauuu9KFnHNTkOPUynSagRdHS5Vc355/jKUYA2ik=", "referal"=>{"offerprice"=>"400", "description"=>"another 400 bucks"}, "commit"=>"Create", "id"=>"1"}
  [4;35;1mReferal Create (2.0ms)[0m   [0mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'another 400 bucks', 400, 4, 1, '2009-09-22 21:16:30', '2009-09-22 21:16:30')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 22ms (View: 3, DB: 2) | 200 OK [http://localhost/businesses/createreferal/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 14:16:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 43, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 14:16:39) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 14:16:49) [POST]
  Parameters: {"authenticity_token"=>"eFPwauuu9KFnHNTkOPUynSagRdHS5Vc355/jKUYA2ik=", "request"=>{"askprice"=>"900", "description"=>"u want 900 bucks?"}, "commit"=>"Create", "id"=>"1"}
  [4;36;1mRequest Create (2.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'u want 900 bucks?', 900, NULL, 1, '2009-09-22 21:16:49', '2009-09-22 21:16:49')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 2) | 200 OK [http://localhost/businesses/createrequest/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 14:16:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 67ms (View: 51, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:11:36) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:11:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:11:42) [POST]
  Parameters: {"authenticity_token"=>"IHHdR+YS6blIU4AF8M5Ieq23HWgHLEFVDgGATAbx7tw=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 36ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:11:45) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:11:47) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:11:49) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:11:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:12:07) [GET]
Rendering users/login
Completed in 50ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:12:16) [POST]
  Parameters: {"authenticity_token"=>"IHHdR+YS6blIU4AF8M5Ieq23HWgHLEFVDgGATAbx7tw=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:12:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 15:12:56) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 15:13:05) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:15:21) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:15:22) [POST]
  Parameters: {"authenticity_token"=>"IHHdR+YS6blIU4AF8M5Ieq23HWgHLEFVDgGATAbx7tw=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:15:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 45, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:15:23) [GET]
Rendered layouts/_refreshparent (0.0ms)
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:18:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:18:42) [GET]
Rendering users/login
Completed in 14ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:18:43) [POST]
  Parameters: {"authenticity_token"=>"DpAzguDHalRWw5o+wqbJdEPO8RXiyQsFniQGzp3Ks2M=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:18:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 42, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:18:44) [GET]

NameError (undefined local variable or method `redirect_to_back' for #<UsersController:0x32a9a80>):
  app/controllers/users_controller.rb:25:in `logout'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (103.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:15) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 28ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:20:18) [GET]
Rendering users/login
Completed in 14ms (View: 3, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:20:19) [POST]
  Parameters: {"authenticity_token"=>"7Q/3+ZCkzq5u29KWDfUeW+gQGVGfROUCQtOyNd350XQ=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 3, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:19) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 41, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:20:22) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:20:23) [POST]
  Parameters: {"authenticity_token"=>"2d5Jtj3AnkWkAiZ//Ukn0ub3VSowF73nFyQUNnL0Ln0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:24) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:20:26) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:20:29) [POST]
  Parameters: {"authenticity_token"=>"/U5U6Uf9iIppZUFpxXXq8HqTmYZkqXGgmgKSYvVx0E0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:29) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 42, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:34) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 39, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:35) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 3ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:20:51) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:20:52) [POST]
  Parameters: {"authenticity_token"=>"rEVGzajauM4WIhBhYhIMXK1wC8BAQImN+kmvKgrlGHU=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:52) [GET]

ActionView::MissingTemplate (Missing template users/logout.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:21:19) [GET]
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:29:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:29:25) [GET]
Rendering users/login
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:29:26) [POST]
  Parameters: {"authenticity_token"=>"wkFBQf7F6sBhgMSgIb3kARG7uPs2M7Iu6jXhrKWr52A=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:29:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:29:31) [GET]
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/logout]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:29:51) [GET]
Redirected to http://localhost:3000/
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:29:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:29:56) [GET]
Rendering users/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:29:58) [POST]
  Parameters: {"authenticity_token"=>"IX7gAVRi24FM/+DyN7Xwc4wtpDn1vg9Z2rX7lP+aRMk=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:29:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:30:00) [GET]
Redirected to http://localhost:3000/
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:30:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:30:06) [POST]
  Parameters: {"authenticity_token"=>"fOp0ch3d8j0QxNVzWZPdic2sKRfdtSYuC75/CcBl0bc=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:30:07) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:30:10) [POST]
  Parameters: {"authenticity_token"=>"fOp0ch3d8j0QxNVzWZPdic2sKRfdtSYuC75/CcBl0bc=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 2) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:30:13) [POST]
  Parameters: {"authenticity_token"=>"fOp0ch3d8j0QxNVzWZPdic2sKRfdtSYuC75/CcBl0bc=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 51ms (View: 39, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:30:18) [GET]
Redirected to http://localhost:3000/businesses/search
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:30:18) [GET]

TypeError (can't convert nil into String):
  app/models/business.rb:5:in `+'
  app/models/business.rb:5:in `search'
  app/controllers/businesses_controller.rb:4:in `search'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 40, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:30:40) [GET]
Rendering users/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:30:42) [POST]
  Parameters: {"authenticity_token"=>"JD37MR/iLmGFHDQZZUY9nl4BGqoqCfClhezW1MV9o5M=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 64ms (View: 49, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:30:45) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 93ms (View: 79, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:30:46) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:30:47) [POST]
  Parameters: {"authenticity_token"=>"iEcBJmRbfiyHN9zz3/aHP51LBX9Yr/oDFCsDyViY7fU=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (2.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 39, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:30:49) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:31:08) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:31:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:31:25) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 71ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:31:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 43, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-22 15:32:40) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/requestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/requestform/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:32:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:33:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:33:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:34:17) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:34:42) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 49ms (View: 48, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:34:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:34:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:35:33) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:36:18) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:40:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:41:23) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:42:05) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:42:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:42:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:45:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:46:30) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:52:15) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:52:17) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 50ms (View: 49, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:52:17) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:52:19) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:53:14) [GET]
Rendering users/new
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:53:38) [GET]
Rendering users/new
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:53:59) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:54:02) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:54:04) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:54:20) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:54:21) [GET]
Rendering users/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:55:15) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:55:22) [GET]
Rendering users/login
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:55:32) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:56:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:57:13) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:58:38) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:58:40) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:59:34) [GET]
Rendering users/new
Completed in 22ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:59:46) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:00:01) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"wei", "email"=>"yanji84@gmail.com", "password"=>"1"}, "commit"=>"register"}

NoMethodError (undefined method `username' for #<User:0x49df740>):
  app/controllers/users_controller.rb:4:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:01:13) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:02:47) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:02:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:02:49) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:03:03) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"wei", "email"=>"yanji84@gmail.com", "password"=>"a"}, "commit"=>"register"}

NoMethodError (undefined method `username' for #<User:0x4a12440>):
  app/controllers/users_controller.rb:4:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (90.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:03:23) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:03:30) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:03:33) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:03:49) [GET]
Rendering users/new
Completed in 54ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:04:12) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:04:43) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"wei", "email"=>"yanji84@gmail.com", "password"=>"aaaaaa"}, "commit"=>"register"}

NoMethodError (undefined method `username' for #<User:0x4a0da00>):
  app/controllers/users_controller.rb:4:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (181.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:06:12) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:06:20) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"wei", "email"=>"yanji84@gmail.com", "password"=>"a"}, "commit"=>"register"}
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'wei') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 65ms (View: 11, DB: 2) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:06:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:10:58) [GET]
Rendering users/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:11:01) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('', 'Ji', NULL, NULL, NULL, '2009-09-22 23:11:01', '2009-09-22 23:11:01', 'yyyyyy')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 21ms (View: 3, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:11:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:11:26) [GET]
Rendering users/new
Completed in 22ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:11:31) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"Ji", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'Ji') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 20ms (DB: 0) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:11:31) [GET]
Rendering users/new
Completed in 15ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:11:59) [GET]
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:12:04) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"a"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 21ms (DB: 0) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:12:04) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:12:15) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"ggg", "email"=>"Ji", "password"=>""}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'ggg') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 20ms (DB: 1) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:12:15) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:12:20) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"ffffff"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 21ms (DB: 0) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:12:20) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:12:45) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:17:57) [GET]
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:20:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:20:26) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:20:27) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 20ms (DB: 0) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:20:27) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:23:06) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x49937a0>) on line #2 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for(@user) do |u| %>
3:   <%= u.error_messages %>
4:   <p>
5:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:14:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:24:19) [GET]
Rendering users/new
Completed in 30ms (View: 18, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:24:20) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 24ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:25:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:25:17) [GET]
Rendering users/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:25:18) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 22ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:28:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:28:26) [GET]
Rendering users/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:28:27) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 21ms (View: 2, DB: 1) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:30:13) [GET]
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:30:14) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 21ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:30:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:30:29) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:30:30) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 24ms (View: 5, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:37:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:37:52) [GET]
Rendering users/new
Completed in 20ms (View: 11, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:37:54) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}

ActionController::UnknownAction (No action responded to index. Actions: create, login, logout, new, and processlogin):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:38:06) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:38:10) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"register"}

ActionController::UnknownAction (No action responded to index. Actions: create, login, logout, new, and processlogin):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:40:27) [GET]
Rendering users/new
Completed in 60ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:40:28) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}

ActionView::MissingTemplate (Missing template users/index.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:40:51) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:40:52) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:42:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:42:23) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:42:24) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"Create"}
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:46:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:46:56) [GET]
Rendering users/new
Completed in 22ms (View: 14, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:46:57) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"Create"}
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:47:27) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:47:28) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `passwor_field' for #<ActionView::Helpers::FormBuilder:0x49706e0>) on line #15 of app/views/users/new.html.erb:
12:   
13:   <p>
14:     <%= u.label :password %> <br />
15:     <%= u.passwor_field :password %>
16:   </p>  
17:   
18:   <p>

    app/views/users/new.html.erb:15:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:47:45) [GET]
Rendering users/new
Completed in 22ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:47:46) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 26ms (View: 4, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:47:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:48:00) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:48:01) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 28ms (View: 4, DB: 3) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:50:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:50:47) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:50:48) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 25ms (View: 4, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:57:57) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:57:59) [GET]
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:58:00) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Displayname has already been taken):
  app/controllers/users_controller.rb:9:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:59:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:59:10) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:59:11) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Displayname has already been taken):
  app/controllers/users_controller.rb:9:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:08:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:09:00) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `displayname' for #<ActionView::Helpers::FormBuilder:0x4705f40>) on line #3 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for @user, :url => { :controller => "users", :action => "create" } do |u| %>
3:   <%= u.displayname %>
4: <p>
5:     <%= u.label :displayname %> <br />
6:     <%= u.text_field :displayname %>

    app/views/users/new.html.erb:3:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:09:22) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `displayname' for #<ActionView::Helpers::FormBuilder:0x3080940>) on line #3 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for @user, :url => { :controller => "users", :action => "create" } do |u| %>
3:   <%= u.displayname %>
4: <p>
5:     <%= u.label :displayname %> <br />
6:     <%= u.text_field :displayname %>

    app/views/users/new.html.erb:3:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (124.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:09:40) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `id' for #<ActionView::Helpers::FormBuilder:0x3bbf3c0>) on line #3 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for @user, :url => { :controller => "users", :action => "create" } do |u| %>
3:   <%= u.id %>
4: <p>
5:     <%= u.label :displayname %> <br />
6:     <%= u.text_field :displayname %>

    app/views/users/new.html.erb:3:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:09:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:09:52) [GET]
Rendering users/new
Completed in 19ms (View: 11, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:09:55) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Displayname has already been taken):
  app/controllers/users_controller.rb:9:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (70.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:10:50) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:10:51) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `error' for #<ActionView::Helpers::FormBuilder:0x3267b40>) on line #3 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for @user, :url => { :controller => "users", :action => "create" } do |u| %>
3:   <%= u.error %>
4: <p>
5:     <%= u.label :displayname %> <br />
6:     <%= u.text_field :displayname %>

    app/views/users/new.html.erb:3:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (134.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:11:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:11:03) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:11:04) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Displayname has already been taken):
  app/controllers/users_controller.rb:9:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (69.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:11:23) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:11:24) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:15:22) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:15:23) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:21:20) [GET]
Rendering users/new
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:21:21) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 24ms (View: 2, DB: 1) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:21:34) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:21:34) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 21ms (View: 1, DB: 1) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:21:47) [GET]
Rendering users/new
Completed in 57ms (View: 48, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:21:48) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

NoMethodError (undefined method `error_messages' for #<User:0x4ca0f20>):
  app/controllers/users_controller.rb:13:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:22:27) [GET]
Rendering users/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:22:28) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 23ms (View: 1, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:25:38) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:25:38) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:25:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:25:41) [GET]
Rendering users/new
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 17:25:42) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:34:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:34:02) [GET]
Rendering users/new
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 17:34:03) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:38:21) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:38:22) [GET]
Rendering users/new
ERROR: compiling _run_erb_app47views47users47new46html46erb RAISED c:/Referme/app/views/users/new.html.erb:2: syntax error, unexpected tASSOC, expecting ')'
...for :user, :url => ( :action => "create" ) do |u| ; @output_...
...                               ^
Function body:           def _run_erb_app47views47users47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<p><b>register new user</b></p>\n"
;  form_for :user, :url => ( :action => "create" ) do |u| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( u.error_messages ).to_s); @output_buffer.concat "\n<p>\n    "

; @output_buffer.concat(( u.label :displayname ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :displayname ).to_s); @output_buffer.concat "\n  </p>\n  \n  <p>\n    "



; @output_buffer.concat(( u.label :email ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :email ).to_s); @output_buffer.concat "\n  </p>\n  \n  <p>\n    "



; @output_buffer.concat(( u.label :password ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.password_field :password ).to_s); @output_buffer.concat "\n  </p>  \n  \n  <p>\n    "



; @output_buffer.concat(( u.submit "register" ).to_s); @output_buffer.concat "\n  </p>\n  \n"


;  end ; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:983:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/Referme/app/controllers/users_controller.rb:20:in `new'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/users/new.html.erb:2: syntax error, unexpected tASSOC, expecting ')'
...for :user, :url => ( :action => "create" ) do |u| ; @output_...
...                               ^) on line #2 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for :user, :url => ( :action => "create" ) do |u| %>
3:   <%= u.error_messages %>
4: <p>
5:     <%= u.label :displayname %> <br />

    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (122.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:39:06) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:39:08) [GET]
Rendering users/new
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:39:10) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 21ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:41:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:41:46) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 17:41:57) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 23, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 17:41:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-22 17:42:20) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-22 17:42:29) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/requestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/requestform/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:42:37) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:43:28) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:43:32) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 17:43:33) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 17:43:42) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"the onyx\\", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx\%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 12ms (View: 4, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 17:43:47) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 22, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 17:43:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 39, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 17:44:30) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:48:21) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 44ms (View: 32, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:48:35) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 45ms (View: 34, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:49:16) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 35, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:49:37) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 34, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:50:38) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 38, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:52:33) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #23 of app/views/businesses/search.html.erb:
20: <td>
21: <hr/>
22: the business you find is not here? click 
23: <%= link_to "here", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' %>
24: to add
25: </td>
26: </tr>

    app/views/businesses/search.html.erb:23
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (133.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:54:43) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 47ms (View: 34, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 18:54:46) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (14.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 19:03:35) [GET]
Rendering template within layouts/application
Rendering businesses/new
Completed in 21ms (View: 20, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 19:05:25) [GET]
Rendering businesses/new
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 19:07:44) [GET]
Rendering businesses/new
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-22 19:08:19) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "business"=>{"name"=>"Bank of America", "address"=>"123th Ave NE", "description"=>"Refer to a friend and earn up to 1000 dollars of referal bonus"}, "commit"=>"add"}
  [4;36;1mBusiness Create (2.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES('Bank of America', '123th Ave NE', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'Refer to a friend and earn up to 1000 dollars of referal bonus', NULL, NULL, '2009-09-23 02:08:19', '2009-09-23 02:08:19')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 24ms (View: 4, DB: 2) | 200 OK [http://localhost/businesses/create]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 19:08:23) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 147ms (View: 126, DB: 4) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 19:08:31) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 23, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 19:08:33) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 35ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 19:08:41) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 36ms (View: 25, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 19:08:46) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 36ms (View: 25, DB: 0) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 19:08:48) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/2]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 19:08:51) [GET]
  Parameters: {"id"=>"2"}
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:24:57) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 20:25:01) [GET]
Rendering users/new
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 20:25:53) [GET]
Rendering users/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:26:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:26:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:26:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 20:26:40) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:26:48) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:26:59) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 75ms (View: 65, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:27:01) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 23, DB: 1) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 20:27:03) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/2]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:27:09) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 20:27:10) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:27:11) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 20:27:13) [GET]
  Parameters: {"id"=>"2"}
Rendering businesses/createreferalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/2]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 20:27:22) [GET]
Redirected to http://localhost:3000/businesses/show/2
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:27:22) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 78ms (View: 65, DB: 2) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:34:51) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 22, DB: 2) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:34:52) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 35ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/show/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:34:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:34:57) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 20:34:59) [POST]
  Parameters: {"authenticity_token"=>"OzqBNV7N9SSUjuqr2+TlxQuGw5RDKSaxlllk4JNM2PE=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 3, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:34:59) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m

ActionView::TemplateError (wrong number of arguments (1 for 0)) on line #27 of app/views/layouts/application.html.erb:
24: 				<label>Location (<span>e.g. Redmond, WA</span>)</label>
25: 				<%= text_field_tag :location, params[:city], :id => 'city_field' %>
26: 				<%= submit_tag "Search" %>
27: 				<%= loginlabel %>
28: 				<%= link_to "home", :controller => "home", :action => "index" %>				
29: 				<% end %>
30: 				for new user,<%= link_to "register", {:controller => :users, :action => :new}, :rel => 'gb_page_center[380,300]' %> </br>

    app/helpers/application_helper.rb:5:in `loginlabel'
    app/views/layouts/application.html.erb:27:in `block in _run_erb_app47views47layouts47application46html46erb'
    app/views/layouts/application.html.erb:21
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (126.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:36:46) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 32ms (View: 27, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:37:44) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:38:03) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:38:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:38:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 43ms (View: 42, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:38:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:39:32) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 15ms (View: 14, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:39:43) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:01) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 15ms (View: 14, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 20:40:04) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:04) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:40:05) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 20:40:07) [POST]
  Parameters: {"authenticity_token"=>"vNTIWDPLx5LTnqhD0MQRhYqgLqeBZZOyUjxWSMUpg1Q=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:07) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 16ms (View: 14, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 20:40:12) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:18) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:40:33) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:43:05) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 41ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:43:10) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 78ms (View: 66, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:44:13) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 43ms (View: 33, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:44:37) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:45:21) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:46:15) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 43ms (View: 32, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 20:46:27) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:46:34) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:46:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:46:45) [GET]
Rendering users/login
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:47:06) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:47:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 61ms (View: 49, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 42, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 48, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 51ms (View: 40, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:48:41) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 72ms (View: 62, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:43) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/show/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:53:07) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:53:45) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 36ms (View: 26, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:53:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 20:53:52) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 20:54:09) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 20:58:41) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 20:58:44) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>"ss"}, "commit"=>"Create", "id"=>"1"}

ActiveRecord::RecordInvalid (Validation failed: Askprice can't be blank):
  app/controllers/businesses_controller.rb:80:in `createrequest'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 20:58:50) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 20:59:02) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 20:59:03) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create", "id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createrequest.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:02:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 71ms (View: 57, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:03:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 65ms (View: 52, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:07:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 69ms (View: 53, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:07:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 66ms (View: 50, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 21:12:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 21:17:59) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 40ms (View: 27, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:18:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:18:03) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 21:18:04) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create", "id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createrequest.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:18:51) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 21:18:52) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create", "id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createrequest.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:30:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 64ms (View: 51, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:30:07) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for(@request) do |r| %>
2:   <%= r.error_messages %>
3:   <%= error_messages_for :request %>
4:   <p>

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:64:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (86.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:32:38) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for(@request) do |r| %>
2:   <%= r.error_messages %>
3:   <%= error_messages_for :request %>
4:   <p>

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:64:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (86.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:33:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 73ms (View: 60, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:33:29) [GET]
Rendering template within layouts/requests
Rendering requests/new

ActionView::TemplateError (undefined method `email' for #<Request:0x38a6a60>) on line #12 of app/views/requests/new.html.erb:
9:   </p>
10:   <p>
11:     <%= f.label :email %><br />
12:     <%= f.text_field :email %>
13:   </p>
14:   <p>
15:     <%= f.label :content %><br />

    app/views/requests/new.html.erb:12:in `block in _run_erb_app47views47requests47new46html46erb'
    app/views/requests/new.html.erb:3
    app/controllers/requests_controller.rb:29:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (146.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:34:12) [GET]
Rendering template within layouts/requests
Rendering requests/new

ActionView::TemplateError (undefined method `content' for #<Request:0x3b9bee0>) on line #12 of app/views/requests/new.html.erb:
9:   </p>
10:   <p>
11:     <%= f.label :content %><br />
12:     <%= f.text_area :content %>
13:   </p>
14:   <p>
15:     <%= f.submit 'Create' %>

    app/views/requests/new.html.erb:12:in `block in _run_erb_app47views47requests47new46html46erb'
    app/views/requests/new.html.erb:3
    app/controllers/requests_controller.rb:29:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (150.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:34:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:34:41) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 15, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:34:44) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:37:13) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 23ms (View: 10, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:37:18) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:39:21) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:39:24) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}

ActionView::MissingTemplate (Missing template requests/create.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:39:44) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:39:46) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}

ArgumentError (too few arguments):
  app/controllers/requests_controller.rb:49:in `format'
  app/controllers/requests_controller.rb:49:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:40:12) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:40:14) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 72ms (View: 5, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:40:45) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:40:48) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.call):
  app/controllers/requests_controller.rb:45:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:41:17) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:41:19) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:46:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 111ms (View: 97, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:46:47) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-22 21:46:49) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
  [4;36;1mBusiness Create (1.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2009-09-23 04:46:49', '2009-09-23 04:46:49')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 26ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/create]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:46:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:47:01) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:47:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 99ms (View: 87, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:47:25) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 21:47:27) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering businesses/new
Completed in 26ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/createrequest]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:47:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 42, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:50:09) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 21:50:10) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering businesses/createrequestform
Completed in 28ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/createrequest]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:51:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 72ms (View: 54, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:51:08) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:51:11) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:51:52) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/requests/new]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:00:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 128ms (View: 66, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:00:34) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 56ms (View: 44, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:00:43) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:00:50) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 17ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 22:00:52) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 26ms (View: 4, DB: 0) | 200 OK [http://localhost/users]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:02:05) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 69ms (View: 52, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:02:07) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:03:13) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:03:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 41, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:03:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 22:07:11) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 22:07:23) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 5, DB: 0) | 200 OK [http://localhost/requests]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:07:47) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:07:51) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 22:09:22) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 22ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:10:20) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:17:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 45, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:17:58) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:18:35) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:20:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 121ms (View: 104, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:20:58) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:21:05) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 60ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:21:07) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 22:28:02) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:28:07) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:36:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 104ms (View: 90, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 22:36:16) [GET]

ActionController::RoutingError (No route matches "/login/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 22:41:02) [GET]

ActionController::RoutingError (No route matches "/login/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:42:25) [GET]
Rendering login/login
Completed in 26ms (View: 17, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 22:42:31) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}

ActionController::UnknownAction (No action responded to processlogin. Actions: create, destroy, edit, index, new, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:43:32) [GET]
Rendering login/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 22:43:34) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}

ActionController::UnknownAction (No action responded to processlogin. Actions: create, destroy, edit, index, new, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:44:31) [GET]
Rendering login/login
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 22:44:32) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:44:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 57ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 22:44:35) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 1ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:44:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:44:38) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 22:44:39) [POST]
  Parameters: {"authenticity_token"=>"icZcyOAwKE1RyUjv+MCIDQjCs9fzuth1QVdQKrWZPTA=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 14ms (View: 4, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:44:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 57ms (View: 45, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 22:44:41) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:44:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:44:46) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 22:44:49) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 28ms (View: 17, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#5 (for 127.0.0.1 at 2009-09-22 22:45:04) [DELETE]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0="}

ActionController::UnknownAction (No action responded to 5. Actions: create, destroy, edit, index, new, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 22:48:10) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "businessname"=>"aa", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%aa%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:49:15) [GET]
Rendering login/login
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:55:06) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 23ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 22:55:08) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:55:46) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 58ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 22:55:47) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:00:00) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 23:00:01) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 10, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:00:08) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:03:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:03:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:03:49) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 22ms (View: 11, DB: 0) | 200 OK [http://localhost/users/new]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:09:27) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#index (for 127.0.0.1 at 2009-09-22 23:09:30) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
Rendering template within layouts/requests
Rendering requests/index

ActionView::TemplateError (undefined method `email' for #<Request:0x398ec40>) on line #13 of app/views/requests/index.html.erb:
10: <% @requests.each do |request| %>
11:   <tr>
12:     <td><%=h request.askprice %></td>
13:     <td><%=h request.email %></td>
14:     <td><%=h request.content %></td>
15:     <td><%= link_to 'Show', request %></td>
16:     <td><%= link_to 'Edit', edit_request_path(request) %></td>

    app/views/requests/index.html.erb:13:in `block in _run_erb_app47views47requests47index46html46erb'
    app/views/requests/index.html.erb:10:in `each'
    app/views/requests/index.html.erb:10
    app/controllers/requests_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (133.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:09:33) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#index (for 127.0.0.1 at 2009-09-22 23:09:36) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" [0m
Rendering template within layouts/requests
Rendering requests/index

ActionView::TemplateError (undefined method `email' for #<Request:0x3b4b140>) on line #13 of app/views/requests/index.html.erb:
10: <% @requests.each do |request| %>
11:   <tr>
12:     <td><%=h request.askprice %></td>
13:     <td><%=h request.email %></td>
14:     <td><%=h request.content %></td>
15:     <td><%= link_to 'Show', request %></td>
16:     <td><%= link_to 'Edit', edit_request_path(request) %></td>

    app/views/requests/index.html.erb:13:in `block in _run_erb_app47views47requests47index46html46erb'
    app/views/requests/index.html.erb:10:in `each'
    app/views/requests/index.html.erb:10
    app/controllers/requests_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (92.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:09:55) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:09:57) [GET]
Rendering login/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:09:59) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:09:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 56ms (View: 42, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:10:00) [GET]
  Parameters: {"id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createreferalform.erb in view path app/views):
  app/controllers/businesses_controller.rb:59:in `createreferalform'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:10:05) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:10:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 101ms (View: 85, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:15:08) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#index (for 127.0.0.1 at 2009-09-22 23:15:10) [POST]
  Parameters: {"authenticity_token"=>"EbP4SWwZwIqcOdxcGK5NRPVavrqiKD5Ldh7M7wBrgN0=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
Rendering template within layouts/requests
Rendering requests/index

ActionView::TemplateError (undefined method `email' for #<Request:0x4712120>) on line #13 of app/views/requests/index.html.erb:
10: <% @requests.each do |request| %>
11:   <tr>
12:     <td><%=h request.askprice %></td>
13:     <td><%=h request.email %></td>
14:     <td><%=h request.content %></td>
15:     <td><%= link_to 'Show', request %></td>
16:     <td><%= link_to 'Edit', edit_request_path(request) %></td>

    app/views/requests/index.html.erb:13:in `block in _run_erb_app47views47requests47index46html46erb'
    app/views/requests/index.html.erb:10:in `each'
    app/views/requests/index.html.erb:10
    app/controllers/requests_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (90.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:15:49) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 49ms (View: 49, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:16:29) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:16:32) [GET]
Rendering login/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:16:33) [POST]
  Parameters: {"authenticity_token"=>"EbP4SWwZwIqcOdxcGK5NRPVavrqiKD5Ldh7M7wBrgN0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:16:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 55ms (View: 43, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:16:35) [GET]
  Parameters: {"id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createreferalform.erb in view path app/views):
  app/controllers/businesses_controller.rb:59:in `createreferalform'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:16:44) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:19:04) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:19:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 44, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:19:06) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 23:19:07) [POST]
  Parameters: {"authenticity_token"=>"OwyxDr+Azy8o+PC1Op//wgdpzS+CZkoEWfObmrYfwHI=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:19:38) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 23:19:39) [POST]
  Parameters: {"authenticity_token"=>"OwyxDr+Azy8o+PC1Op//wgdpzS+CZkoEWfObmrYfwHI=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 25ms (View: 4, DB: 0) | 200 OK [http://localhost/users]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:19:43) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 23:19:46) [POST]
  Parameters: {"authenticity_token"=>"OwyxDr+Azy8o+PC1Op//wgdpzS+CZkoEWfObmrYfwHI=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 23ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:19:49) [GET]
Rendering login/login
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:19:50) [POST]
  Parameters: {"authenticity_token"=>"OwyxDr+Azy8o+PC1Op//wgdpzS+CZkoEWfObmrYfwHI=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:19:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 55ms (View: 42, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:19:52) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 1ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:19:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 44, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:20:07) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:21:18) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:21:19) [POST]
  Parameters: {"authenticity_token"=>"AD3PjD0We93lEav6Plt3kvbZhvR0GoV9NjRqMc7pup0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:21:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 52ms (View: 39, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:21:23) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:21:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 42, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:21:26) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:21:28) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:21:29) [POST]
  Parameters: {"authenticity_token"=>"fJjRgpmBJRCk0APvM7RuzZsy+0pBbLWUwq/lR0VA0Is=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:21:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:21:32) [GET]
  Parameters: {"id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createreferalform.erb in view path app/views):
  app/controllers/businesses_controller.rb:59:in `createreferalform'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:21:43) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:21:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 42, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:25:50) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:25:53) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:26:05) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:26:22) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 23:26:24) [POST]
  Parameters: {"authenticity_token"=>"K9Hzq/tIGA3+iLPstIyOJfBSaFyTvatr0yeDMq/TSMU=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 26ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 23:26:40) [POST]
  Parameters: {"authenticity_token"=>"K9Hzq/tIGA3+iLPstIyOJfBSaFyTvatr0yeDMq/TSMU=", "user"=>{"displayname"=>"maxmai", "email"=>"yanji84@gmail.com", "password"=>"aaaaaa"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'maxmai') LIMIT 1[0m
  [4;35;1mUser Create (2.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('maxmai', 'yanji84@gmail.com', NULL, NULL, NULL, '2009-09-23 06:26:40', '2009-09-23 06:26:40', 'aaaaaa')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 2) | 200 OK [http://localhost/users]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:26:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 43, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:26:45) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:26:50) [POST]
  Parameters: {"authenticity_token"=>"K9Hzq/tIGA3+iLPstIyOJfBSaFyTvatr0yeDMq/TSMU=", "username"=>"maxmai", "password"=>"aaaaaa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'maxmai' and password = 'aaaaaa') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:26:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 6) [0m
Completed in 102ms (View: 88, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:26:55) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:26:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 40, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:29:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 42, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:29:49) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 23:29:56) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 23ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 23:30:11) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"700", "description"=>"blah!"}, "commit"=>"Create"}
  [4;36;1mRequest Create (1.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'blah!', 700, NULL, NULL, '2009-09-23 06:30:11', '2009-09-23 06:30:11')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 20ms (View: 3, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:30:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 41, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:30:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:30:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 102ms (View: 88, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:31:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 40, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:32:28) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 37ms (View: 26, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 23:32:31) [GET]
Rendering businesses/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:36:30) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
Rendering template within layouts/businesses
Rendering businesses/search

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #2 of app/views/businesses/search.html.erb:
1: <table>
2: <% @businesses.each do |business| %>
3: <tr>
4: <td>
5: <%= business.name %><br/>

    app/views/businesses/search.html.erb:2
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 23:37:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:37:15) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"aa", "location"=>"", "commit"=>"Search"}
Rendering template within layouts/businesses
Rendering businesses/search

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #2 of app/views/businesses/search.html.erb:
1: <table>
2: <% @businesses.each do |business| %>
3: <tr>
4: <td>
5: <%= business.name %><br/>

    app/views/businesses/search.html.erb:2
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (118.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:37:50) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"aa", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%aa%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
Completed in 13ms (View: 4, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 23:38:09) [GET]
Rendering template within layouts/businesses
Rendering businesses/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-22 23:38:11) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 27ms (View: 17, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-09-22 23:38:17) [DELETE]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
  [4;35;1mBusiness Destroy (1.0ms)[0m   [0mDELETE FROM "businesses" WHERE "id" = 1[0m
Redirected to http://localhost:3000/businesses
Completed in 18ms (DB: 1) | 302 Found [http://localhost/businesses/1]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-22 23:38:17) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-09-22 23:38:20) [DELETE]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "id"=>"3"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 3) [0m
  [4;36;1mBusiness Destroy (1.0ms)[0m   [0;1mDELETE FROM "businesses" WHERE "id" = 3[0m
Redirected to http://localhost:3000/businesses
Completed in 19ms (DB: 1) | 302 Found [http://localhost/businesses/3]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-22 23:38:20) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 23:38:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 23:39:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:39:51) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
Completed in 12ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:40:03) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 32ms (View: 21, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:11:21) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 32ms (View: 21, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 09:52:10) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:52:11) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 82ms (View: 31, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:52:49) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 09:52:54) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:52:56) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 33ms (View: 24, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:57:41) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 47ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:02:40) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 43ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 10:02:46) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-23 10:02:49) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 10:02:52) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:04:06) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:04:11) [GET]
Rendering template within layouts/application
Rendering businesses/new
Completed in 26ms (View: 16, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:08:27) [GET]
Rendering businesses/new

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/businesses_controller.rb:44:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:08:56) [GET]
Rendering businesses/new

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/businesses_controller.rb:44:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (150.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:10:27) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  app/controllers/businesses_controller.rb:43:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:10:45) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 30, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:10:46) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  app/controllers/businesses_controller.rb:43:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:10:50) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  app/controllers/businesses_controller.rb:43:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:11:04) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  app/controllers/businesses_controller.rb:43:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:11:22) [GET]
Rendering businesses/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 10:11:25) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering businesses/new
Completed in 29ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:12:56) [GET]
Rendering businesses/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 10:12:57) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 28ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:26:23) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:27:27) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 10:27:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:29:22) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 65ms (View: 41, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:30:38) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 47ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:30:41) [GET]
Rendering businesses/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 10:30:42) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 26ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 10:31:06) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"Archstone", "address"=>"177th ave", "description"=>"1000 dollar bonus"}, "commit"=>"Create"}
  [4;35;1mBusiness Create (1.0ms)[0m   [0mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES('Archstone', '177th ave', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '1000 dollar bonus', NULL, NULL, '2009-09-23 17:31:06', '2009-09-23 17:31:06')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 25ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:31:08) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
Completed in 52ms (View: 38, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:31:30) [GET]
Rendering businesses/new
Completed in 22ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 10:31:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 13:07:09) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 13:08:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 13:08:26) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 13:09:27) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 14ms (View: 5, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 13:09:32) [GET]
Rendering businesses/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 13:09:35) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 29ms (View: 4, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 13:10:20) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"The Onyx", "address"=>"4850 156th Ave NE Redmond, WA", "description"=>"1000 dollars worth of bonus"}, "commit"=>"Create"}
  [4;36;1mBusiness Create (2.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES('The Onyx', '4850 156th Ave NE Redmond, WA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '1000 dollars worth of bonus', NULL, NULL, '2009-09-23 20:10:20', '2009-09-23 20:10:20')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 25ms (View: 3, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 13:10:21) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 48ms (View: 35, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:10:40) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 38ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:10:45) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:11:48) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:11:52) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:12:03) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"600", "description"=>"split 600 bucks"}, "commit"=>"Create"}
  [4;35;1mRequest Create (1.0ms)[0m   [0mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'split 600 bucks', 600, NULL, NULL, '2009-09-23 20:12:03', '2009-09-23 20:12:03')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 23ms (View: 3, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:12:03) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 40ms (View: 24, DB: 4) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-23 13:14:08) [GET]
  Parameters: {"id"=>"5"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:15:35) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 46ms (View: 33, DB: 2) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:15:37) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 13:15:40) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 38ms (View: 28, DB: 0) | 200 OK [http://localhost/referals/new/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:17:41) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
ERROR: compiling _run_erb_app47views47requests47new46html46erb RAISED c:/Referme/app/views/requests/new.html.erb:3: syntax error, unexpected ':', expecting keyword_end
;  form_for(@request) :id => @businessid do |f| ; @o...
                       ^
c:/Referme/app/views/requests/new.html.erb:18: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47requests47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>New request</h1>\n\n"

;  form_for(@request) :id => @businessid do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n  <p>\n    "


; @output_buffer.concat(( f.label :askprice ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :askprice ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :description ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_area :description ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.submit 'Create' ).to_s); @output_buffer.concat "\n  </p>\n"

;  end ; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:947:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:135:in `block in custom'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `block in respond'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `respond'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:107:in `respond_to'
c:/Referme/app/controllers/requests_controller.rb:29:in `new'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/requests/new.html.erb:3: syntax error, unexpected ':', expecting keyword_end
;  form_for(@request) :id => @businessid do |f| ; @o...
                       ^
c:/Referme/app/views/requests/new.html.erb:18: syntax error, unexpected keyword_ensure, expecting $end) on line #3 of app/views/requests/new.html.erb:
1: <h1>New request</h1>
2: 
3: <% form_for(@request) :id => @businessid do |f| %>
4:   <%= f.error_messages %>
5: 
6:   <p>

    app/controllers/requests_controller.rb:29:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:18:08) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 23ms (View: 13, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:18:14) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:18:17) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:18:24) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:25:43) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 38ms (View: 25, DB: 3) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:25:44) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 15, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:25:47) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 5, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:25:53) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"766", "description"=>"aaaa"}, "commit"=>"Create"}
  [4;35;1mRequest Create (2.0ms)[0m   [0mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'aaaa', 766, NULL, NULL, '2009-09-23 20:25:53', '2009-09-23 20:25:53')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 2) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:25:53) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 42ms (View: 27, DB: 3) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:25:57) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 38ms (View: 25, DB: 3) | 200 OK [http://localhost/businesses/5]
  [4;35;1mSQL (10.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mRequest Load (9.0ms)[0m   [0mSELECT * FROM "requests" [0m


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:27:05) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:27:11) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"600", "description"=>"aaa"}, "commit"=>"Create"}
  [4;36;1mRequest Create (1.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'aaa', 600, NULL, NULL, '2009-09-23 20:27:11', '2009-09-23 20:27:11')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 22ms (View: 4, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:27:11) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 39ms (View: 27, DB: 1) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:27:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 39ms (View: 26, DB: 2) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:27:17) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:28:45) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 39ms (View: 26, DB: 1) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:28:46) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:28:51) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"766", "description"=>""}, "commit"=>"Create"}

NameError (uninitialized class variable @@businessid in RequestsController):
  app/controllers/requests_controller.rb:44:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:30:18) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 40ms (View: 26, DB: 3) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:30:20) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 117ms (View: 106, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:30:23) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 26ms (View: 5, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:30:29) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"700", "description"=>""}, "commit"=>"Create"}
  [4;35;1mRequest Create (2.0ms)[0m   [0mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, '', 700, NULL, 0, '2009-09-23 20:30:29', '2009-09-23 20:30:29')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 2) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:30:29) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 42ms (View: 23, DB: 5) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:30:31) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 38ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/5]
  [4;36;1mRequest Load (2.0ms)[0m   [0;1mSELECT * FROM "requests" [0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:42:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `current_id=' for #<Class:0xecda5c0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:42:49) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `current_id=' for #<Class:0xea01a00>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:43:08) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0xe7885e0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:49:48) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0x4813a40>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:49:49) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0x38ef8a0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (135.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:49:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0xf24bce0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:49:51) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0xeed86a0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 13:50:10) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 13:50:14) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 71ms (View: 52, DB: 5) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:50:18) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0xea1edc0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:53:14) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 37ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:53:21) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:53:24) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:53:30) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"6456", "description"=>"sdrtr"}, "commit"=>"Create"}
  [4;36;1mRequest Create (1.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'sdrtr', 6456, NULL, 2, '2009-09-23 20:53:30', '2009-09-23 20:53:30')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 22ms (View: 4, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:53:30) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 41ms (View: 27, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 13:59:42) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 13:59:46) [GET]
Rendering login/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 13:59:48) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:59:48) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 51ms (View: 34, DB: 5) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 13:59:52) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:00:41) [GET]
  Parameters: {"id"=>"2"}

SyntaxError (c:/Referme/app/models/referal.rb:4: syntax error, unexpected ':', expecting keyword_end
  validates_presence_of: offerprice
                        ^
c:/Referme/app/models/referal.rb:5: syntax error, unexpected ':', expecting keyword_end
  validates_presence_of: description
                        ^):
  app/controllers/referals_controller.rb:36:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:00:56) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 20ms (View: 6, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:00:59) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "referal"=>{"offerprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 27ms (View: 5, DB: 0) | 200 OK [http://localhost/referals]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:01:18) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 23ms (View: 13, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:02:19) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 17ms (View: 6, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:02:23) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "referal"=>{"offerprice"=>"dfds", "description"=>"asdf"}, "commit"=>"Create"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/referals]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:02:27) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "referal"=>{"offerprice"=>"456", "description"=>"asdf"}, "commit"=>"Create"}
  [4;35;1mReferal Create (2.0ms)[0m   [0mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'asdf', 456, NULL, 2, '2009-09-23 21:02:27', '2009-09-23 21:02:27')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 22ms (View: 3, DB: 2) | 200 OK [http://localhost/referals]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:02:27) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #28 of app/views/businesses/show.html.erb:
25:       <% @business.referals.each do |referal| %> </br>
26:       <%= "offer: $#{referal.offerprice}"%> </br>
27:       <%= referal.description %> </br>
28:       <%= referal.user.displayname %> </br>
29:       <%= link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' %> </br>
30:       <% end %>
31:     </td>

    app/views/businesses/show.html.erb:28:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:25
    app/controllers/businesses_controller.rb:31:in `show'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (96.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:04:01) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #28 of app/views/businesses/show.html.erb:
25:       <% @business.referals.each do |referal| %> </br>
26:       <%= "offer: $#{referal.offerprice}"%> </br>
27:       <%= referal.description %> </br>
28:       <%= referal.user.displayname %> </br>
29:       <%= link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' %> </br>
30:       <% end %>
31:     </td>

    app/views/businesses/show.html.erb:28:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:25
    app/controllers/businesses_controller.rb:31:in `show'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:04:11) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 17ms (View: 14, DB: 1) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 14:04:14) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 49ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:04:15) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #28 of app/views/businesses/show.html.erb:
25:       <% @business.referals.each do |referal| %> </br>
26:       <%= "offer: $#{referal.offerprice}"%> </br>
27:       <%= referal.description %> </br>
28:       <%= referal.user.displayname %> </br>
29:       <%= link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' %> </br>
30:       <% end %>
31:     </td>

    app/views/businesses/show.html.erb:28:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:25
    app/controllers/businesses_controller.rb:31:in `show'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:04:19) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 47ms (View: 35, DB: 1) | 200 OK [http://localhost/businesses/4]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:04:21) [GET]
  Parameters: {"id"=>"4"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/referals/new/4]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:04:30) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "referal"=>{"offerprice"=>"345", "description"=>"sfdg"}, "commit"=>"Create"}
  [4;36;1mReferal Create (1.0ms)[0m   [0;1mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'sfdg', 345, 4, 4, '2009-09-23 21:04:30', '2009-09-23 21:04:30')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 21ms (View: 3, DB: 1) | 200 OK [http://localhost/referals]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:04:30) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 51ms (View: 38, DB: 2) | 200 OK [http://localhost/businesses/4]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-23 14:04:33) [GET]
  Parameters: {"id"=>"5"}

ActionController::UnknownAction (No action responded to referalform. Actions: create, destroy, edit, index, login_required, new, search, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (39.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Delete all (16.0ms)[0m   [0mDELETE FROM "requests" WHERE ("id" IN ('--- :all
')) [0m
  [4;36;1mRequest Load (20.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Delete all (1.0ms)[0m   [0mDELETE FROM "requests" WHERE ("id" IN ('--- 
- :condition
- "1"
')) [0m
  [4;36;1mRequest Delete all (8.0ms)[0m   [0;1mDELETE FROM "requests" WHERE ("id" IN (1)) [0m
  [4;35;1mRequest Delete all (1.0ms)[0m   [0mDELETE FROM "requests" WHERE ("id" IN (0)) [0m
  [4;36;1mRequest Delete all (6.0ms)[0m   [0;1mDELETE FROM "requests" WHERE ("id" IN (2)) [0m
  [4;35;1mRequest Delete all (5.0ms)[0m   [0mDELETE FROM "requests" WHERE ("id" IN (10)) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Delete all (5.0ms)[0m   [0mDELETE FROM "requests" WHERE 1=1[0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mReferal Delete all (8.0ms)[0m   [0mDELETE FROM "referals" WHERE 1=1[0m
  [4;36;1mUser Delete all (8.0ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m


Processing LoginController#logout (for 127.0.0.1 at 2009-09-23 14:09:22) [GET]
Redirected to http://localhost:3000/businesses/4
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:09:22) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 4) [0m
Completed in 39ms (View: 25, DB: 3) | 200 OK [http://localhost/businesses/4]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:09:23) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:09:26) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:09:27) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:09:27) [GET]
Rendering login/login
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 14:10:23) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 14:12:15) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 17ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:12:16) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'Ji') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 27ms (View: 5, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:12:23) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 27ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 14:13:01) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 18ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:13:29) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"ji", "email"=>"yanji", "password"=>"aaaaaa"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'ji') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 28ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:13:38) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"ji", "email"=>"yanji84@gmail.com", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'ji') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji84@gmail.com') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 46ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:13:45) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"ji", "email"=>"yanji84@gmail.com", "password"=>"aaaaaa"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'ji') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji84@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('ji', 'yanji84@gmail.com', NULL, NULL, NULL, '2009-09-23 21:13:45', '2009-09-23 21:13:45', 'aaaaaa')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:13:45) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 14:13:53) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 40ms (View: 27, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:13:57) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 37ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:14:02) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 14:14:05) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 14:14:33) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "request"=>{"askprice"=>"100", "description"=>"if you refer me, I will give you 100 bucks"}, "commit"=>"Create"}
  [4;35;1mRequest Create (1.0ms)[0m   [0mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'if you refer me, I will give you 100 bucks', 100, NULL, 2, '2009-09-23 21:14:33', '2009-09-23 21:14:33')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 30ms (View: 3, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:14:34) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 43ms (View: 28, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:14:37) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:14:40) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:14:42) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:14:42) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:14:45) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"aaaaaa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'aaaaaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:14:45) [GET]
Rendering login/login
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:14:51) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:14:51) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:15:17) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"aaaaaa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'aaaaaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:15:17) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:15:21) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:15:21) [GET]
Rendering login/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:15:25) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:15:56) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"aaaaaa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'aaaaaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:15:56) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]
  [4;36;1mUser Delete all (6.0ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 14:16:13) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:16:23) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'Ji') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji84@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('Ji', 'yanji84@gmail.com', NULL, NULL, NULL, '2009-09-23 21:16:23', '2009-09-23 21:16:23', 'yyyyyy')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 24ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:16:23) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 45ms (View: 27, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:16:26) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:16:27) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:16:27) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 53ms (View: 42, DB: 0) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:16:29) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:16:32) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "referal"=>{"offerprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 27ms (View: 5, DB: 0) | 200 OK [http://localhost/referals]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:17:05) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "referal"=>{"offerprice"=>"400", "description"=>"I can refer you and give you 400 bucks"}, "commit"=>"Create"}
  [4;36;1mReferal Create (1.0ms)[0m   [0;1mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'I can refer you and give you 400 bucks', 400, 8, 2, '2009-09-23 21:17:05', '2009-09-23 21:17:05')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 22ms (View: 3, DB: 1) | 200 OK [http://localhost/referals]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:17:05) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 61ms (View: 47, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:17:17) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 14:17:19) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 52ms (View: 38, DB: 4) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 14:17:23) [GET]
Rendering businesses/new
Completed in 38ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 14:17:27) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 35ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:18:28) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 53ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:18:29) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:18:32) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "referal"=>{"offerprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 27ms (View: 5, DB: 0) | 200 OK [http://localhost/referals]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 14:18:41) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 50ms (View: 39, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 14:18:43) [GET]
Rendering businesses/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 14:18:46) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 29ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:39:38) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 17ms (View: 16, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:55:24) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 47ms (View: 42, DB: 1) | 200 OK [http://localhost/]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-23 14:55:25) [GET]
Redirected to http://localhost:3000/
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:55:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:55:27) [GET]
Rendering login/login
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:55:30) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Ji", "password"=>"yyyyysdfy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyysdfy') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 0) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:55:30) [GET]
Rendering login/login
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:55:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:55:50) [GET]
Rendering login/login
Completed in 23ms (View: 14, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:55:56) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Jinnn", "password"=>"ggg", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Jinnn' and password = 'ggg') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 0) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:55:56) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:56:25) [GET]
Rendering login/login
Completed in 17ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:56:27) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Ji", "password"=>"yyyyyffy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyffy') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:56:27) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:56:43) [GET]
Rendering login/login
Completed in 19ms (View: 10, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:56:46) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Ji", "password"=>"yyyyyyggg", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyggg') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:56:46) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:57:20) [GET]
Rendering login/login
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:57:24) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Jifff", "password"=>"gfsdg", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Jifff' and password = 'gfsdg') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:57:24) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:57:48) [GET]
Rendering login/login
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:57:51) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Ji", "password"=>"yyyyyyjjj", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyjjj') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:57:51) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:02:56) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 42ms (View: 27, DB: 4) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 15:03:01) [GET]
Rendering businesses/new
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 15:03:04) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 32ms (View: 4, DB: 0) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 15:14:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:16:03) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"sprint", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%sprint%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 15ms (View: 5, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 15:16:05) [GET]
Rendering businesses/new
Completed in 17ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 15:18:13) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "business"=>{"name"=>"Sprint", "address"=>"6391 Sprint Parkway Overland Park KS 66251-4300 ", "description"=>"http://www.sprint.com/landings/refrewards/\r\n\r\nShare the best things about being a Sprint customer with your family and friends.\r\n\r\nTell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009."}, "commit"=>"Create"}
  [4;36;1mBusiness Create (1.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES('Sprint', '6391 Sprint Parkway Overland Park KS 66251-4300 ', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'http://www.sprint.com/landings/refrewards/

Share the best things about being a Sprint customer with your family and friends.

Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we''ll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa® debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.', NULL, NULL, '2009-09-23 22:18:13', '2009-09-23 22:18:13')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 49ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:18:18) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"sprint", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%sprint%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 52ms (View: 35, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 15:18:31) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 37ms (View: 24, DB: 3) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:19:02) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 39ms (View: 26, DB: 4) | 200 OK [http://localhost/businesses/search]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:29:53) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 27ms (View: 17, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 15:30:04) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 36ms (View: 24, DB: 0) | 200 OK [http://localhost/businesses/6]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 15:41:20) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:58:33) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 11, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 16:26:10) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 4) [0m
Completed in 47ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/4]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 19:45:17) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 19:45:23) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 22ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 19:45:28) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 39ms (View: 26, DB: 1) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 19:45:32) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 53ms (View: 41, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-23 19:45:36) [GET]
  Parameters: {"id"=>"11"}
Rendering template within layouts/application
Rendering businesses/requestform
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/requestform/11]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 19:45:41) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 19:45:45) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 19:45:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/home]
  [4;36;1mSQL (55.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 20:25:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 20:25:45) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 20:25:47) [GET]
Rendering businesses/new
Completed in 28ms (View: 16, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 20:47:56) [GET]
Rendering businesses/new
Completed in 27ms (View: 16, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 20:47:59) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 61ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 20:55:02) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 21ms (View: 19, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 20:55:05) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 20:55:11) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 20:55:15) [GET]
Rendering businesses/new
Completed in 29ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 20:55:29) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 54ms (View: 40, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 20:55:32) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 20:55:35) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 20:55:45) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE "pictures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "filename" varchar(255), "filetype" varchar(255), "content" blob, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090924035229')[0m
Migrating to AddPictureAssociationToBusiness (20090924041442)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TEMPORARY TABLE "altered_businesses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" varchar(255), "city" varchar(255), "state" varchar(255), "country" varchar(255), "picture" blob, "rating" integer, "review" text, "category" varchar(255), "description" text, "zipcode" varchar(255), "yelpid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("businesses")[0m
  [4;35;1mSQL (3.0ms)[0m   [0mDROP TABLE "businesses"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCREATE TABLE "businesses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" varchar(255), "city" varchar(255), "state" varchar(255), "country" varchar(255), "rating" integer, "review" text, "category" varchar(255), "description" text, "zipcode" varchar(255), "yelpid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("altered_businesses")[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDROP TABLE "altered_businesses"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "businesses" ADD "picture" reference[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090924041442')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mPRAGMA index_list("pictures")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (42.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 21:32:03) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 161ms (View: 35, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 21:32:12) [GET]
Rendering businesses/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 21:32:18) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 187ms (View: 174, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 21:32:29) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 39ms (View: 29, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 21:32:33) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 57ms (View: 56, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 11:04:31) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 34ms (View: 23, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-24 11:04:36) [GET]
Rendering businesses/new
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 11:05:19) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 11:05:23) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 11:07:55) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-24 11:08:33) [GET]
Rendering businesses/new
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-24 11:08:43) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 54ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing UsersController#new (for 127.0.0.1 at 2009-09-24 11:09:02) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 81ms (View: 72, DB: 0) | 200 OK [http://localhost/users/new]


Processing LoginController#login (for 127.0.0.1 at 2009-09-24 11:09:15) [GET]
Rendering login/login
Completed in 44ms (View: 35, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-24 11:09:16) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-24 11:09:16) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 69ms (View: 56, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-24 11:09:51) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-24 11:10:13) [GET]
  Parameters: {"id"=>"11"}
Rendering template within layouts/application
Rendering businesses/requestform
Completed in 17ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/requestform/11]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-24 11:13:48) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-24 11:15:08) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 49ms (View: 37, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-24 11:15:18) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 38ms (View: 28, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-24 11:20:21) [GET]
  Parameters: {"id"=>"6"}

ActionController::UnknownAction (No action responded to referalform. Actions: create, destroy, edit, index, new, search, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-24 11:24:22) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 104ms (View: 93, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 14:42:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 1284ms (View: 1282, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 15:01:05) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 9, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 15:02:05) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 15:05:55) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-24 15:06:05) [GET]
Rendering businesses/new
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 17:11:53) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 17:16:19) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 17:16:20) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing LoginController#login (for 127.0.0.1 at 2009-09-24 17:16:24) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]

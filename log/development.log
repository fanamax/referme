  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (4.0ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE "businesses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" varchar(255), "city" varchar(255), "state" varchar(255), "country" varchar(255), "picture" blob, "rating" integer, "review" text, "category" varchar(255), "description" text, "zipcode" varchar(255), "yelpid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090827180332')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("businesses")[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-30 13:49:09) [GET]

ActionController::UnknownAction (No action responded to index. Actions: ):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 13:58:44) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED compile error
c:/Ruby/Referme/app/views/layouts/application.html.erb:16: syntax error, unexpected ':', expecting ')'
...@output_buffer.concat(( yield: content ).to_s); @output_buff...
                              ^
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n"
@output_buffer.concat "\t<head>\n"
@output_buffer.concat "\t</head>\n"
@output_buffer.concat "\t<body>\n"
@output_buffer.concat "\t\t<div id = \"SearchPanel\">\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( javascript_include_tag :default ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  form_remote_tag :url => {:controller => 'businesses', :action => 'search'} do ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<p>Business Name (e.g. The Onyx Apartment)</p>\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t<p>Location (e.g. Redmond, WA)</p>\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( text_field_tag :location, params[:location], :id => 'location_field' ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t\t<div id = \"content\">\n"
@output_buffer.concat "\t\t\t"; @output_buffer.concat(( yield: content ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t</body>\n"
@output_buffer.concat "</html>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/Ruby/Referme/app/views/layouts/application.html.erb:22:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:347:in `_render_with_layout'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/webrick.rb:46:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/webrick.rb:13:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
c:/Ruby/Referme/app/views/layouts/application.html.erb:16: syntax error, unexpected ':', expecting ')'
...@output_buffer.concat(( yield: content ).to_s); @output_buff...
                              ^) on line #16 of app/views/layouts/application.html.erb:
13: 			<% end %>
14: 		</div>
15: 		<div id = "content">
16: 			<%= yield: content %>
17: 		</div>
18: 	</body>
19: </html>

    app/views/layouts/application.html.erb:22:in `compile!'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:01:32) [GET]
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #1 of app/views/home/index.html.erb:
1: <% content_for do %>
2: 	<title>A simple page</title>
3: <% end %>

    app/views/home/index.html.erb:1:in `content_for'
    app/views/home/index.html.erb:1
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:02:06) [GET]
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (No expansion found for :default) on line #6 of app/views/layouts/application.html.erb:
3: 	</head>
4: 	<body>
5: 		<div id = "SearchPanel">
6: 			<%= javascript_include_tag :default %>
7: 			<% form_remote_tag :url => {:controller => 'businesses', :action => 'search'} do %>
8: 			<p>Business Name (e.g. The Onyx Apartment)</p>
9: 			<%= text_field_tag :businessname, params[:businessname], :id => 'businessname_field' %>

    app/views/layouts/application.html.erb:6
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (140.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:03:08) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 606ms (View: 604, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:03:15) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:03:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:03:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 9ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:04:18) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:05:17) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:05:18) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:27:24) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:39:24) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:39:43) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:39:51) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:47:34) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:47:38) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:49:50) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:50:04) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:51:33) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:52:15) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 14:53:19) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]
  [4;36;1mBusiness Create (1.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "city", "rating", "yelpid", "category", "updated_at", "review", "zipcode", "country", "description", "picture", "address", "state", "created_at") VALUES(NULL, NULL, NULL, NULL, NULL, '2009-08-30 22:10:23', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2009-08-30 22:10:23')[0m
  [4;35;1mBusiness Update (1.0ms)[0m   [0mUPDATE "businesses" SET "category" = 'Apartment', "city" = 'Redmond', "name" = 'The Onyx Apartment', "zipcode" = '98052', "country" = 'United States', "state" = 'WA', "address" = '4850 156th AVE NE', "updated_at" = '2009-08-30 22:12:33' WHERE "id" = 1[0m


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:33:06) [GET]
  Parameters: {"url"=>{"action"=>"search", "controller"=>"businesses"}}
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url[action]=search&url[controller]=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:33:14) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"redmond"}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:33:16) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:33:17) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:08) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:09) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:10) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:23) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:24) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:25) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:25) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:34:25) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:40:13) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 8, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:40:15) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:40:17) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:41:18) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 21, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:41:20) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:41:20) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 15:48:19) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "url"=>{"action"=>"search", "controller"=>"businesses"}, "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/home?url%5Baction%5D=search&url%5Bcontroller%5D=businesses]


Processing ApplicationController#search (for 127.0.0.1 at 2009-08-30 15:48:21) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}

SyntaxError (c:/Ruby/Referme/app/controllers/businesses_controller.rb:4: syntax error, unexpected tIDENTIFIER, expecting kEND
	@businesses = Business.search params[:businessname] params[:city]
	                                                          ^):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:49:15) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5a3ba60>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:49:37) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5918b4c>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:50:32) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x583fdd8>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:51:10) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5a3a64c>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (72.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:55:47) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5916c5c>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 15:56:47) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
Rendering template within layouts/application
Rendering businesses/search

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #2 of app/views/businesses/search.html.erb:
1: <table>
2: <% @businesses.each do |business| %>
3: <tr>
4: <td>
5: <%= business.name %>

    app/views/businesses/search.html.erb:2
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
    C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (177.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#search (for 127.0.0.1 at 2009-08-30 16:00:32) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}

NameError (uninitialized constant BusinessesController):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-30 16:00:41) [GET]

ActionController::RoutingError (No route matches "/business/search" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:02:01) [GET]
  [4;36;1mSQL (2.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x591b018>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (5.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:02:05) [GET]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5817824>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-08-30 16:02:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 30ms (View: 26, DB: 0) | 200 OK [http://localhost/]


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:02:15) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>""}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x59cb8c8>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:02:20) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"ss"}
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x58c0974>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 16:04:47) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"ss"}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aa' for #<Class:0x57ebc9c>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (162.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessController#search (for 127.0.0.1 at 2009-08-30 17:07:17) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"ss"}
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x59c69cc>):
  app/controllers/business_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (131.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#search (for 127.0.0.1 at 2009-08-30 17:25:32) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"6otukF4R7SIjMgcXbXyYNFUJZivGGOwSEEsERR/+MHk=", "location"=>"ss"}

NameError (uninitialized constant BusinessController):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (84.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-08-30 17:25:38) [GET]

ActionController::RoutingError (No route matches "/businesses/search" with {:method=>:get}):
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 17:26:17) [GET]
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5b1fd78>):
  app/controllers/businesses_controller.rb:3:in `search'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  C:/Ruby/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:95:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `each'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:92:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:23:in `start'
  C:/Ruby/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (4.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-08-30 17:27:35) [GET]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 11:17:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 2840ms (View: 2838, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:17:33) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x5393cf8>):
  app/controllers/businesses_controller.rb:4:in `search'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:19:55) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/businesses_controller.rb:5:in `method'
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:20:25) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/businesses_controller.rb:5:in `method'
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:21:16) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x4359798>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:44:07) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x5408b34>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 11:44:58) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x49582e8>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (126.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 14:34:53) [GET]

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x54d1d68>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 14:42:13) [POST]
  Parameters: {"businessname"=>"sss", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"sss"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x4a042a0>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (119.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 16:20:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 22ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 16:20:33) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x53ab95c>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 17:49:42) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 17:49:48) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"ff"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `aaa' for #<Class:0x556877c>):
  app/controllers/businesses_controller.rb:5:in `search'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 17:50:28) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"ff"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x52f3988>):
  app/controllers/businesses_controller.rb:4:in `search'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 17:56:45) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"ff"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `search' for #<Class:0x54936a8>):
  app/controllers/businesses_controller.rb:4:in `search'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 18:06:54) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 21ms (View: 19, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#search (for 127.0.0.1 at 2009-09-13 18:07:01) [POST]
  Parameters: {"businessname"=>"aaaa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

LoadError (Expected c:/Ruby/Referme/app/controllers/businesses_controller.rb to define BusinessesController):
  

Rendered rescues/_trace (55.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#search (for 127.0.0.1 at 2009-09-13 18:08:39) [POST]
  Parameters: {"businessname"=>"aaaa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

NameError (uninitialized constant BusinessesController):
  

Rendered rescues/_trace (53.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 18:08:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-13 18:08:54) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

ActionController::RoutingError (No route matches "/businesss/search" with {:method=>:post}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-13 18:19:31) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"aa"}

ActionController::RoutingError (No route matches "/businesss/search" with {:method=>:post}):
  

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 18:19:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-13 18:19:40) [POST]
  Parameters: {"businessname"=>"hfoadf", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"haodfhaodf"}

ActionController::RoutingError (No route matches "/businesss/search" with {:method=>:post}):
  

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-13 18:20:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:20:03) [POST]
  Parameters: {"businessname"=>"hfoadf", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"haodfhaodf"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%hfoadf%' AND city = '%hfoadf%') [0m

ActionView::MissingTemplate (Missing template businesses/search.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:22:48) [POST]
  Parameters: {"businessname"=>"hfoadf", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>"haodfhaodf"}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%hfoadf%' AND city = '%hfoadf%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 23ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:23:05) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%' AND city = '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:23:14) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%' AND city = '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:23:15) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

***** Debugger requested, but was not available: Start server with --debugger to enable *****
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%' AND city = '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:23:40) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

ActiveRecord::PreparedStatementInvalid (wrong number of bind variables (2 for 1) in: name LIKE ?):
  app/models/business.rb:4:in `search'
  app/controllers/businesses_controller.rb:3:in `search'

Rendered rescues/_trace (70.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-13 18:24:09) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (16.0ms)[0m   [0mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "displayname" varchar(255), "email" varchar(255), "ratingcount" integer, "averagerating" integer, "picture" blob, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090915061534')[0m
Migrating to CreateReferals (20090916041044)
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE "referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "publishtime" datetime, "description" text, "offerprice" integer, "user_id" integer, "business_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090916041044')[0m
Migrating to CreateRequests (20090916041112)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "publishtime" datetime, "description" text, "askprice" integer, "user_id" integer, "business_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090916041112')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("businesses")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("updated_at", "displayname", "ratingcount", "averagerating", "picture", "email", "created_at") VALUES('2009-09-16 04:18:38', NULL, NULL, NULL, NULL, NULL, '2009-09-16 04:18:38')[0m
  [4;35;1mReferal Create (1.0ms)[0m   [0mINSERT INTO "referals" ("updated_at", "business_id", "publishtime", "description", "offerprice", "user_id", "created_at") VALUES('2009-09-16 04:19:54', NULL, NULL, NULL, NULL, NULL, '2009-09-16 04:19:54')[0m
  [4;36;1mUser Update (4.0ms)[0m   [0;1mUPDATE "users" SET "ratingcount" = 10, "email" = 'yanji84@gmail.com', "averagerating" = 5, "displayname" = 'max', "updated_at" = '2009-09-16 05:06:11' WHERE "id" = 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mReferal Update (2.0ms)[0m   [0;1mUPDATE "referals" SET "offerprice" = 700, "business_id" = 1, "description" = 'I am look for someone to split 1000 dollars, anyone interested?', "updated_at" = '2009-09-16 05:10:42', "user_id" = 1 WHERE "id" = 1[0m
  [4;35;1mUser Create (2.0ms)[0m   [0mINSERT INTO "users" ("updated_at", "displayname", "ratingcount", "averagerating", "picture", "email", "created_at") VALUES('2009-09-16 05:10:59', NULL, NULL, NULL, NULL, NULL, '2009-09-16 05:10:59')[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "ratingcount" = 10, "email" = 'yanji84@gmail.com', "averagerating" = 6, "displayname" = 'walala', "updated_at" = '2009-09-16 05:12:51' WHERE "id" = 2[0m
  [4;35;1mRequest Create (1.0ms)[0m   [0mINSERT INTO "requests" ("updated_at", "business_id", "publishtime", "description", "user_id", "askprice", "created_at") VALUES('2009-09-16 05:12:59', NULL, NULL, NULL, NULL, NULL, '2009-09-16 05:12:59')[0m
  [4;36;1mRequest Update (1.0ms)[0m   [0;1mUPDATE "requests" SET "business_id" = 1, "description" = 'I am looking for someone to split 1000 dollars, anyone?', "askprice" = 700, "updated_at" = '2009-09-16 05:14:41', "user_id" = 2 WHERE "id" = 1[0m


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-15 22:58:00) [POST]
  Parameters: {"businessname"=>"", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-15 22:58:03) [POST]
  Parameters: {"businessname"=>"aa", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%aa%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-15 23:41:02) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (18.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 126ms (View: 50, DB: 18) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 11:34:57) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (21.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 1462ms (View: 969, DB: 22) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 11:36:41) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (26.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 171ms (View: 111, DB: 27) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:07:04) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
ERROR: compiling _run_erb_app47views47businesses47search46html46erb RAISED compile error
c:/Ruby/Referme/app/views/businesses/search.html.erb:15: syntax error, unexpected tIDENTIFIER, expecting ')'
...'number of referals,' business.requests.count 'number of req...
                              ^
Function body:           def _run_erb_app47views47businesses47search46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
 @businesses.each do |business| ; @output_buffer.concat "\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( business.name ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( business.address ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( link_to business.referals.count 'number of referals,' business.requests.count 'number of requests', business ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "</table>"; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/Ruby/Referme/app/views/businesses/search.html.erb:21:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/chunked.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:61:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
c:/Ruby/Referme/app/views/businesses/search.html.erb:15: syntax error, unexpected tIDENTIFIER, expecting ')'
...'number of referals,' business.requests.count 'number of req...
                              ^) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to business.referals.count 'number of referals,' business.requests.count 'number of requests', business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:21:in `compile!'

Rendered rescues/_trace (201.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:07:31) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m

ActionView::TemplateError (String can't be coerced into Fixnum) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to business.referals.count + 'number of referals,' + business.requests.count + 'number of requests', business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15:in `+'
    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (141.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:09:18) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m

ActionView::TemplateError (String can't be coerced into Fixnum) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to business.referals.count + " number of referals,'" + business.requests.count + " number of requests", business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15:in `+'
    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (145.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:12:14) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (undefined method `business_path' for #<ActionView::Base:0x559edb8>) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to "#{business.referals.count} number of referals, #{business.requests.count} number of requests", business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (89.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:13:03) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (undefined method `business_path' for #<ActionView::Base:0x56815a0>) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to "#{business.referals.count} number of referals, #{business.requests.count} number of requests", business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:17:56) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (undefined method `business_path' for #<ActionView::Base:0x4995e40>) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to "#{business.referals.count} number of referals, #{business.requests.count} number of requests", business %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:18:14) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (undefined local variable or method `business_path' for #<ActionView::Base:0x532dc28>) on line #15 of app/views/businesses/search.html.erb:
12: </tr>
13: <tr>
14: <td>
15: <%= link_to "#{business.referals.count} number of referals, #{business.requests.count} number of requests", business_path %>
16: </td>
17: <% end %>
18: </table>

    app/views/businesses/search.html.erb:15
    app/views/businesses/search.html.erb:2:in `each'
    app/views/businesses/search.html.erb:2

Rendered rescues/_trace (135.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:21:31) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 34, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 14:21:40) [GET]

ActionController::RoutingError (No route matches "/business/show" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:23:09) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 43ms (View: 29, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 14:23:11) [GET]

ActionController::RoutingError (No route matches "/business/show" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:23:47) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 45ms (View: 33, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:23:48) [GET]
Rendering template within layouts/application
Rendering businesses/show
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/show]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:23:56) [GET]
Rendering template within layouts/application
Rendering businesses/show
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/show]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:30:23) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 83ms (View: 71, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:30:25) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (119.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:00) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:02) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (61.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:32:07) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:08) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
Completed in 18ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:49) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:52) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:32:55) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 32, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:32:56) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:34:03) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 45ms (View: 34, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:34:04) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (119.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:34:59) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 35, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:35:37) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 36, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:35:41) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'

Rendered rescues/_trace (120.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:36:16) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 33, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:36:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 38ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 30ms (View: 16, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 30ms (View: 15, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (60.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 91ms (View: 17, DB: 61) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:50:52) [POST]
  Parameters: {"businessname"=>"a", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%a%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 36, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:50:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
Completed in 31ms (View: 16, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:52:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 53ms (View: 35, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:55:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 68ms (View: 52, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 14:55:24) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 42ms (View: 29, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 14:55:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 60ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:36:31) [GET]

ActionController::RoutingError (No route matches "/public/404.html" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 15:40:20) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 34, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#greybox to js (for 127.0.0.1 at 2009-09-17 15:40:20) [GET]
  Parameters: {"id"=>"AJS"}

ActionController::UnknownAction (No action responded to greybox. Actions: index, search, and show):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#greybox to js (for 127.0.0.1 at 2009-09-17 15:40:20) [GET]
  Parameters: {"id"=>"AJS_fx"}

ActionController::UnknownAction (No action responded to greybox. Actions: index, search, and show):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#greybox to js (for 127.0.0.1 at 2009-09-17 15:40:20) [GET]
  Parameters: {"id"=>"gb_scripts"}

ActionController::UnknownAction (No action responded to greybox. Actions: index, search, and show):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#greybox to css (for 127.0.0.1 at 2009-09-17 15:40:20) [GET]
  Parameters: {"id"=>"gb_styles"}

ActionController::UnknownAction (No action responded to greybox. Actions: index, search, and show):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 70ms (View: 42, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS_fx.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_scripts.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:40:22) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_styles.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 15:42:25) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 67ms (View: 49, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:42:25) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:42:26) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS_fx.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:42:26) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_scripts.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:42:26) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_styles.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 15:51:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 126ms (View: 109, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:07) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:07) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS_fx.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:07) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_scripts.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:08) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_styles.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 15:51:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 73ms (View: 55, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:39) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:40) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/AJS_fx.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:40) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_scripts.js" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-17 15:51:40) [GET]

ActionController::RoutingError (No route matches "/businesses/show/greybox/gb_styles.css" with {:method=>:get}):
  

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 16:09:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 65ms (View: 47, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 16:09:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 61ms (View: 43, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 17:14:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (undefined local variable or method `greybox_includes' for #<ActionView::Base:0x49012a4>) on line #11 of app/views/layouts/application.html.erb:
8: 		}
9: 		</style>
10: 	
11: 	<%= greybox_includes %>
12: 	</head>
13: 	<body>
14: 		<table border="1" class="center">

    app/views/layouts/application.html.erb:11

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 17:19:06) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 155ms (View: 96, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 17:19:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 70ms (View: 54, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-17 17:19:10) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-17 17:19:20) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:16:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 72ms (View: 54, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-17 20:16:35) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:34:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 79ms (View: 60, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 20:34:28) [GET]
Rendering template within layouts/application
Rendering businesses/referalform
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:46:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 73ms (View: 54, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:46:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 61ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-17 20:46:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-17 20:56:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#search (for 127.0.0.1 at 2009-09-17 20:56:59) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

SyntaxError (c:/Ruby/Referme/app/controllers/businesses_controller.rb:11: syntax error, unexpected ':', expecting kEND
	render template: => 'businesses/referalform', :layout => false
	                ^
c:/Ruby/Referme/app/controllers/businesses_controller.rb:11: syntax error, unexpected ',', expecting kEND
	render template: => 'businesses/referalform', :layout => false
	                                             ^):
  

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (3.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#search (for 127.0.0.1 at 2009-09-17 20:57:22) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}

SyntaxError (c:/Ruby/Referme/app/controllers/businesses_controller.rb:11: syntax error, unexpected ':', expecting kEND
	render template: => 'businesses/referalform' :layout => false
	                ^
c:/Ruby/Referme/app/controllers/businesses_controller.rb:11: syntax error, unexpected ':', expecting kEND
	render template: => 'businesses/referalform' :layout => false
	                                              ^):
  

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-17 20:58:03) [POST]
  Parameters: {"businessname"=>"onyx", "commit"=>"Search", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "location"=>""}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 113ms (View: 97, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 20:58:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 62ms (View: 47, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 20:58:08) [GET]
Rendering businesses/referalform
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 20:58:12) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "comment"=>"", "email"=>""}
Rendering template within layouts/application
Rendering businesses/sendemail
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/sendemail]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:01:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 65ms (View: 49, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:01:49) [GET]
Rendering businesses/referalform
ERROR: compiling _run_erb_app47views47businesses47referalform46html46erb RAISED compile error
c:/Ruby/Referme/app/views/businesses/referalform.html.erb:6: syntax error, unexpected ':', expecting ')'
...email], :id => 'email_field' :size => 70 ).to_s); @output_bu...
                              ^
c:/Ruby/Referme/app/views/businesses/referalform.html.erb:12: syntax error, unexpected ':', expecting ')'
...ent], :id => 'comment_field' :size => 200).to_s); @output_bu...
                              ^
Function body:           def _run_erb_app47views47businesses47referalform46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  form_tag '/businesses/sendemail' do ; @output_buffer.concat "\n"
@output_buffer.concat "<table>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "<label>Leave your email</label>\n"
@output_buffer.concat(( text_field_tag :email, params[:email], :id => 'email_field' :size => 70 ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat "<label>Leave your comment</label>\n"
@output_buffer.concat(( text_field_tag :comment, params[:comment], :id => 'comment_field' :size => 200).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "<tr>\n"
@output_buffer.concat "<td>\n"
@output_buffer.concat(( submit_tag "Send" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "</td>\n"
@output_buffer.concat "</tr>\n"
@output_buffer.concat "</table>\n"
 end ; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/Ruby/Referme/app/views/businesses/referalform.html.erb:24:in `compile!'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render'
c:/Ruby/Referme/app/controllers/businesses_controller.rb:11:in `referalform'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:1322:in `perform_action_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/Ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `send'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process_without_filters'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `synchronize'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/static.rb:31:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:46:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/urlmap.rb:40:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/rails/rack/log_tailer.rb:17:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/content_length.rb:13:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/chunked.rb:15:in `call'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:61:in `process'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
C:/Ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/handler/mongrel.rb:34:in `run'
C:/Ruby/lib/ruby/gems/1.8/gems/rails-2.3.2/lib/commands/server.rb:111
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/Ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
c:/Ruby/Referme/app/views/businesses/referalform.html.erb:6: syntax error, unexpected ':', expecting ')'
...email], :id => 'email_field' :size => 70 ).to_s); @output_bu...
                              ^
c:/Ruby/Referme/app/views/businesses/referalform.html.erb:12: syntax error, unexpected ':', expecting ')'
...ent], :id => 'comment_field' :size => 200).to_s); @output_bu...
                              ^) on line #6 of app/views/businesses/referalform.html.erb:
3: <tr>
4: <td>
5: <label>Leave your email</label>
6: <%= text_field_tag :email, params[:email], :id => 'email_field' :size => 70 %>
7: </td>
8: </tr>
9: <tr>

    app/views/businesses/referalform.html.erb:24:in `compile!'
    app/controllers/businesses_controller.rb:11:in `referalform'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:02:12) [GET]
Rendering businesses/referalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:03:28) [GET]
Rendering businesses/referalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:04:15) [GET]
Rendering businesses/referalform
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:04:38) [GET]
Rendering businesses/referalform
Completed in 75ms (View: 73, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:05:24) [GET]
Rendering businesses/referalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:05:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 64ms (View: 48, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:05:57) [GET]
Rendering businesses/referalform
Completed in 11ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:21:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 72ms (View: 53, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:21:10) [GET]
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 21:21:14) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "comment"=>"", "email"=>"yanji84@gmail.com"}

SyntaxError (c:/Ruby/Referme/app/models/mailer.rb:3: syntax error, unexpected tSTRING_BEG, expecting kEND
	@from "sender.address@example.com"
	       ^
c:/Ruby/Referme/app/models/mailer.rb:4: syntax error, unexpected tIDENTIFIER, expecting kEND
c:/Ruby/Referme/app/models/mailer.rb:5: syntax error, unexpected tSTRING_BEG, expecting kEND
	@subject "Hi #{recipient}"
	          ^
c:/Ruby/Referme/app/models/mailer.rb:6: syntax error, unexpected '(', expecting kEND
	@body(:recipient => recipient)
	      ^):
  app/controllers/businesses_controller.rb:15:in `sendemail'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:41:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (undefined local variable or method `businesses' for #<ActionView::Base:0x4c6c4c0>) on line #67 of app/views/businesses/show.html.erb:
64: </tr>
65: <tr>
66: <td>
67: <%= link_to "Contact Me", {:controller => businesses, :action => referalform, :id => @business.id}, :rel => 'gb_page_fs[]' %></td>
68: </tr>
69: <% end %>
70: </table>

    app/views/businesses/show.html.erb:67
    app/views/businesses/show.html.erb:49

Rendered rescues/_trace (143.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:42:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 73ms (View: 56, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:42:42) [GET]
  Parameters: {"id"=>"1"}

NameError (undefined local variable or method `param' for #<BusinessesController:0x41dd98c>):
  app/controllers/businesses_controller.rb:11:in `referalform'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:43:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 68ms (View: 48, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:43:18) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform/1

ActionView::MissingTemplate (Missing template businesses/referalform/1.erb in view path app/views):
  app/controllers/businesses_controller.rb:11:in `referalform'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:49:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 67ms (View: 49, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:49:21) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform

ActionView::TemplateError (undefined local variable or method `businesses' for #<ActionView::Base:0x4f0e0c0>) on line #1 of app/views/businesses/referalform.html.erb:
1: <% form_tag :controller => businesses, :action => sendemail, :id => @businessid do %>
2: <table>
3: <tr>
4: <td>

    app/views/businesses/referalform.html.erb:1
    app/controllers/businesses_controller.rb:12:in `referalform'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:49:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 68ms (View: 50, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:49:59) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 21:50:05) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"", "email"=>"yan"}

NameError (undefined local variable or method `param' for #<BusinessesController:0x4e7fa50>):
  app/controllers/businesses_controller.rb:16:in `sendemail'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:51:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 64ms (View: 47, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:51:37) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 21:51:42) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"aaa", "email"=>"yanji84@gmail.com"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m

NoMethodError (undefined method `user' for #<Business:0x4f1238c>):
  app/controllers/businesses_controller.rb:17:in `sendemail'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 21:56:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 75ms (View: 58, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:57:03) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 21:58:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:00:09) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:03:57) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 10ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:04:04) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalala", "email"=>"yanji84@gmail.com"}

NameError (uninitialized constant BusinessesController::Referals):
  app/controllers/businesses_controller.rb:16:in `sendemail'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 22:04:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 124ms (View: 103, DB: 7) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:04:34) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:04:39) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalal", "email"=>"yanji84@gmail.com"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:04:39 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
lalal

Thanks
Completed in 1132ms (View: 1, DB: 2) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 22:08:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 67ms (View: 47, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:08:56) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 6ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:09:03) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalal", "email"=>"yanji84@gmail.com"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:09:03 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
lalal

Thanks
Completed in 1108ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:09:19) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalal", "email"=>"yanji84@gmail.com"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:09:19 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
lalal

Thanks
Completed in 1060ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 22:11:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 66ms (View: 50, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:11:31) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 6ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:11:49) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"lalala", "email"=>"yanji84@gmail.com"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:11:49 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
lalala

Thanks
Completed in 1044ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-17 22:20:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 126ms (View: 108, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:20:03) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:20:32) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"wallaal", "email"=>"yanji84@gmail.com"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:20:32 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
wallaal

Thanks
Completed in 1062ms (View: 1, DB: 2) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-17 22:22:59) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-17 22:23:03) [POST]
  Parameters: {"commit"=>"Send", "authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "id"=>"1", "comment"=>"fadfadf", "email"=>"yanji84@gmail.com"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Thu, 17 Sep 2009 22:23:03 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
fadfadf

Thanks
Completed in 1050ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:28:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 386ms (View: 269, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:30:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 83ms (View: 72, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:30:44) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 38ms (View: 36, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:30:52) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaaa", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Sat, 19 Sep 2009 13:30:52 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
aaaa

Thanks
Completed in 610ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:33:19) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:33:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 48ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:33:24) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:33:28) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"llll", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Sat, 19 Sep 2009 13:33:28 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
llll

Thanks
Completed in 439ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:35:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 90ms (View: 78, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:35:52) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:35:57) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaaaa", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Sat, 19 Sep 2009 13:35:57 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
aaaaa

Thanks
Completed in 452ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:39:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 49ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-19 13:39:14) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 62ms (View: 53, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:39:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 52ms (View: 38, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:39:17) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:39:21) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"jkhj", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

Date: Sat, 19 Sep 2009 13:39:21 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi yanji84@gmail.com
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

You are having one email message with a tilte 

Hi
and following is the message:
jkhj

Thanks
Completed in 489ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:54:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 55ms (View: 42, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:54:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:54:46) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"ad", "comment"=>"df", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 447ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 13:55:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 264ms (View: 175, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 13:55:36) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 13:55:37) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 5110ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:01:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 50ms (View: 37, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:01:26) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:01:39) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"Do you want to split $1000 with me?", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m

SyntaxError (c:/Referme/app/models/mailer.rb:6: syntax error, unexpected '(', expecting keyword_end
	@body(:senderemail => senderemail)
	      ^):
  app/controllers/businesses_controller.rb:17:in `sendemail'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (116.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:03:06) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:03:13) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"wanna split?", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ArgumentError (wrong number of arguments (1 for 3)):
  app/controllers/businesses_controller.rb:17:in `sendemail'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:04:22) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:04:27) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"lalala", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (117.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:06:15) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:06:20) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaa", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:07:51) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:07:54) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaa", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:08:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 51ms (View: 38, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:08:49) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:08:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"adf", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:10:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 50ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:10:32) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:10:33) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: no-reply@referme.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 2588ms (View: 1, DB: 2) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:10:48) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:10:49) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: no-reply@referme.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 2141ms (View: 1, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:11:01) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:11:02) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: no-reply@referme.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 1752ms (View: 1, DB: 2) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:11:07) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:11:10) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (120.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:18:34) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 56ms (View: 42, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:18:36) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:18:40) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"yanji84@gmail.com", "comment"=>"aaa", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@yanji84@gmail.com' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (120.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:20:37) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:20:42) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"wanna split?", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (`@wanna split?' is not allowed as an instance variable name) in app/views/mailer/mail.rhtml:

    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:27:13) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:27:16) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"adfadf", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `content' for #<ActionView::Base:0x4b230e0>) on line #3 of app/views/mailer/mail.rhtml:
1: Hi!
2: 
3: <%= content %>
4: 
5: Thanks

    app/views/mailer/mail.rhtml:3:in `_run_rhtml_app47views47mailer47mail46rhtml'
    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:27:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:27:44) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"aaaa", "commit"=>"Send", "id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `content' for #<ActionView::Base:0x399a300>) on line #3 of app/views/mailer/mail.rhtml:
1: Hi!
2: 
3: <%= content %>
4: 
5: Thanks

    app/views/mailer/mail.rhtml:3:in `_run_rhtml_app47views47mailer47mail46rhtml'
    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:28:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 55ms (View: 39, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:28:11) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:28:15) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"lalala", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m

ActionView::TemplateError (undefined local variable or method `content' for #<ActionView::Base:0x4588e20>) on line #3 of app/views/mailer/mail.rhtml:
1: Hi!
2: 
3: <%= content %>
4: 
5: Thanks

    app/views/mailer/mail.rhtml:3:in `_run_rhtml_app47views47mailer47mail46rhtml'
    app/controllers/businesses_controller.rb:17:in `sendemail'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:32:40) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#sendemail (for 127.0.0.1 at 2009-09-19 14:32:42) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "email"=>"", "comment"=>"", "commit"=>"Send", "id"=>"1"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Sent mail to yanji84@gmail.com

From: no-reply@referme.com
To: yanji84@gmail.com
Subject: Hi, how are you
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Hi!

Thanks
Completed in 2018ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses/sendemail/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:34:46) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 46ms (View: 44, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:36:34) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:37:58) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:38:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 59ms (View: 44, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:38:04) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:38:16) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 14:46:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 66ms (View: 55, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-19 14:46:31) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-19 14:46:34) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/requestform
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/requestform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 18:38:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 57ms (View: 42, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 18:43:24) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 18ms (View: 16, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-19 18:43:34) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 39ms (View: 29, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 18:43:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 48ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 19:44:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 104ms (View: 90, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 19:44:19) [GET]

ActionController::RoutingError (No route matches "/business/createreferalform" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-19 19:46:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 59ms (View: 46, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-19 19:46:12) [GET]
Rendering businesses/createreferalform
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/createreferalform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-19 19:46:18) [GET]
Rendering businesses/createrequestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 19:46:34) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (44.0ms)[0m   [0mALTER TABLE "users" ADD "password" varchar(255)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090920025709')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("businesses")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 20:05:45) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47home47index46html46erb RAISED c:/Referme/app/views/home/index.html.erb:1: syntax error, unexpected ':', expecting ')'
...r.concat(( link_to "New User" :controller => 'users', :actio...
...                               ^
c:/Referme/app/views/home/index.html.erb:1: syntax error, unexpected ',', expecting ')'
...w User" :controller => 'users', :action => 'create' ).to_s);...
...                               ^
Function body:           def _run_erb_app47views47home47index46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat(( link_to "New User" :controller => 'users', :action => 'create' ).to_s); @output_buffer.concat "\n"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/home/index.html.erb:1: syntax error, unexpected ':', expecting ')'
...r.concat(( link_to "New User" :controller => 'users', :actio...
...                               ^
c:/Referme/app/views/home/index.html.erb:1: syntax error, unexpected ',', expecting ')'
...w User" :controller => 'users', :action => 'create' ).to_s);...
...                               ^) on line #1 of app/views/home/index.html.erb:
1: <%= link_to "New User" :controller => 'users', :action => 'create' %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 20:06:03) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:06:05) [GET]

ActionController::RoutingError (No route matches "/users/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-19 20:07:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:07:27) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:13:56) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:13:58) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-19 20:13:59) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:40:19) [GET]

ActionController::RoutingError (No route matches "/..%5Ccontrollers%5Cusers/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:40:24) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:40:26) [GET]

ActionController::RoutingError (No route matches "/users/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:40:41) [GET]

ActionController::RoutingError (No route matches "/users/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:40:45) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:40:46) [GET]

ActionController::RoutingError (No route matches "/user/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:42:24) [GET]

ActionController::RoutingError (No route matches "/user/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:43:03) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 13:43:05) [GET]

ActiveRecord::RecordNotFound (Couldn't find Business without an ID):
  app/controllers/businesses_controller.rb:7:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:43:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:43:29) [GET]

ActionController::RoutingError (No route matches "/users" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:47:49) [GET]

ActionController::RoutingError (No route matches "/users" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:47:50) [GET]

ActionController::RoutingError (No route matches "/users" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:48:42) [GET]

ActionController::RoutingError (No route matches "/users" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 13:51:38) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-20 13:51:39) [GET]

ActionController::RoutingError (No route matches "/users/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 13:57:26) [GET]
Rendering template within layouts/application
Rendering users/create
Completed in 18ms (View: 17, DB: 0) | 200 OK [http://localhost/users/create]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:01:37) [GET]
Rendering template within layouts/application
Rendering users/create
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:03:14) [GET]
Rendering template within layouts/application
Rendering users/create
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:03:24) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering users/create
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/users/create]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:04:11) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering users/create
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:05) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:15) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:17) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:17) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:21) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:42) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 71ms (View: 69, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:05:44) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:07:28) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create

ActionView::TemplateError (undefined local variable or method `new' for #<ActionView::Base:0x9d80aa0>) on line #1 of app/views/users/create.html.erb:
1: <% form_for :user, :controller => :users, :action => new do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:3:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:07:52) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create

ActionView::TemplateError (undefined local variable or method `users' for #<ActionView::Base:0x986d580>) on line #1 of app/views/users/create.html.erb:
1: <% form_for :user, :controller => users, :action => new do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:3:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:08:50) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/create
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:08:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:08:54) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:01) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:01) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:01) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:17) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:09:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:33) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:33) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "usjher"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 14:10:37) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:38) [GET]
Rendering users/create
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:40) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "usjher"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:10:40) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "usjher"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/create
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 14:17:29) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:17:30) [GET]
Rendering users/create

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x2eb7c20>) on line #1 of app/views/users/create.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:4:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:19:16) [GET]
Rendering users/create
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:19:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"New"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:19:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"New"}
Rendering users/create
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:21:51) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"New"}
Rendering users/create

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x97c9ae0>) on line #1 of app/views/users/create.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:4:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 14:24:19) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"New"}
Rendering users/create

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x88c17e0>) on line #1 of app/views/users/create.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/create.html.erb:1
    app/controllers/users_controller.rb:4:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (84.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 14:29:33) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 14:29:34) [GET]

ActionView::MissingTemplate (Missing template users/new.erb in view path app/views):
  app/controllers/users_controller.rb:11:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 14:30:11) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x3b83840>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:01:41) [GET]
Rendering users/new
Completed in 15ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:01:42) [GET]
Rendering users/new
Completed in 9ms (View: 1, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:01:48) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x9ced540>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:25:48) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x96ba9c0>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 15:26:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:26:01) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x74684c0>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:26:51) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x3c3b3e0>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:29:45) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x300a800>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:30:45) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x99a2980>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 15:30:50) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:30:52) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x8d77420>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:42:19) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x496aa60>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-09-20 15:42:22) [GET]

ActionController::UnknownAction (No action responded to index. Actions: create and new):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 15:42:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:42:27) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x37d7de0>) on line #1 of app/views/users/new.html.erb:
1: <% form_for(@user) do |u| %>
2:   <%= u.error_messages %>
3:   <p>
4:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:1
    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (151.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 15:46:04) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:46:06) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:46:10) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:51:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:52:45) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:53:50) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:53:51) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 15:55:37) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 16:08:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 16:08:48) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 16:08:49) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 16:08:51) [GET]
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES(NULL, NULL, NULL, NULL, NULL, '2009-09-20 23:08:51', '2009-09-20 23:08:51', NULL)[0m
Completed in 25ms (View: 2, DB: 1) | 200 OK [http://localhost/users/create]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 16:11:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 16:11:59) [GET]
Rendering users/new
Completed in 57ms (View: 49, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-20 16:12:05) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('Ji', 'yanji84@gmail.com', NULL, NULL, NULL, '2009-09-20 23:12:05', '2009-09-20 23:12:05', 'yyyyyy')[0m
Completed in 51ms (View: 2, DB: 1) | 200 OK [http://localhost/users/create]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 16:20:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-20 16:21:23) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 16:21:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 51ms (View: 38, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:21:31) [GET]
Rendering businesses/createreferalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform]


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 16:21:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-20 16:25:46) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 16:25:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 49ms (View: 39, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:25:57) [GET]
Rendering businesses/createreferalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 16:26:22) [GET]
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 16:32:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 58ms (View: 44, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:32:47) [GET]
Rendering businesses/createreferalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-20 16:33:05) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 16:43:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 50ms (View: 37, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:43:26) [GET]

NoMethodError (undefined method `login_required' for #<BusinessesController:0x6c766c0>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 16:43:51) [GET]
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 16:44:02) [GET]

NoMethodError (undefined method `login_required' for #<BusinessesController:0x454d840>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 17:06:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 17:06:50) [GET]
Rendering users/new
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 17:41:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 75ms (View: 73, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:41:55) [GET]
Rendering template within layouts/application
Rendering users/login
Completed in 20ms (View: 18, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:43:23) [GET]
Rendering users/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:44:22) [GET]
Rendering users/login
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 17:44:30) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:44:33) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 17:44:36) [GET]
Rendering users/new
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 17:54:54) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 17:54:59) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 20:21:27) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 20:21:29) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 20:21:37) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 20:58:03) [GET]
Rendering users/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 20:58:17) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"yyyyyy", "commit"=>"login"}

ActionView::MissingTemplate (Missing template users/processlogin.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:02:34) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"yyyyyy", "commit"=>"login"}

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]):
  app/models/user.rb:10:in `authenticate'
  app/controllers/users_controller.rb:21:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:06:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:07:00) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x44fdb00>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 21:07:06) [GET]
Rendering users/new
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:07:08) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x31d42e0>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (113.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:07:15) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x9bdf460>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:08:49) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x9836900>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:08:53) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-20 21:08:54) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:08:57) [GET]

NameError (undefined local variable or method `user' for #<UsersController:0x881e440>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:09:21) [GET]

NoMethodError (undefined method `username=' for #<User:0x49f6ee0>):
  app/controllers/users_controller.rb:16:in `login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:10:27) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:10:29) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:10:56) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:10:59) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aaa", "password"=>"aaa", "commit"=>"login"}
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `find_by_username_and_password' for #<Class:0x3871b40>):
  app/models/user.rb:10:in `authenticate'
  app/controllers/users_controller.rb:21:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:24:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:24:28) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:24:34) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"aaa", "commit"=>"login"}
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `find_by_username_and_password' for #<Class:0x9af8780>):
  app/models/user.rb:11:in `authenticate'
  app/controllers/users_controller.rb:21:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:27:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-20 21:27:57) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:28:00) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aaa", "password"=>"aaa", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = NULL and password = 'aaa') [0m
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:28:07) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = NULL and password = 'yyyyyy') [0m
Completed in 10ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:28:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = NULL and password = 'yyyyyy') [0m
Completed in 10ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-20 21:30:32) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

NoMethodError (undefined method `id' for true:TrueClass):
  app/controllers/users_controller.rb:22:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (56.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-20 21:43:18) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-20 21:43:22) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 64ms (View: 54, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 21:43:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 51ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-20 21:43:34) [GET]

NoMethodError (undefined method `login_required' for #<BusinessesController:0x3b8a6a0>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 21:43:38) [GET]
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 21:46:43) [GET]
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-20 21:46:54) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/requestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/requestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 21:47:04) [GET]
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 21:47:12) [GET]
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:19:38) [GET]
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:19:49) [GET]
Rendering businesses/createrequestform
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:20:24) [GET]
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 22:30:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 62ms (View: 49, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:30:55) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:31:05) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"200", "description"=>"lalala"}, "commit"=>"Create", "id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:31:07) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create", "id"=>"1"}
Rendering businesses/createrequestform
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" [0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 22:34:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 52ms (View: 40, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:34:11) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest", :id => @businessid } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:36:19) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest", :id => @businessid } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:36:38) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 22:37:08) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:37:10) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-20 22:37:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 53ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:37:51) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-20 22:53:03) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:05:44) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:05:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 75ms (View: 40, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:05:54) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:05:58) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (122.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (30.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mBusiness Load (8.0ms)[0m   [0mSELECT * FROM "businesses" [0m


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:08:41) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:08:46) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (199.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:08:59) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest" } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:09:57) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest", :id => @businessid } do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (49.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:12:10) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:14:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m

ActionView::TemplateError (undefined method `id' for :@business:Symbol) on line #23 of app/views/businesses/show.html.erb:
20: <%= "#{@business.referals.count} Referals" %>
21: </td>
22: <td>
23: <%= link_to "New Referal", {:controller => :businesses, :action => :createreferalform, :id => :@business.id}, :rel => 'gb_page_center[640,480]' %></td>
24: </td>
25: </tr>
26: <% @business.referals.each do |referal| %>

    app/views/businesses/show.html.erb:23
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:14:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:14:18) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 22, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:14:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m

ActionView::TemplateError (undefined method `id' for :@business:Symbol) on line #23 of app/views/businesses/show.html.erb:
20: <%= "#{@business.referals.count} Referals" %>
21: </td>
22: <td>
23: <%= link_to "New Referal", {:controller => :businesses, :action => :createreferalform, :id => :@business.id}, :rel => 'gb_page_center[640,480]' %></td>
24: </td>
25: </tr>
26: <% @business.referals.each do |referal| %>

    app/views/businesses/show.html.erb:23
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:15:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 77ms (View: 65, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:15:34) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:16:07) [GET]
Rendering businesses/createrequestform
Completed in 9ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:16:37) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "creerequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:17:29) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (148.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:17:46) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2: <% end %>

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:17:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 56ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:17:51) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @request, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2: <% end %>

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:18:17) [GET]
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for @referal, :url => { :controller => "businesses", :action => "createrequest"} do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :askprice %> <br />

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:42:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:18:28) [GET]
Rendering businesses/createrequestform
Completed in 56ms (View: 54, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:18:53) [GET]
Rendering businesses/createrequestform
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:18:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 117ms (View: 104, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:20:11) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 25ms (View: 24, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:20:15) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 329ms (View: 225, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:20:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Completed in 57ms (View: 42, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:20:19) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:20:26) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:20:55) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:21:06) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-21 17:21:23) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"400", "description"=>"want to split 400 dollars"}, "commit"=>"Create", "id"=>"1"}

NoMethodError (undefined method `save' for #<ActionController::Request:0x39817e0>):
  app/controllers/businesses_controller.rb:56:in `createrequest'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:21:49) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:21:58) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-21 17:22:07) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"400", "description"=>"want to split 400 dollars"}, "commit"=>"Create", "id"=>"1"}
  [4;36;1mRequest Create (25.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'want to split 400 dollars', 400, NULL, 1, '2009-09-22 00:22:07', '2009-09-22 00:22:07')[0m
Completed in 52ms (View: 2, DB: 25) | 200 OK [http://localhost/businesses/createrequest/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:22:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #72 of app/views/businesses/show.html.erb:
69: </tr>
70: <tr>
71: <td>
72: <%= request.user.displayname %>
73: </td>
74: </tr>
75: <tr>

    app/views/businesses/show.html.erb:72:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:59
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (84.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:25:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #74 of app/views/businesses/show.html.erb:
71: <td>
72: <%=
73: 
74: if request.user.displayname != nil?
75:   request.user.displayname
76: end
77: 

    app/views/businesses/show.html.erb:74:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:59
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:25:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #75 of app/views/businesses/show.html.erb:
72: <%=
73: 
74: if request.user != nil?
75:   request.user.displayname
76: end
77: 
78: %>

    app/views/businesses/show.html.erb:75:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:59
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:27:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 43, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:28:03) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 38, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-21 17:28:51) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-21 17:28:59) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "request"=>{"askprice"=>"600", "description"=>"want to split 600 dollars"}, "commit"=>"Create", "id"=>"1"}
  [4;36;1mRequest Create (1.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'want to split 600 dollars', 600, NULL, 1, '2009-09-22 00:28:59', '2009-09-22 00:28:59')[0m
Completed in 20ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses/createrequest/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:29:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 84ms (View: 71, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:29:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 64ms (View: 49, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:29:10) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 38, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-21 17:29:15) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x3949960>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:29:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:30:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 16, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:31:14) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:31:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:31:24) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 32ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:31:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 51ms (View: 39, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:31:29) [GET]
Rendering users/new
Completed in 27ms (View: 19, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:31:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:32:10) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:32:28) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 23, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:32:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 39, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:35:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 19ms (View: 18, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-21 17:35:14) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-21 17:35:17) [GET]
Rendering template within layouts/application
Rendering businesses/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:35:22) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:36:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:36:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:36:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:36:40) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:36:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 48ms (View: 39, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:36:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:36:52) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:36:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 84ms (View: 71, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:37:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-21 17:37:16) [GET]
Rendering users/login
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:48:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:00) [GET]
Rendering users/new
ERROR: compiling _run_erb_app47views47users47new46html46erb RAISED c:/Referme/app/views/users/new.html.erb:24: syntax error, unexpected '{', expecting ')'
...uffer.concat(( link_to "back" {:controller => :home, :action...
...                               ^
Function body:           def _run_erb_app47views47users47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ;  form_for @user, :url => { :controller => "users", :action => "create" } do |u| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( u.error_messages ).to_s); @output_buffer.concat "\n  <p>\n    "

; @output_buffer.concat(( u.label :displayname ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :displayname ).to_s); @output_buffer.concat "\n  </p>\n  \n  <p>\n    "



; @output_buffer.concat(( u.label :email ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :email ).to_s); @output_buffer.concat "\n  </p>\n  \n  <p>\n    "



; @output_buffer.concat(( u.label :password ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :password ).to_s); @output_buffer.concat "\n  </p>  \n  \n  <p>\n    "



; @output_buffer.concat(( u.submit "Create" ).to_s); @output_buffer.concat "\n  </p>\n  \n  <br />\n  \n  "




; @output_buffer.concat(( link_to "back" {:controller => :home, :action => :index} ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:983:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/Referme/app/controllers/users_controller.rb:11:in `new'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/users/new.html.erb:24: syntax error, unexpected '{', expecting ')'
...uffer.concat(( link_to "back" {:controller => :home, :action...
...                               ^) on line #24 of app/views/users/new.html.erb:
21:   
22:   <br />
23:   
24:   <%= link_to "back" {:controller => :home, :action => :index} %>
25: <% end %>

    app/controllers/users_controller.rb:11:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:15) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:17) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:18) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:39) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:41) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:49:42) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:53:34) [GET]
  Parameters: {"url"=>{"action"=>"index", "controller"=>"home"}}
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new?url%5Baction%5D=index&url%5Bcontroller%5D=home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:53:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:53:37) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:53:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-21 17:53:57) [GET]
Rendering users/login
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:53:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:54:00) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:54:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 17:54:04) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 17:54:07) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-21 17:54:08) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-21 17:54:12) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'ji' and password = 'yyyyyy') [0m
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 17:54:42) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 17:59:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 37, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:50) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 18:03:53) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:54) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-21 18:03:55) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:03:57) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:04:01) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 25, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:04:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 37, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:10:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:10:45) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:10:53) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:11:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:11:06) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:11:21) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:11:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-21 18:11:23) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:11:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:11:29) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:11:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 37, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:16:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 46ms (View: 34, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:23:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 46, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:25:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:25:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 39, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:25:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 37, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:35:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 47, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:35:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 38, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:35:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 37, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:37:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:38:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:38:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 38, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:39:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 44, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:40:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 67ms (View: 52, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:41:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 47, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:41:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 111ms (View: 96, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:43:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 65ms (View: 52, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:43:57) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 44, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:45:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 48, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:45:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 38, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 18:45:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:45:43) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:45:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 37, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:46:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:47:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
Completed in 46ms (View: 35, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:48:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:49:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:59: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n<tr>\n<td>\n"


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n<hr/>\n</td>\n</tr>\n<tr>\n<td>\n<table>\n<tr>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"












; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n</td>\n</tr>\n<td>\n"



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n"
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>\n</td>\n\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</table>"









; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:59: syntax error, unexpected keyword_ensure, expecting $end) on line #59 of app/views/businesses/show.html.erb:
56: </table>
57: </td>
58: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 18:49:28) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 22, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:49:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:57: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n<tr>\n<td>\n"


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n<hr/>\n</td>\n</tr>\n<tr>\n<td>\n<table>\n<tr>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"












; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n</td>\n</tr>\n<td>\n"



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n"
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</table>"









; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:57: syntax error, unexpected keyword_ensure, expecting $end) on line #57 of app/views/businesses/show.html.erb:
54: </table>
55: </td>
56: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:49:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:50:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:61: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n<tr>\n<td>\n"


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n<hr/>\n</td>\n</tr>\n<tr>\n<td>\n<table>\n<tr>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"












; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n</td>\n</tr>\n<td>\n"



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n"
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n</td>\n</tr>\n<tr>\n<td>\n</td>\n</tr>\n"






;  end ; @output_buffer.concat "\n</table>\n</td>\n\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</table>"









; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:61: syntax error, unexpected keyword_ensure, expecting $end) on line #61 of app/views/businesses/show.html.erb:
58: </table>
59: </td>
60: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (76.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:50:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 67ms (View: 53, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:51:01) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 61ms (View: 49, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:51:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 47, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:52:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:52:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 18:53:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:57: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n<tr>\n<td>\n"


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n<hr/>\n</td>\n</tr>\n<tr>\n<td>\n<table>\n<tr>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"












; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n</td>\n</tr>\n<td>\n"



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n"
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n"
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n<td valign=\"top\">\n<table>\n<tr>\n<td>\n"







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n</td>\n<td>\n"


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n</td>\n</tr>\n"


;  end ; @output_buffer.concat "\n</table>\n</td>\n\n</tr>\n</table>\n</td>\n</tr>\n</table>\n</td>\n</table>"









; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:57: syntax error, unexpected keyword_ensure, expecting $end) on line #57 of app/views/businesses/show.html.erb:
54: </table>
55: </td>
56: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:00:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 43, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:03:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 47, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:03:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 89ms (View: 79, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:03:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
ERROR: compiling _run_erb_app47views47businesses47show46html46erb RAISED c:/Referme/app/views/businesses/show.html.erb:50: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47businesses47show46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n  <tr>\n  <td>\n    "


; @output_buffer.concat(( @business.name ).to_s); @output_buffer.concat " </br>\n    "
; @output_buffer.concat(( @business.address ).to_s); @output_buffer.concat "\n    <hr/>\n  </td>\n  </tr>\n  <tr>\n  <td>\n    <table>\n    <tr>\n    <td valign=\"top\">\n      <table>\n      <tr>\n      <td>\n        "











; @output_buffer.concat(( "#{@business.referals.count} Referals" ).to_s); @output_buffer.concat "\n      </td>\n      <td>\n        "


; @output_buffer.concat(( link_to "new referal", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "</td>\n      </td>\n      </tr>\n    <td>\n      "



;  @business.referals.each do |referal| ; @output_buffer.concat " </br>\n      "
; @output_buffer.concat(( "offer: $#{referal.offerprice}").to_s); @output_buffer.concat " </br>\n      "
; @output_buffer.concat(( referal.description ).to_s); @output_buffer.concat " </br>\n      "
; @output_buffer.concat(( referal.user.displayname ).to_s); @output_buffer.concat " </br>\n      "
; @output_buffer.concat(( link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat " </br>\n    </td>\n    </tr>\n    "


;  end ; @output_buffer.concat "\n    </table>\n  </td>\n\n  <td valign=\"top\">\n    <table>\n      <tr>\n      <td>\n        "







; @output_buffer.concat(( "#{@business.requests.count} Requests" ).to_s); @output_buffer.concat "\n      </td>\n      <td>\n        "


; @output_buffer.concat(( link_to "new request", {:controller => :businesses, :action => :createrequestform, :id => @business.id}, :rel => 'gb_page_center[640,480]' ).to_s); @output_buffer.concat "\n      </td>\n      </tr>\n    "


;  end ; @output_buffer.concat "\n    </table>\n  </td>\n  </tr>\n</table>"



; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/businesses/show.html.erb:50: syntax error, unexpected keyword_ensure, expecting $end) on line #50 of app/views/businesses/show.html.erb:
47:   </td>
48:   </tr>
49: </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:04:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 43, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:05:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 113ms (View: 98, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:05:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-21 19:05:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-21 19:05:41) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 38ms (View: 27, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-21 19:05:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 40, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:04:47) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x4d6b920>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 01:05:29) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:05:32) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:05:41) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:05:43) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'ji' and password = 'yyyyyy') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:10:22) [GET]
Rendering users/login
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:10:30) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

NoMethodError (undefined method `id' for true:TrueClass):
  app/controllers/users_controller.rb:22:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:14:52) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

NameError (undefined local variable or method `user' for #<UsersController:0x4a9bdc0>):
  app/controllers/users_controller.rb:22:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:15:34) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Completed in 13ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:18:07) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

ActionController::DoubleRenderError (Render and/or redirect were called multiple times in this action. Please note that you may only call render OR redirect, and at most once per action. Also note that neither redirect nor render terminate execution of the action, so if you want to exit an action after redirecting, you need to do something like "redirect_to(...) and return".):
  app/controllers/users_controller.rb:24:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (101.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:23:29) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 9ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:23:29) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:23:32) [GET]
Rendering users/login
Completed in 20ms (View: 10, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:23:35) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aaa", "password"=>"a", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'aaa' and password = 'a') [0m
Redirected to http://localhost:3000/user/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 01:23:35) [GET]

ActionController::RoutingError (No route matches "/user/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 01:23:52) [GET]

ActionController::RoutingError (No route matches "/user/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 01:23:53) [GET]

ActionController::RoutingError (No route matches "/user/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:23:55) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aaa", "password"=>"a", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'aaa' and password = 'a') [0m
Redirected to http://localhost:3000/users/login
Completed in 8ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:23:55) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:24:35) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"aa", "password"=>"aa", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'aa' and password = 'aa') [0m
Redirected to http://localhost:3000/users/login
Completed in 9ms (DB: 0) | 302 Found [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:24:35) [GET]
Rendering users/login
Completed in 14ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:24:59) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 10ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:24:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 01:25:29) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:25:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 49ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:25:33) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x3b29e20>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:26:39) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x31a6ba0>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (100.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:27:56) [GET]
  Parameters: {"id"=>"1"}

NoMethodError (undefined method `login_required' for #<BusinessesController:0x4a32800>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:28:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:28:49) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:30:32) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:30:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 01:30:46) [POST]
  Parameters: {"authenticity_token"=>"2muhL1kxDA3LKSEyhHg1lVOKF4Ls4ujexU2xi3qON5U=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:30:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 39, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:30:49) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:31:55) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:33:58) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...concat(( if session[:id] <= 0 ).to_s); @output_buffer.concat...
...                               ^
c:/Referme/app/views/layouts/application.html.erb:26: syntax error, unexpected keyword_else
; @output_buffer.concat(( else ).to_s); @output_buffer.conc...
                              ^
c:/Referme/app/views/layouts/application.html.erb:28: syntax error, unexpected keyword_end
; @output_buffer.concat(( end ).to_s); @output_buffer.conc...
                             ^
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t</head>\n\t<body>\n\t\t<table border=\"1\" class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t<label>Location (<span>e.g. Redmond, WA</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :location, params[:city], :id => 'city_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "new user", :controller => "users", :action => "new" ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( if session[:id] <= 0 ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "login", :controller => "users", :action => "login" ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( else ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "logout", :controller => "users", :action => "logout" ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( end ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





; @output_buffer.concat(( link_to "home", :controller => "home", :action => "index" ).to_s); @output_buffer.concat "\t\t\t\t\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected ')', expecting keyword_then or ';' or '\n'
...concat(( if session[:id] <= 0 ).to_s); @output_buffer.concat...
...                               ^
c:/Referme/app/views/layouts/application.html.erb:26: syntax error, unexpected keyword_else
; @output_buffer.concat(( else ).to_s); @output_buffer.conc...
                              ^
c:/Referme/app/views/layouts/application.html.erb:28: syntax error, unexpected keyword_end
; @output_buffer.concat(( end ).to_s); @output_buffer.conc...
                             ^) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<%= if session[:id] <= 0 %>
25: 				<%= link_to "login", :controller => "users", :action => "login" %>
26: 				<%= else %>
27: 				<%= link_to "logout", :controller => "users", :action => "logout" %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:38:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 98ms (View: 86, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:38:22) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:47:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
                                     ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when > 0 ;  @login = "login"  ; @...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t</head>\n\t<body>\n\t\t<table border=\"1\" class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t<label>Location (<span>e.g. Redmond, WA</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :location, params[:city], :id => 'city_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "new user", :controller => "users", :action => "new" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
;      when > 0 ;  @login = "login"  ; @output_buffer.concat "\n\t\t\t\t"
;      else        @login = "logout" ; @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to @login, :controller => "users", :action => @login ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





; @output_buffer.concat(( link_to "home", :controller => "home", :action => "index" ).to_s); @output_buffer.concat "\t\t\t\t\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
                                     ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when > 0 ;  @login = "login"  ; @...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<% case session[:id] %>
25: 				<%     when > 0 ;  @login = "login"  %>
26: 				<%     else        @login = "logout" %>
27: 				<% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:48:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
                                     ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when 0 ;  @login = "login"  ; @ou...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t</head>\n\t<body>\n\t\t<table border=\"1\" class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t<label>Location (<span>e.g. Redmond, WA</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :location, params[:city], :id => 'city_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "new user", :controller => "users", :action => "new" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
;      when 0 ;  @login = "login"  ; @output_buffer.concat "\n\t\t\t\t"
;      else        @login = "logout" ; @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to @login, :controller => "users", :action => @login ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





; @output_buffer.concat(( link_to "home", :controller => "home", :action => "index" ).to_s); @output_buffer.concat "\t\t\t\t\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case session[:id] ; @output_buffer.concat "\n\t\t\t\t"
                                     ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when 0 ;  @login = "login"  ; @ou...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<% case session[:id] %>
25: 				<%     when 0 ;  @login = "login"  %>
26: 				<%     else        @login = "logout" %>
27: 				<% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:48:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case 1 ; @output_buffer.concat "\n\t\t\t\t"
                          ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when 0 ;  @login = "login"  ; @ou...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t</head>\n\t<body>\n\t\t<table border=\"1\" class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t<label>Location (<span>e.g. Redmond, WA</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :location, params[:city], :id => 'city_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to "new user", :controller => "users", :action => "new" ).to_s); @output_buffer.concat "\n\t\t\t\t"
;  case 1 ; @output_buffer.concat "\n\t\t\t\t"
;      when 0 ;  @login = "login"  ; @output_buffer.concat "\n\t\t\t\t"
;      else        @login = "logout" ; @output_buffer.concat "\n\t\t\t\t"
;  end ; @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( link_to @login, :controller => "users", :action => @login ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t"





; @output_buffer.concat(( link_to "home", :controller => "home", :action => "index" ).to_s); @output_buffer.concat "\t\t\t\t\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/layouts/application.html.erb:24: syntax error, unexpected tIVAR, expecting keyword_when
;  case 1 ; @output_buffer.concat "\n\t\t\t\t"
                          ^
c:/Referme/app/views/layouts/application.html.erb:25: syntax error, unexpected keyword_when, expecting keyword_end
;      when 0 ;  @login = "login"  ; @ou...
           ^
c:/Referme/app/views/layouts/application.html.erb:46: syntax error, unexpected keyword_ensure, expecting $end) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<% case 1 %>
25: 				<%     when 0 ;  @login = "login"  %>
26: 				<%     else        @login = "logout" %>
27: 				<% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (117.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:56:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 46, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 01:57:30) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:57:31) [GET]
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.>) on line #24 of app/views/layouts/application.html.erb:
21: 				<%= submit_tag "Search" %>
22: 				<% end %>
23: 				<%= link_to "new user", :controller => "users", :action => "new" %>
24: 				<%= loginlabel %>
25: 			</td>
26: 		</tr>
27: 		<tr>

    app/helpers/application_helper.rb:4:in `loginlabel'
    app/views/layouts/application.html.erb:24
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:57:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 01:57:51) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 01:57:55) [POST]
  Parameters: {"authenticity_token"=>"8p2ZEUNVuEB8S9t0fawDS3Ar5RCkxBfF1foDsmNIZWk=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 10ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:57:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 01:58:03) [POST]
  Parameters: {"authenticity_token"=>"8p2ZEUNVuEB8S9t0fawDS3Ar5RCkxBfF1foDsmNIZWk=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:58:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 36, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:58:07) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 01:59:38) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 01:59:41) [GET]
Redirected to http://localhost:3000/home
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 01:59:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 01:59:57) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 69ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 01:59:58) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 41, DB: 0) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:00:00) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 02:01:56) [GET]
Rendering users/login
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 02:02:01) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 10ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 02:02:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 02:02:06) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 35ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 02:02:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 43, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:02:11) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 44ms (View: 42, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:02:21) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "referal"=>{"offerprice"=>"400", "description"=>"i have 400 dollars to give"}, "commit"=>"Create", "id"=>"1"}
Rendering businesses/createreferalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:02:46) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createreferalform.html.erb:
1: <% form_for @referal, :controller => :businesses, :action => :createreferal, :id => @businessid do |r| %>
2:   <%= r.error_messages %>
3:   <p>
4:     <%= r.label :offerprice %> <br />

    app/views/businesses/createreferalform.html.erb:1
    app/controllers/businesses_controller.rb:45:in `createreferalform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 02:02:50) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 02:03:42) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferal (for 127.0.0.1 at 2009-09-22 02:03:49) [POST]
  Parameters: {"authenticity_token"=>"6k62yKnRr1J+xUHRvzIgLt8D+MQtHSjRmozhIw76jJ0=", "referal"=>{"offerprice"=>"400", "description"=>"I can give u 400 dollars"}, "commit"=>"Create", "id"=>"1"}
  [4;35;1mReferal Create (1.0ms)[0m   [0mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'I can give u 400 dollars', 400, 4, 1, '2009-09-22 09:03:50', '2009-09-22 09:03:50')[0m
Completed in 19ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses/createreferal/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 02:03:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 92ms (View: 79, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 02:04:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 11:48:46) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:48:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 11:48:54) [POST]
  Parameters: {"authenticity_token"=>"mHhGPx7nte9cmqQ2+fUdHqo+yepv71iKxu7hEMnQzMA=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 37ms (View: 26, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 11:48:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 11:48:59) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 11:49:08) [GET]
Rendering users/login
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:49:10) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 11:52:00) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:52:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 11:52:04) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:52:05) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 11:57:17) [GET]
Rendering users/login
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:57:19) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 11:57:28) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 11:57:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:43:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:43:03) [GET]
  Parameters: {"rel"=>"gb_page_center[640,480]"}
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login?rel=gb_page_center%5B640%2C480%5D]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:43:04) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:44:44) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:44:45) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:45:15) [GET]
Rendering users/login
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:45:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:45:29) [GET]
Rendering users/login
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 12:45:41) [POST]
  Parameters: {"authenticity_token"=>"mHhGPx7nte9cmqQ2+fUdHqo+yepv71iKxu7hEMnQzMA=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 35ms (View: 24, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 12:45:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 41, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:45:45) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/users/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:45:45) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:46:06) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/users/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:46:06) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 12:46:08) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:46:13) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/users/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:46:13) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:46:22) [GET]
Rendering users/login
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:46:26) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://localhost:3000/users/login
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:46:26) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 12:46:56) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 65ms (View: 52, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 12:46:58) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:47:02) [GET]
Rendering users/login
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 12:47:09) [POST]
  Parameters: {"authenticity_token"=>"mHhGPx7nte9cmqQ2+fUdHqo+yepv71iKxu7hEMnQzMA=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 11ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:47:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 12:47:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 93ms (View: 81, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 12:48:35) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:48:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:48:41) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 12:48:46) [POST]
  Parameters: {"authenticity_token"=>"ZUJ9bzNpkXAWVCwsf2KbCSsPFHCSlZXNDcExY1PtWLM=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Completed in 11ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:48:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 12:49:14) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:49:14) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 12:51:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:51:52) [GET]
Rendering users/login
Completed in 20ms (View: 9, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 12:52:02) [POST]
  Parameters: {"authenticity_token"=>"0XkZ61QW+jtCy5U8DFtLowwzMckNb1+sMvwZ/2LGgSc=", "username"=>"Ji", "password"=>"aaaa", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'aaaa') [0m
Redirected to http://localhost:3000/users/login
Completed in 11ms (DB: 1) | 302 Found [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 12:52:02) [GET]
Rendering users/login
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:16:11) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:16:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:19:50) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:19:52) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 13:19:58) [POST]
  Parameters: {"authenticity_token"=>"0XkZ61QW+jtCy5U8DFtLowwzMckNb1+sMvwZ/2LGgSc=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

ActionView::MissingTemplate (Missing template users/_refreshparent.erb in view path app/views):
  app/controllers/users_controller.rb:32:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:21:23) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 13:21:29) [POST]
  Parameters: {"authenticity_token"=>"0XkZ61QW+jtCy5U8DFtLowwzMckNb1+sMvwZ/2LGgSc=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (1.0ms)
Completed in 84ms (View: 73, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:22:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 13:22:41) [GET]
Redirected to http://localhost:3000/home
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:22:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:22:42) [GET]
Rendering users/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 13:22:49) [POST]
  Parameters: {"authenticity_token"=>"fsNOQIoqy+LhDOIzWTJfO1onL2If8XfG4aQA2CfJ8oE=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (1.0ms)
Completed in 23ms (View: 11, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:22:56) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 13:22:56) [GET]
Redirected to http://localhost:3000/home
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 13:22:56) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:22:58) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:50:48) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 13:56:58) [GET]
Rendering users/login
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 13:58:48) [POST]
  Parameters: {"authenticity_token"=>"pexAVG7ZwmXWiF4r+OFPyHvjWpUxxQC4vFt/HAOI/Ac=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (20.0ms)
Completed in 38ms (View: 28, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:01:28) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:01:29) [POST]
  Parameters: {"authenticity_token"=>"pexAVG7ZwmXWiF4r+OFPyHvjWpUxxQC4vFt/HAOI/Ac=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (0.0ms)
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:02:16) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:02:17) [POST]
  Parameters: {"authenticity_token"=>"pexAVG7ZwmXWiF4r+OFPyHvjWpUxxQC4vFt/HAOI/Ac=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (1.0ms)
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:02:33) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:02:34) [POST]
  Parameters: {"authenticity_token"=>"pexAVG7ZwmXWiF4r+OFPyHvjWpUxxQC4vFt/HAOI/Ac=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (1.0ms)
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:02:34) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 14:02:36) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:02:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:02:38) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:02:39) [POST]
  Parameters: {"authenticity_token"=>"UW6npOBfFxvtiQpnyZILgFgpKYYmUMyM2SXNkTlMsX4=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered users/_refreshparent (0.0ms)
Completed in 14ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:02:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 8, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 14:10:46) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:10:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 14:10:47) [GET]
Rendering users/login
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 14:10:48) [POST]
  Parameters: {"authenticity_token"=>"eFPwauuu9KFnHNTkOPUynSagRdHS5Vc355/jKUYA2ik=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 14:10:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 14:13:24) [POST]
  Parameters: {"authenticity_token"=>"eFPwauuu9KFnHNTkOPUynSagRdHS5Vc355/jKUYA2ik=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 72ms (View: 62, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 14:13:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 14:13:29) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 14:16:22) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createreferalform
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferal (for 127.0.0.1 at 2009-09-22 14:16:30) [POST]
  Parameters: {"authenticity_token"=>"eFPwauuu9KFnHNTkOPUynSagRdHS5Vc355/jKUYA2ik=", "referal"=>{"offerprice"=>"400", "description"=>"another 400 bucks"}, "commit"=>"Create", "id"=>"1"}
  [4;35;1mReferal Create (2.0ms)[0m   [0mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'another 400 bucks', 400, 4, 1, '2009-09-22 21:16:30', '2009-09-22 21:16:30')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 22ms (View: 3, DB: 2) | 200 OK [http://localhost/businesses/createreferal/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 14:16:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 43, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 14:16:39) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 14:16:49) [POST]
  Parameters: {"authenticity_token"=>"eFPwauuu9KFnHNTkOPUynSagRdHS5Vc355/jKUYA2ik=", "request"=>{"askprice"=>"900", "description"=>"u want 900 bucks?"}, "commit"=>"Create", "id"=>"1"}
  [4;36;1mRequest Create (2.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'u want 900 bucks?', 900, NULL, 1, '2009-09-22 21:16:49', '2009-09-22 21:16:49')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 2) | 200 OK [http://localhost/businesses/createrequest/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 14:16:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 67ms (View: 51, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:11:36) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:11:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:11:42) [POST]
  Parameters: {"authenticity_token"=>"IHHdR+YS6blIU4AF8M5Ieq23HWgHLEFVDgGATAbx7tw=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 36ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:11:45) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:11:47) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:11:49) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:11:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:12:07) [GET]
Rendering users/login
Completed in 50ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:12:16) [POST]
  Parameters: {"authenticity_token"=>"IHHdR+YS6blIU4AF8M5Ieq23HWgHLEFVDgGATAbx7tw=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:12:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 15:12:56) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 15:13:05) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:15:21) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:15:22) [POST]
  Parameters: {"authenticity_token"=>"IHHdR+YS6blIU4AF8M5Ieq23HWgHLEFVDgGATAbx7tw=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:15:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 45, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:15:23) [GET]
Rendered layouts/_refreshparent (0.0ms)
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:18:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:18:42) [GET]
Rendering users/login
Completed in 14ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:18:43) [POST]
  Parameters: {"authenticity_token"=>"DpAzguDHalRWw5o+wqbJdEPO8RXiyQsFniQGzp3Ks2M=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:18:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 42, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:18:44) [GET]

NameError (undefined local variable or method `redirect_to_back' for #<UsersController:0x32a9a80>):
  app/controllers/users_controller.rb:25:in `logout'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (103.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:15) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 28ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:15) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:20:18) [GET]
Rendering users/login
Completed in 14ms (View: 3, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:20:19) [POST]
  Parameters: {"authenticity_token"=>"7Q/3+ZCkzq5u29KWDfUeW+gQGVGfROUCQtOyNd350XQ=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 3, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:19) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 41, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:20:22) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:20:23) [POST]
  Parameters: {"authenticity_token"=>"2d5Jtj3AnkWkAiZ//Ukn0ub3VSowF73nFyQUNnL0Ln0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:24) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:20:26) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:20:29) [POST]
  Parameters: {"authenticity_token"=>"/U5U6Uf9iIppZUFpxXXq8HqTmYZkqXGgmgKSYvVx0E0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:29) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:29) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 42, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:34) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 39, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:35) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 3ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:20:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:20:51) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:20:52) [POST]
  Parameters: {"authenticity_token"=>"rEVGzajauM4WIhBhYhIMXK1wC8BAQImN+kmvKgrlGHU=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:20:52) [GET]

ActionView::MissingTemplate (Missing template users/logout.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:21:19) [GET]
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:29:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:29:25) [GET]
Rendering users/login
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:29:26) [POST]
  Parameters: {"authenticity_token"=>"wkFBQf7F6sBhgMSgIb3kARG7uPs2M7Iu6jXhrKWr52A=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:29:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:29:31) [GET]
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users/logout]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:29:51) [GET]
Redirected to http://localhost:3000/
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:29:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:29:56) [GET]
Rendering users/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:29:58) [POST]
  Parameters: {"authenticity_token"=>"IX7gAVRi24FM/+DyN7Xwc4wtpDn1vg9Z2rX7lP+aRMk=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:29:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:30:00) [GET]
Redirected to http://localhost:3000/
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:30:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:30:06) [POST]
  Parameters: {"authenticity_token"=>"fOp0ch3d8j0QxNVzWZPdic2sKRfdtSYuC75/CcBl0bc=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:30:07) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:30:10) [POST]
  Parameters: {"authenticity_token"=>"fOp0ch3d8j0QxNVzWZPdic2sKRfdtSYuC75/CcBl0bc=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 2) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:30:13) [POST]
  Parameters: {"authenticity_token"=>"fOp0ch3d8j0QxNVzWZPdic2sKRfdtSYuC75/CcBl0bc=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 51ms (View: 39, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:30:18) [GET]
Redirected to http://localhost:3000/businesses/search
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:30:18) [GET]

TypeError (can't convert nil into String):
  app/models/business.rb:5:in `+'
  app/models/business.rb:5:in `search'
  app/controllers/businesses_controller.rb:4:in `search'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 40, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:30:40) [GET]
Rendering users/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:30:42) [POST]
  Parameters: {"authenticity_token"=>"JD37MR/iLmGFHDQZZUY9nl4BGqoqCfClhezW1MV9o5M=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 64ms (View: 49, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:30:45) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 93ms (View: 79, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:30:46) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 15:30:47) [POST]
  Parameters: {"authenticity_token"=>"iEcBJmRbfiyHN9zz3/aHP51LBX9Yr/oDFCsDyViY7fU=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 2, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (2.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 39, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 15:30:49) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:30:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:31:08) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:31:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 15:31:25) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 71ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 15:31:46) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 43, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-22 15:32:40) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/requestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/requestform/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:32:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:33:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:33:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:34:17) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:34:42) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 49ms (View: 48, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:34:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:34:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:35:33) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:36:18) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:40:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:41:23) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:42:05) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:42:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:42:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:45:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:46:30) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:52:15) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:52:17) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 50ms (View: 49, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:52:17) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:52:19) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:53:14) [GET]
Rendering users/new
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:53:38) [GET]
Rendering users/new
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:53:59) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:54:02) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:54:04) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:54:20) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:54:21) [GET]
Rendering users/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:55:15) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 15:55:22) [GET]
Rendering users/login
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:55:32) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:56:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:57:13) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 15:58:38) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:58:40) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:59:34) [GET]
Rendering users/new
Completed in 22ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 15:59:46) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:00:01) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"wei", "email"=>"yanji84@gmail.com", "password"=>"1"}, "commit"=>"register"}

NoMethodError (undefined method `username' for #<User:0x49df740>):
  app/controllers/users_controller.rb:4:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:01:13) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:02:47) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:02:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:02:49) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:03:03) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"wei", "email"=>"yanji84@gmail.com", "password"=>"a"}, "commit"=>"register"}

NoMethodError (undefined method `username' for #<User:0x4a12440>):
  app/controllers/users_controller.rb:4:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (90.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:03:23) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:03:30) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:03:33) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:03:49) [GET]
Rendering users/new
Completed in 54ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:04:12) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:04:43) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"wei", "email"=>"yanji84@gmail.com", "password"=>"aaaaaa"}, "commit"=>"register"}

NoMethodError (undefined method `username' for #<User:0x4a0da00>):
  app/controllers/users_controller.rb:4:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (181.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:06:12) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:06:20) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"wei", "email"=>"yanji84@gmail.com", "password"=>"a"}, "commit"=>"register"}
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'wei') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 65ms (View: 11, DB: 2) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:06:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:10:58) [GET]
Rendering users/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:11:01) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('', 'Ji', NULL, NULL, NULL, '2009-09-22 23:11:01', '2009-09-22 23:11:01', 'yyyyyy')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 21ms (View: 3, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:11:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:11:26) [GET]
Rendering users/new
Completed in 22ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:11:31) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"Ji", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'Ji') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 20ms (DB: 0) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:11:31) [GET]
Rendering users/new
Completed in 15ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:11:59) [GET]
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:12:04) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"a"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 21ms (DB: 0) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:12:04) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:12:15) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"ggg", "email"=>"Ji", "password"=>""}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'ggg') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 20ms (DB: 1) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:12:15) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:12:20) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"ffffff"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 21ms (DB: 0) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:12:20) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:12:45) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:17:57) [GET]
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:20:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:20:26) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:20:27) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Redirected to http://localhost:3000/users/new
Completed in 20ms (DB: 0) | 302 Found [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:20:27) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:23:06) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `users_path' for #<ActionView::Base:0x49937a0>) on line #2 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for(@user) do |u| %>
3:   <%= u.error_messages %>
4:   <p>
5:     <%= u.label :displayname %> <br />

    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:14:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:24:19) [GET]
Rendering users/new
Completed in 30ms (View: 18, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:24:20) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 24ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:25:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:25:17) [GET]
Rendering users/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:25:18) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 22ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:28:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:28:26) [GET]
Rendering users/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:28:27) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 21ms (View: 2, DB: 1) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:30:13) [GET]
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:30:14) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 21ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:30:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:30:29) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:30:30) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 24ms (View: 5, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:37:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 8ms (View: 6, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:37:52) [GET]
Rendering users/new
Completed in 20ms (View: 11, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:37:54) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}

ActionController::UnknownAction (No action responded to index. Actions: create, login, logout, new, and processlogin):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:38:06) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:38:10) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"register"}

ActionController::UnknownAction (No action responded to index. Actions: create, login, logout, new, and processlogin):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:40:27) [GET]
Rendering users/new
Completed in 60ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:40:28) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}

ActionView::MissingTemplate (Missing template users/index.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:40:51) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:40:52) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:42:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:42:23) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:42:24) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"Create"}
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:46:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:46:56) [GET]
Rendering users/new
Completed in 22ms (View: 14, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 16:46:57) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"Create"}
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:47:27) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:47:28) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `passwor_field' for #<ActionView::Helpers::FormBuilder:0x49706e0>) on line #15 of app/views/users/new.html.erb:
12:   
13:   <p>
14:     <%= u.label :password %> <br />
15:     <%= u.passwor_field :password %>
16:   </p>  
17:   
18:   <p>

    app/views/users/new.html.erb:15:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:47:45) [GET]
Rendering users/new
Completed in 22ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:47:46) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 26ms (View: 4, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:47:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:48:00) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:48:01) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (3.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 28ms (View: 4, DB: 3) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:50:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:50:47) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:50:48) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 25ms (View: 4, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:57:57) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:57:59) [GET]
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:58:00) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Displayname has already been taken):
  app/controllers/users_controller.rb:9:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 16:59:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 16:59:10) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 16:59:11) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Displayname has already been taken):
  app/controllers/users_controller.rb:9:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:08:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:09:00) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `displayname' for #<ActionView::Helpers::FormBuilder:0x4705f40>) on line #3 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for @user, :url => { :controller => "users", :action => "create" } do |u| %>
3:   <%= u.displayname %>
4: <p>
5:     <%= u.label :displayname %> <br />
6:     <%= u.text_field :displayname %>

    app/views/users/new.html.erb:3:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:09:22) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `displayname' for #<ActionView::Helpers::FormBuilder:0x3080940>) on line #3 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for @user, :url => { :controller => "users", :action => "create" } do |u| %>
3:   <%= u.displayname %>
4: <p>
5:     <%= u.label :displayname %> <br />
6:     <%= u.text_field :displayname %>

    app/views/users/new.html.erb:3:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (124.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:09:40) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `id' for #<ActionView::Helpers::FormBuilder:0x3bbf3c0>) on line #3 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for @user, :url => { :controller => "users", :action => "create" } do |u| %>
3:   <%= u.id %>
4: <p>
5:     <%= u.label :displayname %> <br />
6:     <%= u.text_field :displayname %>

    app/views/users/new.html.erb:3:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:09:51) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:09:52) [GET]
Rendering users/new
Completed in 19ms (View: 11, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:09:55) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Displayname has already been taken):
  app/controllers/users_controller.rb:9:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (70.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:10:50) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:10:51) [GET]
Rendering users/new

ActionView::TemplateError (undefined method `error' for #<ActionView::Helpers::FormBuilder:0x3267b40>) on line #3 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for @user, :url => { :controller => "users", :action => "create" } do |u| %>
3:   <%= u.error %>
4: <p>
5:     <%= u.label :displayname %> <br />
6:     <%= u.text_field :displayname %>

    app/views/users/new.html.erb:3:in `block in _run_erb_app47views47users47new46html46erb'
    app/views/users/new.html.erb:2
    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (134.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:11:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:11:03) [GET]
Rendering users/new
Completed in 20ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:11:04) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

ActiveRecord::RecordInvalid (Validation failed: Displayname has already been taken):
  app/controllers/users_controller.rb:9:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (69.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:11:23) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:11:24) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:15:22) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:15:23) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/create
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:21:20) [GET]
Rendering users/new
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:21:21) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 24ms (View: 2, DB: 1) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:21:34) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:21:34) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 21ms (View: 1, DB: 1) | 200 OK [http://localhost/users/create]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:21:47) [GET]
Rendering users/new
Completed in 57ms (View: 48, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:21:48) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m

NoMethodError (undefined method `error_messages' for #<User:0x4ca0f20>):
  app/controllers/users_controller.rb:13:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:22:27) [GET]
Rendering users/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:22:28) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 23ms (View: 1, DB: 1) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:25:38) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:25:38) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:25:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:25:41) [GET]
Rendering users/new
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 17:25:42) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:34:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:34:02) [GET]
Rendering users/new
Completed in 21ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 17:34:03) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:38:21) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:38:22) [GET]
Rendering users/new
ERROR: compiling _run_erb_app47views47users47new46html46erb RAISED c:/Referme/app/views/users/new.html.erb:2: syntax error, unexpected tASSOC, expecting ')'
...for :user, :url => ( :action => "create" ) do |u| ; @output_...
...                               ^
Function body:           def _run_erb_app47views47users47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<p><b>register new user</b></p>\n"
;  form_for :user, :url => ( :action => "create" ) do |u| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( u.error_messages ).to_s); @output_buffer.concat "\n<p>\n    "

; @output_buffer.concat(( u.label :displayname ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :displayname ).to_s); @output_buffer.concat "\n  </p>\n  \n  <p>\n    "



; @output_buffer.concat(( u.label :email ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.text_field :email ).to_s); @output_buffer.concat "\n  </p>\n  \n  <p>\n    "



; @output_buffer.concat(( u.label :password ).to_s); @output_buffer.concat " <br />\n    "
; @output_buffer.concat(( u.password_field :password ).to_s); @output_buffer.concat "\n  </p>  \n  \n  <p>\n    "



; @output_buffer.concat(( u.submit "register" ).to_s); @output_buffer.concat "\n  </p>\n  \n"


;  end ; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:983:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/Referme/app/controllers/users_controller.rb:20:in `new'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/users/new.html.erb:2: syntax error, unexpected tASSOC, expecting ')'
...for :user, :url => ( :action => "create" ) do |u| ; @output_...
...                               ^) on line #2 of app/views/users/new.html.erb:
1: <p><b>register new user</b></p>
2: <% form_for :user, :url => ( :action => "create" ) do |u| %>
3:   <%= u.error_messages %>
4: <p>
5:     <%= u.label :displayname %> <br />

    app/controllers/users_controller.rb:20:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (122.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:39:06) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:39:08) [GET]
Rendering users/new
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 17:39:10) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"register"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Completed in 21ms (View: 2, DB: 0) | 200 OK [http://localhost/users/create]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:41:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:41:46) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 17:41:57) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 23, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 17:41:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-22 17:42:20) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/referalform
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/referalform/1]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-22 17:42:29) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/requestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/requestform/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:42:37) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 17:43:28) [GET]
Rendering users/new
Completed in 13ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 17:43:32) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 17:43:33) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 17:43:42) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"the onyx\\", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx\%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 12ms (View: 4, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 17:43:47) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 22, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 17:43:55) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 39, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 17:44:30) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:48:21) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 44ms (View: 32, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:48:35) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 45ms (View: 34, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:49:16) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 35, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:49:37) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 46ms (View: 34, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:50:38) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 50ms (View: 38, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:52:33) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #23 of app/views/businesses/search.html.erb:
20: <td>
21: <hr/>
22: the business you find is not here? click 
23: <%= link_to "here", {:controller => :businesses, :action => :createreferalform, :id => @business.id}, :rel => 'gb_page_center[640,480]' %>
24: to add
25: </td>
26: </tr>

    app/views/businesses/search.html.erb:23
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (133.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 18:54:43) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 47ms (View: 34, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 18:54:46) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (14.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 19:03:35) [GET]
Rendering template within layouts/application
Rendering businesses/new
Completed in 21ms (View: 20, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 19:05:25) [GET]
Rendering businesses/new
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 19:07:44) [GET]
Rendering businesses/new
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-22 19:08:19) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "business"=>{"name"=>"Bank of America", "address"=>"123th Ave NE", "description"=>"Refer to a friend and earn up to 1000 dollars of referal bonus"}, "commit"=>"add"}
  [4;36;1mBusiness Create (2.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES('Bank of America', '123th Ave NE', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'Refer to a friend and earn up to 1000 dollars of referal bonus', NULL, NULL, '2009-09-23 02:08:19', '2009-09-23 02:08:19')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 24ms (View: 4, DB: 2) | 200 OK [http://localhost/businesses/create]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 19:08:23) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 147ms (View: 126, DB: 4) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 19:08:31) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 23, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 19:08:33) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 35ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 19:08:41) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 36ms (View: 25, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 19:08:46) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 36ms (View: 25, DB: 0) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 19:08:48) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/2]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 19:08:51) [GET]
  Parameters: {"id"=>"2"}
Rendering businesses/createrequestform
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:24:57) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 20:25:01) [GET]
Rendering users/new
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 20:25:53) [GET]
Rendering users/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:26:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:26:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:26:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 20:26:40) [GET]
Rendering users/new
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:26:48) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:26:59) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 75ms (View: 65, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:27:01) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 23, DB: 1) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 20:27:03) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/2]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:27:09) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 20:27:10) [POST]
  Parameters: {"authenticity_token"=>"LbAMDz4/Oo0h/LcYYw7JNZaDemMqvfb3A0OzwGB5w9Y=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/users/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:27:11) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 20:27:13) [GET]
  Parameters: {"id"=>"2"}
Rendering businesses/createreferalform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/2]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 20:27:22) [GET]
Redirected to http://localhost:3000/businesses/show/2
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:27:22) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 78ms (View: 65, DB: 2) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:34:51) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 22, DB: 2) | 200 OK [http://localhost/businesses/show/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:34:52) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 35ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/show/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:34:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:34:57) [GET]
Rendering users/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 20:34:59) [POST]
  Parameters: {"authenticity_token"=>"OzqBNV7N9SSUjuqr2+TlxQuGw5RDKSaxlllk4JNM2PE=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 3, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:34:59) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m

ActionView::TemplateError (wrong number of arguments (1 for 0)) on line #27 of app/views/layouts/application.html.erb:
24: 				<label>Location (<span>e.g. Redmond, WA</span>)</label>
25: 				<%= text_field_tag :location, params[:city], :id => 'city_field' %>
26: 				<%= submit_tag "Search" %>
27: 				<%= loginlabel %>
28: 				<%= link_to "home", :controller => "home", :action => "index" %>				
29: 				<% end %>
30: 				for new user,<%= link_to "register", {:controller => :users, :action => :new}, :rel => 'gb_page_center[380,300]' %> </br>

    app/helpers/application_helper.rb:5:in `loginlabel'
    app/views/layouts/application.html.erb:27:in `block in _run_erb_app47views47layouts47application46html46erb'
    app/views/layouts/application.html.erb:21
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (126.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:36:46) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 32ms (View: 27, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:37:44) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:38:03) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 5ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:38:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:38:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 43ms (View: 42, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:38:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:39:32) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 15ms (View: 14, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:39:43) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:01) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 15ms (View: 14, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 20:40:04) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:04) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:40:05) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 20:40:07) [POST]
  Parameters: {"authenticity_token"=>"vNTIWDPLx5LTnqhD0MQRhYqgLqeBZZOyUjxWSMUpg1Q=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://localhost/users/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:07) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 16ms (View: 14, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#logout (for 127.0.0.1 at 2009-09-22 20:40:12) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/users/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:40:18) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:40:33) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 34ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:43:05) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 41ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:43:10) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 78ms (View: 66, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:44:13) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 43ms (View: 33, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:44:37) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:45:21) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:46:15) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 43ms (View: 32, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 20:46:27) [GET]
Rendering users/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:46:34) [GET]
Rendering users/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/users/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:46:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#login (for 127.0.0.1 at 2009-09-22 20:46:45) [GET]
Rendering users/login
Completed in 13ms (View: 1, DB: 0) | 200 OK [http://localhost/users/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:47:06) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 33ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:47:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 61ms (View: 49, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 42, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 48, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 51ms (View: 40, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:48:41) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 72ms (View: 62, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:48:43) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses/show/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 20:53:07) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 20:53:45) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 36ms (View: 26, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 20:53:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 20:53:52) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 20:54:09) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 20:58:41) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 20:58:44) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>"ss"}, "commit"=>"Create", "id"=>"1"}

ActiveRecord::RecordInvalid (Validation failed: Askprice can't be blank):
  app/controllers/businesses_controller.rb:80:in `createrequest'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (71.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 20:58:50) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 20:59:02) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 20:59:03) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create", "id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createrequest.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:02:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 71ms (View: 57, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:03:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 65ms (View: 52, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:07:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 69ms (View: 53, DB: 6) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:07:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 66ms (View: 50, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 21:12:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 21:17:59) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 40ms (View: 27, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:18:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:18:03) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 21:18:04) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create", "id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createrequest.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:18:51) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 21:18:52) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create", "id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createrequest.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:30:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 64ms (View: 51, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:30:07) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for(@request) do |r| %>
2:   <%= r.error_messages %>
3:   <%= error_messages_for :request %>
4:   <p>

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:64:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (86.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:32:38) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #1 of app/views/businesses/createrequestform.html.erb:
1: <% form_for(@request) do |r| %>
2:   <%= r.error_messages %>
3:   <%= error_messages_for :request %>
4:   <p>

    app/views/businesses/createrequestform.html.erb:1
    app/controllers/businesses_controller.rb:64:in `createrequestform'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (86.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:33:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 73ms (View: 60, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:33:29) [GET]
Rendering template within layouts/requests
Rendering requests/new

ActionView::TemplateError (undefined method `email' for #<Request:0x38a6a60>) on line #12 of app/views/requests/new.html.erb:
9:   </p>
10:   <p>
11:     <%= f.label :email %><br />
12:     <%= f.text_field :email %>
13:   </p>
14:   <p>
15:     <%= f.label :content %><br />

    app/views/requests/new.html.erb:12:in `block in _run_erb_app47views47requests47new46html46erb'
    app/views/requests/new.html.erb:3
    app/controllers/requests_controller.rb:29:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (146.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:34:12) [GET]
Rendering template within layouts/requests
Rendering requests/new

ActionView::TemplateError (undefined method `content' for #<Request:0x3b9bee0>) on line #12 of app/views/requests/new.html.erb:
9:   </p>
10:   <p>
11:     <%= f.label :content %><br />
12:     <%= f.text_area :content %>
13:   </p>
14:   <p>
15:     <%= f.submit 'Create' %>

    app/views/requests/new.html.erb:12:in `block in _run_erb_app47views47requests47new46html46erb'
    app/views/requests/new.html.erb:3
    app/controllers/requests_controller.rb:29:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (150.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:34:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:34:41) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 15, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:34:44) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:37:13) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 23ms (View: 10, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:37:18) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:39:21) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:39:24) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}

ActionView::MissingTemplate (Missing template requests/create.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:39:44) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:39:46) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}

ArgumentError (too few arguments):
  app/controllers/requests_controller.rb:49:in `format'
  app/controllers/requests_controller.rb:49:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:40:12) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:40:14) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 72ms (View: 5, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:40:45) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:40:48) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}

NoMethodError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.call):
  app/controllers/requests_controller.rb:45:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:41:17) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:41:19) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:46:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 111ms (View: 97, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:46:47) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-22 21:46:49) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
  [4;36;1mBusiness Create (1.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, '2009-09-23 04:46:49', '2009-09-23 04:46:49')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 26ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/create]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:46:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:47:01) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:47:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 99ms (View: 87, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:47:25) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 21:47:27) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering businesses/new
Completed in 26ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/createrequest]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:47:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 42, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createrequestform (for 127.0.0.1 at 2009-09-22 21:50:09) [GET]
  Parameters: {"id"=>"1"}
Rendering businesses/createrequestform
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/createrequestform/1]


Processing BusinessesController#createrequest (for 127.0.0.1 at 2009-09-22 21:50:10) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering businesses/createrequestform
Completed in 28ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/createrequest]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 21:51:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 72ms (View: 54, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:51:08) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 21:51:11) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 21:51:52) [GET]
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/requests/new]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:00:33) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 128ms (View: 66, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:00:34) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 56ms (View: 44, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:00:43) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:00:50) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 17ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 22:00:52) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 26ms (View: 4, DB: 0) | 200 OK [http://localhost/users]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:02:05) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 69ms (View: 52, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:02:07) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:03:13) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:03:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 41, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:03:28) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 22:07:11) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 22:07:23) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 5, DB: 0) | 200 OK [http://localhost/requests]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:07:47) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:07:51) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 22:09:22) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 22ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:10:20) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:17:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 57ms (View: 45, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:17:58) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:18:35) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:20:56) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 121ms (View: 104, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:20:58) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:21:05) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 60ms (View: 45, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:21:07) [GET]
  Parameters: {"id"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 22:28:02) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing UsersController#show (for 127.0.0.1 at 2009-09-22 22:28:07) [GET]
  Parameters: {"id"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=login):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:36:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 104ms (View: 90, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 22:36:16) [GET]

ActionController::RoutingError (No route matches "/login/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-22 22:41:02) [GET]

ActionController::RoutingError (No route matches "/login/login" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:42:25) [GET]
Rendering login/login
Completed in 26ms (View: 17, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 22:42:31) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}

ActionController::UnknownAction (No action responded to processlogin. Actions: create, destroy, edit, index, new, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:43:32) [GET]
Rendering login/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#processlogin (for 127.0.0.1 at 2009-09-22 22:43:34) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}

ActionController::UnknownAction (No action responded to processlogin. Actions: create, destroy, edit, index, new, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:44:31) [GET]
Rendering login/login
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 22:44:32) [POST]
  Parameters: {"authenticity_token"=>"QYuiOPfXqdaFx2uaV/WYCZpqvP3igvgFlYOAEU2bU5g=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:44:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 57ms (View: 44, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 22:44:35) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 1ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:44:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:44:38) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 22:44:39) [POST]
  Parameters: {"authenticity_token"=>"icZcyOAwKE1RyUjv+MCIDQjCs9fzuth1QVdQKrWZPTA=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 14ms (View: 4, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:44:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 57ms (View: 45, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 22:44:41) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 22:44:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 59ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:44:46) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 22:44:49) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 28ms (View: 17, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#5 (for 127.0.0.1 at 2009-09-22 22:45:04) [DELETE]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0="}

ActionController::UnknownAction (No action responded to 5. Actions: create, destroy, edit, index, new, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 22:48:10) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "businessname"=>"aa", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%aa%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 14ms (View: 5, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 22:49:15) [GET]
Rendering login/login
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:55:06) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 23ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 22:55:08) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 22:55:46) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 58ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 22:55:47) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:00:00) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 23:00:01) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 10, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:00:08) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:03:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 45, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:03:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 58ms (View: 44, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:03:49) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 22ms (View: 11, DB: 0) | 200 OK [http://localhost/users/new]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:09:27) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#index (for 127.0.0.1 at 2009-09-22 23:09:30) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
Rendering template within layouts/requests
Rendering requests/index

ActionView::TemplateError (undefined method `email' for #<Request:0x398ec40>) on line #13 of app/views/requests/index.html.erb:
10: <% @requests.each do |request| %>
11:   <tr>
12:     <td><%=h request.askprice %></td>
13:     <td><%=h request.email %></td>
14:     <td><%=h request.content %></td>
15:     <td><%= link_to 'Show', request %></td>
16:     <td><%= link_to 'Edit', edit_request_path(request) %></td>

    app/views/requests/index.html.erb:13:in `block in _run_erb_app47views47requests47index46html46erb'
    app/views/requests/index.html.erb:10:in `each'
    app/views/requests/index.html.erb:10
    app/controllers/requests_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (133.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:09:33) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#index (for 127.0.0.1 at 2009-09-22 23:09:36) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" [0m
Rendering template within layouts/requests
Rendering requests/index

ActionView::TemplateError (undefined method `email' for #<Request:0x3b4b140>) on line #13 of app/views/requests/index.html.erb:
10: <% @requests.each do |request| %>
11:   <tr>
12:     <td><%=h request.askprice %></td>
13:     <td><%=h request.email %></td>
14:     <td><%=h request.content %></td>
15:     <td><%= link_to 'Show', request %></td>
16:     <td><%= link_to 'Edit', edit_request_path(request) %></td>

    app/views/requests/index.html.erb:13:in `block in _run_erb_app47views47requests47index46html46erb'
    app/views/requests/index.html.erb:10:in `each'
    app/views/requests/index.html.erb:10
    app/controllers/requests_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (92.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:09:55) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:09:57) [GET]
Rendering login/login
Completed in 13ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:09:59) [POST]
  Parameters: {"authenticity_token"=>"pqbHwCf1taNiEFUq0oLWL5tVV8BiF1g2So+CFz/nbI0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:09:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 56ms (View: 42, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:10:00) [GET]
  Parameters: {"id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createreferalform.erb in view path app/views):
  app/controllers/businesses_controller.rb:59:in `createreferalform'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:10:05) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:10:05) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 101ms (View: 85, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:15:08) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#index (for 127.0.0.1 at 2009-09-22 23:15:10) [POST]
  Parameters: {"authenticity_token"=>"EbP4SWwZwIqcOdxcGK5NRPVavrqiKD5Ldh7M7wBrgN0=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
Rendering template within layouts/requests
Rendering requests/index

ActionView::TemplateError (undefined method `email' for #<Request:0x4712120>) on line #13 of app/views/requests/index.html.erb:
10: <% @requests.each do |request| %>
11:   <tr>
12:     <td><%=h request.askprice %></td>
13:     <td><%=h request.email %></td>
14:     <td><%=h request.content %></td>
15:     <td><%= link_to 'Show', request %></td>
16:     <td><%= link_to 'Edit', edit_request_path(request) %></td>

    app/views/requests/index.html.erb:13:in `block in _run_erb_app47views47requests47index46html46erb'
    app/views/requests/index.html.erb:10:in `each'
    app/views/requests/index.html.erb:10
    app/controllers/requests_controller.rb:7:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (90.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:15:49) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 49ms (View: 49, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:16:29) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:16:32) [GET]
Rendering login/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:16:33) [POST]
  Parameters: {"authenticity_token"=>"EbP4SWwZwIqcOdxcGK5NRPVavrqiKD5Ldh7M7wBrgN0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:16:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 55ms (View: 43, DB: 2) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:16:35) [GET]
  Parameters: {"id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createreferalform.erb in view path app/views):
  app/controllers/businesses_controller.rb:59:in `createreferalform'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:16:44) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:19:04) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:19:04) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 44, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:19:06) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-09-22 23:19:07) [POST]
  Parameters: {"authenticity_token"=>"OwyxDr+Azy8o+PC1Op//wgdpzS+CZkoEWfObmrYfwHI=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:19:38) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 23:19:39) [POST]
  Parameters: {"authenticity_token"=>"OwyxDr+Azy8o+PC1Op//wgdpzS+CZkoEWfObmrYfwHI=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 25ms (View: 4, DB: 0) | 200 OK [http://localhost/users]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:19:43) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 14ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 23:19:46) [POST]
  Parameters: {"authenticity_token"=>"OwyxDr+Azy8o+PC1Op//wgdpzS+CZkoEWfObmrYfwHI=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 23ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:19:49) [GET]
Rendering login/login
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:19:50) [POST]
  Parameters: {"authenticity_token"=>"OwyxDr+Azy8o+PC1Op//wgdpzS+CZkoEWfObmrYfwHI=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 12ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:19:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 55ms (View: 42, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:19:52) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 1ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:19:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 44, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:20:07) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:21:18) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:21:19) [POST]
  Parameters: {"authenticity_token"=>"AD3PjD0We93lEav6Plt3kvbZhvR0GoV9NjRqMc7pup0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 0) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:21:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 52ms (View: 39, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:21:23) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:21:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 42, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:21:26) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:21:28) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:21:29) [POST]
  Parameters: {"authenticity_token"=>"fJjRgpmBJRCk0APvM7RuzZsy+0pBbLWUwq/lR0VA0Is=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:21:30) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:21:32) [GET]
  Parameters: {"id"=>"1"}

ActionView::MissingTemplate (Missing template businesses/createreferalform.erb in view path app/views):
  app/controllers/businesses_controller.rb:59:in `createreferalform'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:21:43) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:21:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 42, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-22 23:25:50) [GET]
  Parameters: {"id"=>"1"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:25:53) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:26:05) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-22 23:26:22) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 23:26:24) [POST]
  Parameters: {"authenticity_token"=>"K9Hzq/tIGA3+iLPstIyOJfBSaFyTvatr0yeDMq/TSMU=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 26ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-22 23:26:40) [POST]
  Parameters: {"authenticity_token"=>"K9Hzq/tIGA3+iLPstIyOJfBSaFyTvatr0yeDMq/TSMU=", "user"=>{"displayname"=>"maxmai", "email"=>"yanji84@gmail.com", "password"=>"aaaaaa"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'maxmai') LIMIT 1[0m
  [4;35;1mUser Create (2.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('maxmai', 'yanji84@gmail.com', NULL, NULL, NULL, '2009-09-23 06:26:40', '2009-09-23 06:26:40', 'aaaaaa')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 2) | 200 OK [http://localhost/users]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:26:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 54ms (View: 43, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#login (for 127.0.0.1 at 2009-09-22 23:26:45) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-22 23:26:50) [POST]
  Parameters: {"authenticity_token"=>"K9Hzq/tIGA3+iLPstIyOJfBSaFyTvatr0yeDMq/TSMU=", "username"=>"maxmai", "password"=>"aaaaaa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'maxmai' and password = 'aaaaaa') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:26:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 6) [0m
Completed in 102ms (View: 88, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-22 23:26:55) [GET]
Redirected to http://localhost:3000/businesses/show/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:26:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 52ms (View: 40, DB: 3) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:29:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 42, DB: 1) | 200 OK [http://localhost/businesses/show/1]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-22 23:29:49) [GET]
  Parameters: {"id"=>"1"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/requests/new/1]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 23:29:56) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 23ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-22 23:30:11) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"700", "description"=>"blah!"}, "commit"=>"Create"}
  [4;36;1mRequest Create (1.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'blah!', 700, NULL, NULL, '2009-09-23 06:30:11', '2009-09-23 06:30:11')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 20ms (View: 3, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:30:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 56ms (View: 41, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:30:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:30:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 102ms (View: 88, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-22 23:31:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 1) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 1) [0m
Completed in 55ms (View: 40, DB: 5) | 200 OK [http://localhost/businesses/show/1]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:32:28) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 1) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 1) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 37ms (View: 26, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 23:32:31) [GET]
Rendering businesses/new
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:36:30) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
Rendering template within layouts/businesses
Rendering businesses/search

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #2 of app/views/businesses/search.html.erb:
1: <table>
2: <% @businesses.each do |business| %>
3: <tr>
4: <td>
5: <%= business.name %><br/>

    app/views/businesses/search.html.erb:2
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 23:37:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:37:15) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"aa", "location"=>"", "commit"=>"Search"}
Rendering template within layouts/businesses
Rendering businesses/search

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #2 of app/views/businesses/search.html.erb:
1: <table>
2: <% @businesses.each do |business| %>
3: <tr>
4: <td>
5: <%= business.name %><br/>

    app/views/businesses/search.html.erb:2
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (118.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:37:50) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"aa", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%aa%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
Completed in 13ms (View: 4, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-22 23:38:09) [GET]
Rendering template within layouts/businesses
Rendering businesses/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-22 23:38:11) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 27ms (View: 17, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-09-22 23:38:17) [DELETE]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "id"=>"1"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 1) [0m
  [4;35;1mBusiness Destroy (1.0ms)[0m   [0mDELETE FROM "businesses" WHERE "id" = 1[0m
Redirected to http://localhost:3000/businesses
Completed in 18ms (DB: 1) | 302 Found [http://localhost/businesses/1]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-22 23:38:17) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-09-22 23:38:20) [DELETE]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "id"=>"3"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 3) [0m
  [4;36;1mBusiness Destroy (1.0ms)[0m   [0;1mDELETE FROM "businesses" WHERE "id" = 3[0m
Redirected to http://localhost:3000/businesses
Completed in 19ms (DB: 1) | 302 Found [http://localhost/businesses/3]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-22 23:38:20) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 23:38:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-22 23:39:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:39:51) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"onyx", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%onyx%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
Completed in 12ms (View: 3, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-22 23:40:03) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 32ms (View: 21, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:11:21) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 32ms (View: 21, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 09:52:10) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:52:11) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 82ms (View: 31, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:52:49) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 09:52:54) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:52:56) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 33ms (View: 24, DB: 0) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 09:57:41) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 47ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:02:40) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"bank", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 43ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 10:02:46) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 38ms (View: 26, DB: 0) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-23 10:02:49) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 10:02:52) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:04:06) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:04:11) [GET]
Rendering template within layouts/application
Rendering businesses/new
Completed in 26ms (View: 16, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:08:27) [GET]
Rendering businesses/new

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/businesses_controller.rb:44:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:08:56) [GET]
Rendering businesses/new

ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/businesses_controller.rb:44:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (150.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:10:27) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  app/controllers/businesses_controller.rb:43:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:10:45) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 30, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:10:46) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  app/controllers/businesses_controller.rb:43:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:10:50) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  app/controllers/businesses_controller.rb:43:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:11:04) [GET]

ActionView::MissingTemplate (Missing template businesses/new.erb in view path app/views):
  app/controllers/businesses_controller.rb:43:in `block (2 levels) in new'
  app/controllers/businesses_controller.rb:42:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:11:22) [GET]
Rendering businesses/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 10:11:25) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/application
Rendering businesses/new
Completed in 29ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:12:56) [GET]
Rendering businesses/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 10:12:57) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 28ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:26:23) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:27:27) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 42ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 10:27:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:29:22) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 65ms (View: 41, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:30:38) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 47ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:30:41) [GET]
Rendering businesses/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 10:30:42) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 26ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 10:31:06) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"Archstone", "address"=>"177th ave", "description"=>"1000 dollar bonus"}, "commit"=>"Create"}
  [4;35;1mBusiness Create (1.0ms)[0m   [0mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES('Archstone', '177th ave', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '1000 dollar bonus', NULL, NULL, '2009-09-23 17:31:06', '2009-09-23 17:31:06')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 25ms (View: 2, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 10:31:08) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
Completed in 52ms (View: 38, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 10:31:30) [GET]
Rendering businesses/new
Completed in 22ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 10:31:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 13:07:09) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 13:08:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 13:08:26) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 13:09:27) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 14ms (View: 5, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 13:09:32) [GET]
Rendering businesses/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 13:09:35) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 29ms (View: 4, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 13:10:20) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "business"=>{"name"=>"The Onyx", "address"=>"4850 156th Ave NE Redmond, WA", "description"=>"1000 dollars worth of bonus"}, "commit"=>"Create"}
  [4;36;1mBusiness Create (2.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES('The Onyx', '4850 156th Ave NE Redmond, WA', NULL, NULL, NULL, NULL, NULL, NULL, NULL, '1000 dollars worth of bonus', NULL, NULL, '2009-09-23 20:10:20', '2009-09-23 20:10:20')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 25ms (View: 3, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 13:10:21) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"the onyx", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%the onyx%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 48ms (View: 35, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:10:40) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 38ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:10:45) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:11:48) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:11:52) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:12:03) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"600", "description"=>"split 600 bucks"}, "commit"=>"Create"}
  [4;35;1mRequest Create (1.0ms)[0m   [0mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'split 600 bucks', 600, NULL, NULL, '2009-09-23 20:12:03', '2009-09-23 20:12:03')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 23ms (View: 3, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:12:03) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 40ms (View: 24, DB: 4) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#createreferalform (for 127.0.0.1 at 2009-09-23 13:14:08) [GET]
  Parameters: {"id"=>"5"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/businesses/createreferalform/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:15:35) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 46ms (View: 33, DB: 2) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:15:37) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 13:15:40) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 38ms (View: 28, DB: 0) | 200 OK [http://localhost/referals/new/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:17:41) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
ERROR: compiling _run_erb_app47views47requests47new46html46erb RAISED c:/Referme/app/views/requests/new.html.erb:3: syntax error, unexpected ':', expecting keyword_end
;  form_for(@request) :id => @businessid do |f| ; @o...
                       ^
c:/Referme/app/views/requests/new.html.erb:18: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47requests47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>New request</h1>\n\n"

;  form_for(@request) :id => @businessid do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n  <p>\n    "


; @output_buffer.concat(( f.label :askprice ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :askprice ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :description ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_area :description ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.submit 'Create' ).to_s); @output_buffer.concat "\n  </p>\n"

;  end ; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:947:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:135:in `block in custom'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `block in respond'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `respond'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:107:in `respond_to'
c:/Referme/app/controllers/requests_controller.rb:29:in `new'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/Referme/app/views/requests/new.html.erb:3: syntax error, unexpected ':', expecting keyword_end
;  form_for(@request) :id => @businessid do |f| ; @o...
                       ^
c:/Referme/app/views/requests/new.html.erb:18: syntax error, unexpected keyword_ensure, expecting $end) on line #3 of app/views/requests/new.html.erb:
1: <h1>New request</h1>
2: 
3: <% form_for(@request) :id => @businessid do |f| %>
4:   <%= f.error_messages %>
5: 
6:   <p>

    app/controllers/requests_controller.rb:29:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:18:08) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 23ms (View: 13, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:18:14) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:18:17) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:18:24) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:25:43) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 38ms (View: 25, DB: 3) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:25:44) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 15, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:25:47) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 5, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:25:53) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"766", "description"=>"aaaa"}, "commit"=>"Create"}
  [4;35;1mRequest Create (2.0ms)[0m   [0mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'aaaa', 766, NULL, NULL, '2009-09-23 20:25:53', '2009-09-23 20:25:53')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 2) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:25:53) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 42ms (View: 27, DB: 3) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:25:57) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 38ms (View: 25, DB: 3) | 200 OK [http://localhost/businesses/5]
  [4;35;1mSQL (10.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (9.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mRequest Load (9.0ms)[0m   [0mSELECT * FROM "requests" [0m


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:27:05) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:27:11) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"600", "description"=>"aaa"}, "commit"=>"Create"}
  [4;36;1mRequest Create (1.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'aaa', 600, NULL, NULL, '2009-09-23 20:27:11', '2009-09-23 20:27:11')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 22ms (View: 4, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:27:11) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 39ms (View: 27, DB: 1) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:27:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 39ms (View: 26, DB: 2) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:27:17) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:28:45) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 39ms (View: 26, DB: 1) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:28:46) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:28:51) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"766", "description"=>""}, "commit"=>"Create"}

NameError (uninitialized class variable @@businessid in RequestsController):
  app/controllers/requests_controller.rb:44:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:30:18) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 40ms (View: 26, DB: 3) | 200 OK [http://localhost/businesses/5]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:30:20) [GET]
  Parameters: {"id"=>"5"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 117ms (View: 106, DB: 0) | 200 OK [http://localhost/requests/new/5]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:30:23) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 26ms (View: 5, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:30:29) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"700", "description"=>""}, "commit"=>"Create"}
  [4;35;1mRequest Create (2.0ms)[0m   [0mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, '', 700, NULL, 0, '2009-09-23 20:30:29', '2009-09-23 20:30:29')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 2) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:30:29) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (2.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 42ms (View: 23, DB: 5) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:30:31) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 38ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/5]
  [4;36;1mRequest Load (2.0ms)[0m   [0;1mSELECT * FROM "requests" [0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:42:13) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `current_id=' for #<Class:0xecda5c0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:42:49) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `current_id=' for #<Class:0xea01a00>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (58.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:43:08) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0xe7885e0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:49:48) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0x4813a40>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:49:49) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0x38ef8a0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (135.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:49:50) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0xf24bce0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:49:51) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0xeed86a0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 13:50:10) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 13:50:14) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 71ms (View: 52, DB: 5) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:50:18) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

NoMethodError (undefined method `currentid=' for #<Class:0xea1edc0>):
  app/controllers/businesses_controller.rb:30:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:53:14) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 37ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 13:53:21) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:53:24) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 25ms (View: 4, DB: 0) | 200 OK [http://localhost/requests]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 13:53:30) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "request"=>{"askprice"=>"6456", "description"=>"sdrtr"}, "commit"=>"Create"}
  [4;36;1mRequest Create (1.0ms)[0m   [0;1mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'sdrtr', 6456, NULL, 2, '2009-09-23 20:53:30', '2009-09-23 20:53:30')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 22ms (View: 4, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:53:30) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 41ms (View: 27, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 13:59:42) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 13:59:46) [GET]
Rendering login/login
Completed in 12ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 13:59:48) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 13ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 13:59:48) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 51ms (View: 34, DB: 5) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 13:59:52) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:00:41) [GET]
  Parameters: {"id"=>"2"}

SyntaxError (c:/Referme/app/models/referal.rb:4: syntax error, unexpected ':', expecting keyword_end
  validates_presence_of: offerprice
                        ^
c:/Referme/app/models/referal.rb:5: syntax error, unexpected ':', expecting keyword_end
  validates_presence_of: description
                        ^):
  app/controllers/referals_controller.rb:36:in `new'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:00:56) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 20ms (View: 6, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:00:59) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "referal"=>{"offerprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 27ms (View: 5, DB: 0) | 200 OK [http://localhost/referals]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:01:18) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 23ms (View: 13, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:02:19) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 17ms (View: 6, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:02:23) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "referal"=>{"offerprice"=>"dfds", "description"=>"asdf"}, "commit"=>"Create"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 24ms (View: 4, DB: 0) | 200 OK [http://localhost/referals]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:02:27) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "referal"=>{"offerprice"=>"456", "description"=>"asdf"}, "commit"=>"Create"}
  [4;35;1mReferal Create (2.0ms)[0m   [0mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'asdf', 456, NULL, 2, '2009-09-23 21:02:27', '2009-09-23 21:02:27')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 22ms (View: 3, DB: 2) | 200 OK [http://localhost/referals]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:02:27) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #28 of app/views/businesses/show.html.erb:
25:       <% @business.referals.each do |referal| %> </br>
26:       <%= "offer: $#{referal.offerprice}"%> </br>
27:       <%= referal.description %> </br>
28:       <%= referal.user.displayname %> </br>
29:       <%= link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' %> </br>
30:       <% end %>
31:     </td>

    app/views/businesses/show.html.erb:28:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:25
    app/controllers/businesses_controller.rb:31:in `show'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (96.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:04:01) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #28 of app/views/businesses/show.html.erb:
25:       <% @business.referals.each do |referal| %> </br>
26:       <%= "offer: $#{referal.offerprice}"%> </br>
27:       <%= referal.description %> </br>
28:       <%= referal.user.displayname %> </br>
29:       <%= link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' %> </br>
30:       <% end %>
31:     </td>

    app/views/businesses/show.html.erb:28:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:25
    app/controllers/businesses_controller.rb:31:in `show'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:04:11) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 17ms (View: 14, DB: 1) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 14:04:14) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 49ms (View: 36, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:04:15) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.displayname) on line #28 of app/views/businesses/show.html.erb:
25:       <% @business.referals.each do |referal| %> </br>
26:       <%= "offer: $#{referal.offerprice}"%> </br>
27:       <%= referal.description %> </br>
28:       <%= referal.user.displayname %> </br>
29:       <%= link_to "contact", {:controller => :businesses, :action => :referalform, :id => referal.id}, :rel => 'gb_page_center[640,480]' %> </br>
30:       <% end %>
31:     </td>

    app/views/businesses/show.html.erb:28:in `block in _run_erb_app47views47businesses47show46html46erb'
    app/views/businesses/show.html.erb:25
    app/controllers/businesses_controller.rb:31:in `show'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:04:19) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 47ms (View: 35, DB: 1) | 200 OK [http://localhost/businesses/4]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:04:21) [GET]
  Parameters: {"id"=>"4"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/referals/new/4]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:04:30) [POST]
  Parameters: {"authenticity_token"=>"vlE1ZKnGfRZyM381d0VnwBIB3YxPP9++0NUaPTrtCRA=", "referal"=>{"offerprice"=>"345", "description"=>"sfdg"}, "commit"=>"Create"}
  [4;36;1mReferal Create (1.0ms)[0m   [0;1mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'sfdg', 345, 4, 4, '2009-09-23 21:04:30', '2009-09-23 21:04:30')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 21ms (View: 3, DB: 1) | 200 OK [http://localhost/referals]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:04:30) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 4) [0m
Completed in 51ms (View: 38, DB: 2) | 200 OK [http://localhost/businesses/4]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-23 14:04:33) [GET]
  Parameters: {"id"=>"5"}

ActionController::UnknownAction (No action responded to referalform. Actions: create, destroy, edit, index, login_required, new, search, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (39.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Delete all (16.0ms)[0m   [0mDELETE FROM "requests" WHERE ("id" IN ('--- :all
')) [0m
  [4;36;1mRequest Load (20.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Delete all (1.0ms)[0m   [0mDELETE FROM "requests" WHERE ("id" IN ('--- 
- :condition
- "1"
')) [0m
  [4;36;1mRequest Delete all (8.0ms)[0m   [0;1mDELETE FROM "requests" WHERE ("id" IN (1)) [0m
  [4;35;1mRequest Delete all (1.0ms)[0m   [0mDELETE FROM "requests" WHERE ("id" IN (0)) [0m
  [4;36;1mRequest Delete all (6.0ms)[0m   [0;1mDELETE FROM "requests" WHERE ("id" IN (2)) [0m
  [4;35;1mRequest Delete all (5.0ms)[0m   [0mDELETE FROM "requests" WHERE ("id" IN (10)) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mRequest Delete all (5.0ms)[0m   [0mDELETE FROM "requests" WHERE 1=1[0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" [0m
  [4;35;1mReferal Delete all (8.0ms)[0m   [0mDELETE FROM "referals" WHERE 1=1[0m
  [4;36;1mUser Delete all (8.0ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m


Processing LoginController#logout (for 127.0.0.1 at 2009-09-23 14:09:22) [GET]
Redirected to http://localhost:3000/businesses/4
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:09:22) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 4) [0m
Completed in 39ms (View: 25, DB: 3) | 200 OK [http://localhost/businesses/4]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:09:23) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:09:26) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:09:27) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:09:27) [GET]
Rendering login/login
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 14:10:23) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 14:12:15) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 17ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:12:16) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"", "email"=>"Ji", "password"=>"yyyyyy"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'Ji') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 27ms (View: 5, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:12:23) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"", "email"=>"", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = '') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 27ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 14:13:01) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 18ms (View: 8, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:13:29) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"ji", "email"=>"yanji", "password"=>"aaaaaa"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'ji') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 28ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:13:38) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"ji", "email"=>"yanji84@gmail.com", "password"=>""}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'ji') LIMIT 1[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji84@gmail.com') LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 46ms (View: 5, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:13:45) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"ji", "email"=>"yanji84@gmail.com", "password"=>"aaaaaa"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'ji') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji84@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('ji', 'yanji84@gmail.com', NULL, NULL, NULL, '2009-09-23 21:13:45', '2009-09-23 21:13:45', 'aaaaaa')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 23ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:13:45) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 8ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 14:13:53) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 40ms (View: 27, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:13:57) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 37ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:14:02) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 14:14:05) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing RequestsController#create (for 127.0.0.1 at 2009-09-23 14:14:33) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "request"=>{"askprice"=>"100", "description"=>"if you refer me, I will give you 100 bucks"}, "commit"=>"Create"}
  [4;35;1mRequest Create (1.0ms)[0m   [0mINSERT INTO "requests" ("publishtime", "description", "askprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'if you refer me, I will give you 100 bucks', 100, NULL, 2, '2009-09-23 21:14:33', '2009-09-23 21:14:33')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 30ms (View: 3, DB: 1) | 200 OK [http://localhost/requests]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:14:34) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 43ms (View: 28, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:14:37) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:14:40) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:14:42) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:14:42) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:14:45) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"aaaaaa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'aaaaaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:14:45) [GET]
Rendering login/login
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:14:51) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:14:51) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:15:17) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"aaaaaa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'aaaaaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:15:17) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:15:21) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:15:21) [GET]
Rendering login/login
Completed in 12ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:15:25) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:15:56) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"aaaaaa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'aaaaaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:15:56) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]
  [4;36;1mUser Delete all (6.0ms)[0m   [0;1mDELETE FROM "users" WHERE 1=1[0m


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 14:16:13) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-09-23 14:16:23) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'Ji') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji84@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('Ji', 'yanji84@gmail.com', NULL, NULL, NULL, '2009-09-23 21:16:23', '2009-09-23 21:16:23', 'yyyyyy')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 24ms (View: 3, DB: 1) | 200 OK [http://localhost/users]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:16:23) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 45ms (View: 27, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:16:26) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:16:27) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 14ms (View: 3, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:16:27) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 53ms (View: 42, DB: 0) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:16:29) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 15ms (View: 6, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:16:32) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "referal"=>{"offerprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 27ms (View: 5, DB: 0) | 200 OK [http://localhost/referals]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:17:05) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "referal"=>{"offerprice"=>"400", "description"=>"I can refer you and give you 400 bucks"}, "commit"=>"Create"}
  [4;36;1mReferal Create (1.0ms)[0m   [0;1mINSERT INTO "referals" ("publishtime", "description", "offerprice", "user_id", "business_id", "created_at", "updated_at") VALUES(NULL, 'I can refer you and give you 400 bucks', 400, 8, 2, '2009-09-23 21:17:05', '2009-09-23 21:17:05')[0m
Rendered layouts/_refreshparent (0.0ms)
Completed in 22ms (View: 3, DB: 1) | 200 OK [http://localhost/referals]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:17:05) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 61ms (View: 47, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:17:17) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 16ms (View: 14, DB: 1) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 14:17:19) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 52ms (View: 38, DB: 4) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 14:17:23) [GET]
Rendering businesses/new
Completed in 38ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 14:17:27) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 35ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 14:18:28) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (1.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 53ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 14:18:29) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing ReferalsController#create (for 127.0.0.1 at 2009-09-23 14:18:32) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "referal"=>{"offerprice"=>"", "description"=>""}, "commit"=>"Create"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 27ms (View: 5, DB: 0) | 200 OK [http://localhost/referals]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 14:18:41) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 50ms (View: 39, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 14:18:43) [GET]
Rendering businesses/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 14:18:46) [POST]
  Parameters: {"authenticity_token"=>"Fxj9zOWxRP3iW+5qEAoL6k73f3nND4opvnh+QGon66c=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 29ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:39:38) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 17ms (View: 16, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:55:24) [GET]
Rendering template within layouts/application
Rendering home/index
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 47ms (View: 42, DB: 1) | 200 OK [http://localhost/]


Processing LoginController#logout (for 127.0.0.1 at 2009-09-23 14:55:25) [GET]
Redirected to http://localhost:3000/
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:55:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:55:27) [GET]
Rendering login/login
Completed in 18ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:55:30) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Ji", "password"=>"yyyyysdfy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyysdfy') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 0) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:55:30) [GET]
Rendering login/login
Completed in 12ms (View: 3, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 14:55:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:55:50) [GET]
Rendering login/login
Completed in 23ms (View: 14, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:55:56) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Jinnn", "password"=>"ggg", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Jinnn' and password = 'ggg') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 0) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:55:56) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:56:25) [GET]
Rendering login/login
Completed in 17ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:56:27) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Ji", "password"=>"yyyyyffy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyffy') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:56:27) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:56:43) [GET]
Rendering login/login
Completed in 19ms (View: 10, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:56:46) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Ji", "password"=>"yyyyyyggg", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyggg') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:56:46) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:57:20) [GET]
Rendering login/login
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:57:24) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Jifff", "password"=>"gfsdg", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Jifff' and password = 'gfsdg') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:57:24) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:57:48) [GET]
Rendering login/login
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-23 14:57:51) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "username"=>"Ji", "password"=>"yyyyyyjjj", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyjjj') [0m
Redirected to http://localhost:3000/login/login
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-09-23 14:57:51) [GET]
Rendering login/login
Completed in 11ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:02:56) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
Completed in 42ms (View: 27, DB: 4) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 15:03:01) [GET]
Rendering businesses/new
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 15:03:04) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 32ms (View: 4, DB: 0) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 15:14:35) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:16:03) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"sprint", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%sprint%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 15ms (View: 5, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 15:16:05) [GET]
Rendering businesses/new
Completed in 17ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 15:18:13) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "business"=>{"name"=>"Sprint", "address"=>"6391 Sprint Parkway Overland Park KS 66251-4300 ", "description"=>"http://www.sprint.com/landings/refrewards/\r\n\r\nShare the best things about being a Sprint customer with your family and friends.\r\n\r\nTell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009."}, "commit"=>"Create"}
  [4;36;1mBusiness Create (1.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "picture", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at") VALUES('Sprint', '6391 Sprint Parkway Overland Park KS 66251-4300 ', NULL, NULL, NULL, NULL, NULL, NULL, NULL, 'http://www.sprint.com/landings/refrewards/

Share the best things about being a Sprint customer with your family and friends.

Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we''ll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa® debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.', NULL, NULL, '2009-09-23 22:18:13', '2009-09-23 22:18:13')[0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 49ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:18:18) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"sprint", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%sprint%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 52ms (View: 35, DB: 3) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 15:18:31) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 37ms (View: 24, DB: 3) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:19:02) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 5) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 39ms (View: 26, DB: 4) | 200 OK [http://localhost/businesses/search]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:29:53) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 27ms (View: 17, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 15:30:04) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 36ms (View: 24, DB: 0) | 200 OK [http://localhost/businesses/6]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 15:41:20) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 15:58:33) [POST]
  Parameters: {"authenticity_token"=>"dJf3x4uAhMK+O46t9tZqLurABTDmwWCI+aGExMq+5nc=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 11, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 16:26:10) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 4) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 4) [0m
Completed in 47ms (View: 32, DB: 2) | 200 OK [http://localhost/businesses/4]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 19:45:17) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 19:45:23) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 22ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 19:45:28) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 6) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 6) [0m
Completed in 39ms (View: 26, DB: 1) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 19:45:32) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 53ms (View: 41, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-23 19:45:36) [GET]
  Parameters: {"id"=>"11"}
Rendering template within layouts/application
Rendering businesses/requestform
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/requestform/11]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 19:45:41) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 3, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 19:45:45) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 19:45:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 9ms (View: 7, DB: 0) | 200 OK [http://localhost/home]
  [4;36;1mSQL (55.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 20:25:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 20:25:45) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 20:25:47) [GET]
Rendering businesses/new
Completed in 28ms (View: 16, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 20:47:56) [GET]
Rendering businesses/new
Completed in 27ms (View: 16, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-23 20:47:59) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 61ms (View: 3, DB: 0) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 20:55:02) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 21ms (View: 19, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-23 20:55:05) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 19ms (View: 9, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 20:55:11) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 20:55:15) [GET]
Rendering businesses/new
Completed in 29ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 20:55:29) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (1.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 54ms (View: 40, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-23 20:55:32) [GET]
  Parameters: {"id"=>"2"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 20:55:35) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 20:55:45) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE "pictures" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "filename" varchar(255), "filetype" varchar(255), "content" blob, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090924035229')[0m
Migrating to AddPictureAssociationToBusiness (20090924041442)
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TEMPORARY TABLE "altered_businesses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" varchar(255), "city" varchar(255), "state" varchar(255), "country" varchar(255), "picture" blob, "rating" integer, "review" text, "category" varchar(255), "description" text, "zipcode" varchar(255), "yelpid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("businesses")[0m
  [4;35;1mSQL (3.0ms)[0m   [0mDROP TABLE "businesses"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCREATE TABLE "businesses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "address" varchar(255), "city" varchar(255), "state" varchar(255), "country" varchar(255), "rating" integer, "review" text, "category" varchar(255), "description" text, "zipcode" varchar(255), "yelpid" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("altered_businesses")[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDROP TABLE "altered_businesses"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "businesses" ADD "picture" reference[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090924041442')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mPRAGMA index_list("pictures")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (42.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-23 21:32:03) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 161ms (View: 35, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-23 21:32:12) [GET]
Rendering businesses/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-23 21:32:18) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 187ms (View: 174, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-23 21:32:29) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 39ms (View: 29, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-23 21:32:33) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 57ms (View: 56, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 11:04:31) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 34ms (View: 23, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-24 11:04:36) [GET]
Rendering businesses/new
Completed in 47ms (View: 31, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 11:05:19) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 11:05:23) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 11:07:55) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-24 11:08:33) [GET]
Rendering businesses/new
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-24 11:08:43) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;35;1mRequest Load (0.0ms)[0m   [0mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 54ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing UsersController#new (for 127.0.0.1 at 2009-09-24 11:09:02) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 81ms (View: 72, DB: 0) | 200 OK [http://localhost/users/new]


Processing LoginController#login (for 127.0.0.1 at 2009-09-24 11:09:15) [GET]
Rendering login/login
Completed in 44ms (View: 35, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-09-24 11:09:16) [POST]
  Parameters: {"authenticity_token"=>"WDcb6wHSPENOgRYF86ZJGF0ulJCPGfWzyO7SKXbKsxU=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Rendered layouts/_refreshparent (1.0ms)
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/login/processlogin]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-24 11:09:16) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "requests" WHERE ("requests".business_id = 2) [0m
  [4;36;1mRequest Load (0.0ms)[0m   [0;1mSELECT * FROM "requests" WHERE ("requests".business_id = 2) [0m
Completed in 69ms (View: 56, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-24 11:09:51) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing BusinessesController#requestform (for 127.0.0.1 at 2009-09-24 11:10:13) [GET]
  Parameters: {"id"=>"11"}
Rendering template within layouts/application
Rendering businesses/requestform
Completed in 17ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/requestform/11]


Processing RequestsController#new (for 127.0.0.1 at 2009-09-24 11:13:48) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/requests
Rendering requests/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/requests/new/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-24 11:15:08) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 49ms (View: 37, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-24 11:15:18) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 38ms (View: 28, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing BusinessesController#referalform (for 127.0.0.1 at 2009-09-24 11:20:21) [GET]
  Parameters: {"id"=>"6"}

ActionController::UnknownAction (No action responded to referalform. Actions: create, destroy, edit, index, new, search, show, and update):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-24 11:24:22) [GET]
  Parameters: {"id"=>"2"}
Rendering template within layouts/referals
Rendering referals/new
Completed in 104ms (View: 93, DB: 0) | 200 OK [http://localhost/referals/new/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 14:42:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 1284ms (View: 1282, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 15:01:05) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 9, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 15:02:05) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-24 15:05:55) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "location"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-24 15:06:05) [GET]
Rendering businesses/new
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 17:11:53) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 17:16:19) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-24 17:16:20) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing LoginController#login (for 127.0.0.1 at 2009-09-24 17:16:24) [GET]
Rendering login/login
Completed in 11ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-09-25 16:09:27) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 39ms (View: 38, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-25 16:12:21) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-25 16:12:42) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (29.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 163ms (View: 28, DB: 29) | 200 OK [http://localhost/businesses/search]


Processing UsersController#new (for 127.0.0.1 at 2009-09-25 16:50:39) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 39ms (View: 29, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-09-25 16:52:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-25 16:52:02) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-25 16:52:06) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-25 16:52:09) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 200ms (View: 188, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-25 16:52:49) [GET]
Rendering businesses/new
Completed in 24ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-09-25 16:52:58) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"", "address"=>"", "description"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 28ms (View: 4, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-25 16:54:40) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 21ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-25 16:55:06) [GET]
Rendering businesses/new
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-25 16:55:31) [GET]
Rendering businesses/new
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-25 16:56:11) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 4) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 4) [0m
Completed in 31ms (View: 19, DB: 0) | 200 OK [http://localhost/businesses/4]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-25 16:58:20) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 40ms (View: 28, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-25 22:21:10) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 98ms (View: 81, DB: 2) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-29 00:21:03) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 2926ms (View: 332, DB: 3) | 200 OK [http://localhost/businesses/2]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("pictures")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-29 21:51:05) [GET]
  Parameters: {"id"=>"search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Business with ID=search):
  app/controllers/businesses_controller.rb:23:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (340.0ms)
Rendered rescues/_request_and_response (70.0ms)
Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-09-29 21:51:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 28ms (View: 27, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-29 22:03:39) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 186ms (View: 56, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-29 22:03:43) [GET]
Rendering businesses/new
Completed in 24ms (View: 13, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-29 22:03:54) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 213ms (View: 200, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing HomeController#index (for 127.0.0.1 at 2009-09-29 22:04:09) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 20ms (View: 18, DB: 0) | 200 OK [http://localhost/home]


Processing UsersController#new (for 127.0.0.1 at 2009-09-29 22:09:51) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 75ms (View: 65, DB: 0) | 200 OK [http://localhost/users/new]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-29 22:09:59) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-29 22:20:07) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-29 22:22:16) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 41ms (View: 28, DB: 3) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-29 22:25:10) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-29 22:27:01) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-29 22:27:10) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-29 22:27:13) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
Completed in 27ms (View: 16, DB: 1) | 200 OK [http://localhost/businesses/6]


Processing HomeController#index (for 127.0.0.1 at 2009-09-29 22:27:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-29 22:27:16) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-29 22:28:36) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-29 22:28:37) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-29 22:28:48) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-29 22:28:55) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 2) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Completed in 42ms (View: 30, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-29 23:06:38) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"archstong", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%archstong%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 52ms (View: 5, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-29 23:06:44) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"archstone", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%archstone%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-30 12:54:53) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 23ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 12:55:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:19:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:21:03) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 13, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:22:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:22:47) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:22:55) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:23:11) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:23:12) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:26:04) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:27:30) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:28:23) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 13, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:28:47) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:29:04) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:29:24) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:30:19) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:30:26) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 14, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:34:42) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t\t <script type=\"text/javascript\">\n\t\tfunction refresh() {\n\t\t\tjavascript:location.reload(true)\n\t\t}\n\t\t</script>\n\t</head>\n\t<body>\n\t\t<table class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<div style=\"background-color:#00CDFF;padding:2em;text-align:left\">\n\t\t\t\t"











;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"






; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"





; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1334:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end) on line #39 of app/views/layouts/application.html.erb:
36: 		</table>
37: 	</body>
38: </html>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:35:39) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t\t <script type=\"text/javascript\">\n\t\tfunction refresh() {\n\t\t\tjavascript:location.reload(true)\n\t\t}\n\t\t</script>\n\t</head>\n\t<body>\n\t\t<table class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<div style=\"background-color:#00CDFF;padding:2em;text-align:left\">\n\t\t\t\t"











;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"






; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"





; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1334:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end) on line #39 of app/views/layouts/application.html.erb:
36: 		</table>
37: 	</body>
38: </html>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:35:40) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t\t <script type=\"text/javascript\">\n\t\tfunction refresh() {\n\t\t\tjavascript:location.reload(true)\n\t\t}\n\t\t</script>\n\t</head>\n\t<body>\n\t\t<table class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<div style=\"background-color:#00CDFF;padding:2em;text-align:left\">\n\t\t\t\t"











;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"






; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"





; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1334:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end) on line #39 of app/views/layouts/application.html.erb:
36: 		</table>
37: 	</body>
38: </html>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:35:41) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t\t <script type=\"text/javascript\">\n\t\tfunction refresh() {\n\t\t\tjavascript:location.reload(true)\n\t\t}\n\t\t</script>\n\t</head>\n\t<body>\n\t\t<table class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<div style=\"background-color:#00CDFF;padding:2em;text-align:left\">\n\t\t\t\t"











;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"






; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"





; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1334:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end) on line #39 of app/views/layouts/application.html.erb:
36: 		</table>
37: 	</body>
38: </html>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:37:00) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t\t <script type=\"text/javascript\">\n\t\tfunction refresh() {\n\t\t\tjavascript:location.reload(true)\n\t\t}\n\t\t</script>\n\t</head>\n\t<body>\n\t\t<table class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<div style=\"background-color:#00CDFF;padding:2em;text-align:left\">\n\t\t\t\t"











;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"






; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"





; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1334:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end) on line #39 of app/views/layouts/application.html.erb:
36: 		</table>
37: 	</body>
38: </html>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:37:00) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t\t <script type=\"text/javascript\">\n\t\tfunction refresh() {\n\t\t\tjavascript:location.reload(true)\n\t\t}\n\t\t</script>\n\t</head>\n\t<body>\n\t\t<table class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<div style=\"background-color:#00CDFF;padding:2em;text-align:left\">\n\t\t\t\t"











;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"






; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"





; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1334:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end) on line #39 of app/views/layouts/application.html.erb:
36: 		</table>
37: 	</body>
38: </html>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:37:03) [GET]
Rendering template within layouts/application
Rendering home/index
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t\t <script type=\"text/javascript\">\n\t\tfunction refresh() {\n\t\t\tjavascript:location.reload(true)\n\t\t}\n\t\t</script>\n\t</head>\n\t<body>\n\t\t<table class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<div style=\"background-color:#00CDFF;padding:2em;text-align:left\">\n\t\t\t\t"











;  form_tag '/businesses/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t<div id = \"content\">\n\t\t\t\t"






; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"





; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1334:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:39: syntax error, unexpected keyword_ensure, expecting keyword_end
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:41: syntax error, unexpected $end, expecting keyword_end) on line #39 of app/views/layouts/application.html.erb:
36: 		</table>
37: 	</body>
38: </html>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:38:30) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:40:48) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 22ms (View: 20, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:42:11) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 21ms (View: 19, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:42:19) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:45:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:46:20) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:46:42) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:46:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:56:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 13:57:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:01:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 29ms (View: 27, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:01:44) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:05:03) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 21ms (View: 19, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:05:47) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 14, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:06:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:06:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:07:34) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:09:34) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:10:41) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:11:07) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 28ms (View: 27, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-30 14:11:12) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering businesses/search
Completed in 107ms (View: 28, DB: 2) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 14:11:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (43.0ms)[0m   [0mALTER TABLE "businesses" ADD "url" varchar(255)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mALTER TABLE "businesses" ADD "referer_reward" integer[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "businesses" ADD "referee_reward" integer[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090930212157')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("pictures")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 14:28:36) [GET]
  Parameters: {"id"=>"index"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find Business with ID=index):
  app/controllers/businesses_controller.rb:23:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (104.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (not_found)


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:29:40) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/application
Rendering businesses/index
Completed in 30ms (View: 20, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:33:11) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/application
Rendering businesses/index
Completed in 32ms (View: 20, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:35:43) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/application
Rendering businesses/index
Completed in 23ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:35:45) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering businesses/edit
Completed in 33ms (View: 21, DB: 0) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:35:51) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/application
Rendering businesses/index
Completed in 62ms (View: 51, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:35:53) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
Rendering template within layouts/application
Rendering businesses/edit
Completed in 23ms (View: 13, DB: 0) | 200 OK [http://localhost/businesses/4/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:35:56) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/application
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:36:26) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 36ms (View: 26, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 14:36:32) [GET]
Rendering businesses/new
Completed in 28ms (View: 17, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:38:22) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 11, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:38:23) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 61ms (View: 50, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 14:38:25) [GET]
Rendering businesses/new
Completed in 28ms (View: 17, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:38:29) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 12, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:38:41) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 21ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 14:39:33) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Sprint", "address"=>"6391 Sprint Parkway Overland Park KS 66251-4300 ", "description"=>"Share the best things about being a Sprint customer with your family and friends.  Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.", "city"=>"Bellevue", "state"=>"WA", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50"}, "commit"=>"Update", "id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;35;1mBusiness Update (1.0ms)[0m   [0mUPDATE "businesses" SET "description" = 'Share the best things about being a Sprint customer with your family and friends. Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we''ll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa® debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.', "city" = 'Bellevue', "state" = 'WA', "url" = 'http://www.sprint.com/landings/refrewards/', "referee_reward" = 25, "referer_reward" = 50, "updated_at" = '2009-09-30 21:39:33' WHERE "id" = 6[0m
Redirected to http://localhost:3000/businesses/6
Completed in 86ms (DB: 2) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 14:39:33) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
Completed in 53ms (View: 40, DB: 2) | 200 OK [http://localhost/businesses/6]


Processing ReferalsController#new (for 127.0.0.1 at 2009-09-30 14:39:40) [GET]
  Parameters: {"id"=>"6"}
Filter chain halted as [:login_required] rendered_or_redirected.
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://localhost/referals/new/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 14:39:48) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
Completed in 28ms (View: 14, DB: 1) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:39:53) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 2) | 200 OK [http://localhost/businesses/]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mALTER TABLE "businesses" ADD "expiry_date" date[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090930214118')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("pictures")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:43:09) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 31ms (View: 19, DB: 2) | 200 OK [http://localhost/businesses/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:43:34) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 29ms (View: 19, DB: 2) | 200 OK [http://localhost/businesses/]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:43:36) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 31ms (View: 19, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 14:43:48) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Sprint", "address"=>"6391 Sprint Parkway Overland Park KS 66251-4300 ", "description"=>"Share the best things about being a Sprint customer with your family and friends.  Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before.", "city"=>"Bellevue", "state"=>"WA", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50", "expiry_date"=>"10/31/2009"}, "commit"=>"Update", "id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;35;1mBusiness Update (1.0ms)[0m   [0mUPDATE "businesses" SET "description" = 'Share the best things about being a Sprint customer with your family and friends. Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we''ll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa® debit card for each new line of service activated. You can get up to $600 from 12 new lines before.', "updated_at" = '2009-09-30 21:43:48' WHERE "id" = 6[0m
Redirected to http://localhost:3000/businesses/6
Completed in 26ms (DB: 1) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 14:43:48) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
Completed in 28ms (View: 16, DB: 1) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:43:55) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 23ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:44:01) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:44:01) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses/]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:44:05) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 23ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:53:18) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 122ms (View: 38, DB: 1) | 200 OK [http://localhost/businesses/]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:53:21) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 33ms (View: 22, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:53:52) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit

ActionView::TemplateError (undefined method `merge' for :expiry_date:Symbol) on line #40 of app/views/businesses/edit.html.erb:
37:   </p>
38:   <p>
39:     <%= f.label :expiry_date %><br />
40:     <%= f.calendar_date_select :businesses, :expiry_date %>
41:   </p>
42:   <p>
43:     <%= f.submit 'Update' %>

    c:/ruby19/lib/ruby/gems/1.9.1/gems/calendar_date_select-1.15/lib/calendar_date_select/form_helpers.rb:221:in `calendar_date_select'
    app/views/businesses/edit.html.erb:40:in `block in _run_erb_app47views47businesses47edit46html46erb'
    app/views/businesses/edit.html.erb:3
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (124.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:54:29) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 32ms (View: 20, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 14:54:34) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Sprint", "address"=>"6391 Sprint Parkway Overland Park KS 66251-4300 ", "description"=>"Share the best things about being a Sprint customer with your family and friends.  Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before.", "city"=>"Bellevue", "state"=>"WA", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50"}, "businesses"=>{"expiry_date"=>"September 24, 2009"}, "commit"=>"Update", "id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Redirected to http://localhost:3000/businesses/6
Completed in 18ms (DB: 0) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 14:54:34) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 6) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 6) [0m
Completed in 121ms (View: 107, DB: 2) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:54:40) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses/]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."name" = 'Sprint') LIMIT 1[0m


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:56:04) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 25ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 14:58:29) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 36ms (View: 20, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 14:58:33) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/5/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 14:58:37) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"The Onyx", "address"=>"4850 156th Ave NE Redmond, WA", "description"=>"1000 dollars worth of bonus", "city"=>"", "state"=>"", "url"=>"", "referee_reward"=>"", "referer_reward"=>""}, "businesses"=>{"expiry_date"=>"September 18, 2009"}, "commit"=>"Update", "id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mBusiness Update (1.0ms)[0m   [0mUPDATE "businesses" SET "city" = '', "state" = '', "url" = '', "updated_at" = '2009-09-30 21:58:37' WHERE "id" = 5[0m
Redirected to http://localhost:3000/businesses/5
Completed in 24ms (DB: 2) | 302 Found [http://localhost/businesses/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 14:58:38) [GET]
  Parameters: {"id"=>"5"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/businesses
Rendering businesses/show
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
Completed in 30ms (View: 14, DB: 2) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:01:14) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
Rendering template within layouts/businesses
Rendering businesses/show
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM "referals" WHERE ("referals".business_id = 5) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals".business_id = 5) [0m
Completed in 30ms (View: 17, DB: 1) | 200 OK [http://localhost/businesses/5]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:08:17) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses/]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:08:19) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:08:24) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Sprint", "address"=>"6391 Sprint Parkway Overland Park KS 66251-4300 ", "description"=>"Share the best things about being a Sprint customer with your family and friends.  Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before.", "city"=>"Bellevue", "state"=>"WA", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50"}, "businesses"=>{"expiry_date"=>"September 30, 2009"}, "commit"=>"Update", "id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Redirected to http://localhost:3000/businesses/6
Completed in 19ms (DB: 1) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:08:24) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 66ms (View: 15, DB: 0) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:08:33) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 23ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:08:39) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 20ms (View: 7, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:08:42) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."name" = 'Sprint') LIMIT 1[0m


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:12:07) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 14, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:12:09) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 33ms (View: 21, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:12:13) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Sprint", "address"=>"6391 Sprint Parkway Overland Park KS 66251-4300 ", "description"=>"Share the best things about being a Sprint customer with your family and friends.  Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before.", "city"=>"Bellevue", "state"=>"WA", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50", "expiry_date"=>"September 24, 2009"}, "commit"=>"Update", "id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;36;1mBusiness Update (1.0ms)[0m   [0;1mUPDATE "businesses" SET "expiry_date" = '2009-09-24', "updated_at" = '2009-09-30 22:12:13' WHERE "id" = 6[0m
Redirected to http://localhost:3000/businesses/6
Completed in 26ms (DB: 2) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:12:13) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:12:16) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 23ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:12:46) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 25ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:17:46) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Bank of America", "address"=>"", "description"=>"Customer Referral Program", "city"=>"", "state"=>"", "url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641", "referee_reward"=>"25", "referer_reward"=>"25", "expiry_date"=>"January 31, 2010"}, "commit"=>"Update", "id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 34ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:18:14) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Bank of America", "address"=>"", "description"=>"Customer Referral Program", "city"=>"", "state"=>"", "url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641", "referee_reward"=>"25", "referer_reward"=>"25", "expiry_date"=>"January 31, 2010"}, "commit"=>"Update", "id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;36;1mBusiness Update (1.0ms)[0m   [0;1mUPDATE "businesses" SET "address" = '', "description" = 'Customer Referral Program', "city" = '', "state" = '', "url" = 'https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641', "referee_reward" = 25, "referer_reward" = 25, "expiry_date" = '2010-01-31', "updated_at" = '2009-09-30 22:18:14' WHERE "id" = 2[0m
Redirected to http://localhost:3000/businesses/2
Completed in 27ms (DB: 1) | 302 Found [http://localhost/businesses/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:18:14) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 20ms (View: 7, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:18:17) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 23ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-09-30 15:18:32) [DELETE]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "id"=>"4"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 4) [0m
  [4;36;1mBusiness Destroy (2.0ms)[0m   [0;1mDELETE FROM "businesses" WHERE "id" = 4[0m
Redirected to http://localhost:3000/businesses
Completed in 19ms (DB: 2) | 302 Found [http://localhost/businesses/4]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:18:32) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-09-30 15:18:38) [DELETE]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "id"=>"5"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 5) [0m
  [4;35;1mBusiness Destroy (1.0ms)[0m   [0mDELETE FROM "businesses" WHERE "id" = 5[0m
Redirected to http://localhost:3000/businesses
Completed in 18ms (DB: 2) | 302 Found [http://localhost/businesses/5]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:18:38) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:19:25) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 63ms (View: 51, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:21:06) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Sprint", "address"=>"6391 Sprint Parkway Overland Park KS 66251-4300 ", "description"=>"Sprint Referral Rewards Program", "city"=>"", "state"=>"", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50", "expiry_date"=>"October 31, 2009"}, "commit"=>"Update", "id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;35;1mBusiness Update (2.0ms)[0m   [0mUPDATE "businesses" SET "description" = 'Sprint Referral Rewards Program', "city" = '', "state" = '', "expiry_date" = '2009-10-31', "updated_at" = '2009-09-30 22:21:06' WHERE "id" = 6[0m
Redirected to http://localhost:3000/businesses/6
Completed in 25ms (DB: 2) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:21:06) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 21ms (View: 9, DB: 0) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:21:08) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 12, DB: 2) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 15:21:13) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 28ms (View: 26, DB: 0) | 200 OK [http://localhost/]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-30 15:21:14) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
Completed in 29ms (View: 17, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-30 15:22:16) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
Completed in 60ms (View: 50, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing BusinessesController#search (for 127.0.0.1 at 2009-09-30 15:26:23) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/businesses
Rendering businesses/search
Completed in 20ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/search]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 15:28:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 15:28:40) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m

ActionView::MissingTemplate (Missing template home/search.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 15:29:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 12, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 15:29:41) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 27ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 15:29:48) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 62ms (View: 51, DB: 2) | 200 OK [http://localhost/home/search]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mALTER TABLE "businesses" ADD "referal_program_name" varchar(255)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090930223151')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("pictures")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:34:14) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 30ms (View: 20, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:34:18) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 33ms (View: 22, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:34:50) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Bank of America", "referal_program_name"=>"Customer Referral Program", "address"=>"", "description"=>"Refer friends and family, fellow students and business owners to one of our checking accounts today: When they open a new account, you can get a cash bonus and so can they.1  The more referrals you make, the more rewards you can get. And, there's no limit on how many referrals you can make.", "city"=>"", "state"=>"", "url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641", "referee_reward"=>"25", "referer_reward"=>"25", "expiry_date"=>"January 31, 2010"}, "commit"=>"Update", "id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;35;1mBusiness Update (2.0ms)[0m   [0mUPDATE "businesses" SET "referal_program_name" = 'Customer Referral Program', "description" = 'Refer friends and family, fellow students and business owners to one of our checking accounts today: When they open a new account, you can get a cash bonus and so can they.1 The more referrals you make, the more rewards you can get. And, there''s no limit on how many referrals you can make.', "updated_at" = '2009-09-30 22:34:50' WHERE "id" = 2[0m
Redirected to http://localhost:3000/businesses/2
Completed in 26ms (DB: 3) | 302 Found [http://localhost/businesses/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:34:50) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 21ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:34:56) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 25ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:35:15) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Bank of America", "referal_program_name"=>"Customer Referral Program", "address"=>"", "description"=>"Refer friends and family, fellow students and business owners to one of our checking accounts today: When they open a new account, you can get a cash bonus and so can they. The more referrals you make, the more rewards you can get. And, there's no limit on how many referrals you can make.", "city"=>"", "state"=>"", "url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641", "referee_reward"=>"25", "referer_reward"=>"25", "expiry_date"=>"January 31, 2010"}, "commit"=>"Update", "id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;35;1mBusiness Update (1.0ms)[0m   [0mUPDATE "businesses" SET "description" = 'Refer friends and family, fellow students and business owners to one of our checking accounts today: When they open a new account, you can get a cash bonus and so can they. The more referrals you make, the more rewards you can get. And, there''s no limit on how many referrals you can make.', "updated_at" = '2009-09-30 22:35:15' WHERE "id" = 2[0m
Redirected to http://localhost:3000/businesses/2
Completed in 26ms (DB: 1) | 302 Found [http://localhost/businesses/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:35:15) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:35:17) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 23ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:35:24) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 25ms (View: 13, DB: 0) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:35:53) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Sprint", "referal_program_name"=>"Sprint Referral Rewards Program", "address"=>"", "description"=>"Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.", "city"=>"", "state"=>"", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50", "expiry_date"=>"October 31, 2009"}, "commit"=>"Update", "id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;36;1mBusiness Update (2.0ms)[0m   [0;1mUPDATE "businesses" SET "referal_program_name" = 'Sprint Referral Rewards Program', "address" = '', "description" = 'Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we''ll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa® debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.', "updated_at" = '2009-09-30 22:35:53' WHERE "id" = 6[0m
Redirected to http://localhost:3000/businesses/6
Completed in 25ms (DB: 2) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:35:53) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 22ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:35:55) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 15:36:02) [GET]
Rendering businesses/new
Completed in 29ms (View: 17, DB: 0) | 200 OK [http://localhost/businesses/new]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mALTER TABLE "businesses" ADD "start_date" date[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mALTER TABLE "businesses" ADD "upper_limit" integer[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "businesses" ADD "referee_constraint" varchar(255)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090930224139')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("pictures")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("requests")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:49:19) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 34ms (View: 23, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 15:49:22) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 15, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:49:28) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 40ms (View: 27, DB: 0) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 15:51:17) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 36ms (View: 23, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 15:51:50) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Bank of America", "referal_program_name"=>"Customer Referral Program", "address"=>"", "description"=>"Refer friends and family, fellow students and business owners to one of our checking accounts today: When they open a new account, you can get a cash bonus and so can they. The more referrals you make, the more rewards you can get. And, there's no limit on how many referrals you can make.", "city"=>"", "state"=>"", "url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641", "referee_reward"=>"25", "referer_reward"=>"25", "start_date"=>"", "expiry_date"=>"January 31, 2010", "upper_limit"=>"-1", "referee_constraint"=>"anyone"}, "commit"=>"Update", "id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;36;1mBusiness Update (2.0ms)[0m   [0;1mUPDATE "businesses" SET "upper_limit" = -1, "referee_constraint" = 'anyone', "updated_at" = '2009-09-30 22:51:50' WHERE "id" = 2[0m
Redirected to http://localhost:3000/businesses/2
Completed in 26ms (DB: 2) | 302 Found [http://localhost/businesses/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 15:51:50) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 22ms (View: 9, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 16:01:21) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 30ms (View: 16, DB: 1) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 16:01:24) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 14, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 16:01:31) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 27ms (View: 15, DB: 0) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-09-30 16:02:14) [PUT]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "business"=>{"name"=>"Sprint", "referal_program_name"=>"Sprint Referral Rewards Program", "address"=>"", "description"=>"Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.", "city"=>"", "state"=>"", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50", "start_date"=>"July 12, 2009", "expiry_date"=>"October 31, 2009", "upper_limit"=>"12", "referee_constraint"=>"anyone"}, "commit"=>"Update", "id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;36;1mBusiness Update (2.0ms)[0m   [0;1mUPDATE "businesses" SET "start_date" = '2009-07-12', "upper_limit" = 12, "referee_constraint" = 'anyone', "updated_at" = '2009-09-30 23:02:14' WHERE "id" = 6[0m
Redirected to http://localhost:3000/businesses/6
Completed in 29ms (DB: 3) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-09-30 16:02:14) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 24ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses/6]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 16:02:15) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 14, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:02:23) [GET]
Rendering businesses/new
Completed in 31ms (View: 19, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:04:32) [GET]
Rendering businesses/new
Completed in 73ms (View: 60, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:04:49) [GET]
Rendering businesses/new
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 16:04:51) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:04:56) [GET]
Rendering businesses/new
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:13:18) [GET]
Rendering businesses/new

ActionView::TemplateError (undefined method `merge' for :start_date:Symbol) on line #43 of app/views/businesses/new.html.erb:
40:   </p>
41:   <p>
42:     <%= f.label :start_date %><br />
43:     <%= f.calendar_date_select :business,:start_date %>
44:   </p>
45:   <p>
46:     <%= f.label :expiry_date %><br />

    c:/ruby19/lib/ruby/gems/1.9.1/gems/calendar_date_select-1.15/lib/calendar_date_select/form_helpers.rb:221:in `calendar_date_select'
    app/views/businesses/new.html.erb:43:in `block in _run_erb_app47views47businesses47new46html46erb'
    app/views/businesses/new.html.erb:3
    app/controllers/businesses_controller.rb:33:in `block (2 levels) in new'
    app/controllers/businesses_controller.rb:32:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (133.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:13:30) [GET]
Rendering businesses/new
ERROR: compiling _run_erb_app47views47businesses47new46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/businesses/new.html.erb:43: syntax error, unexpected ':', expecting ')'
...alendar_date_select :business :start_date ).to_s); @output_b...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/businesses/new.html.erb:47: syntax error, unexpected ':', expecting ')'
...alendar_date_select :business :expiry_date ).to_s); @output_...
...                               ^
Function body:           def _run_erb_app47views47businesses47new46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>New business</h1>\n\n"

;  form_for(@business) do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n  <p>\n    "

; @output_buffer.concat(( f.label :name ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :name ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :referal_program_name ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :referal_program_name ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :address ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :address ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :description ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_area :description ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :city ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :city ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :state ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :state ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :url ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :url ).to_s); @output_buffer.concat "\n  </p>\n    <p>\n    "


; @output_buffer.concat(( f.label :referee_reward ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :referee_reward ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :referer_reward ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :referer_reward ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :start_date ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.calendar_date_select :business :start_date ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :expiry_date ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.calendar_date_select :business :expiry_date ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :upper_limit ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :upper_limit ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :referee_constraint ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :referee_constraint ).to_s); @output_buffer.concat "\n  </p>    \n  <p>\n    "


; @output_buffer.concat(( f.submit 'Create' ).to_s); @output_buffer.concat "\n  </p>\n"

;  end ; @output_buffer.concat "\n"
; @output_buffer.concat(( link_to 'Back', businesses_path ).to_s); @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:983:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/msysgit/msysgit/git/referme/app/controllers/businesses_controller.rb:33:in `block (2 levels) in new'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:135:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:135:in `block in custom'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:179:in `block in respond'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:173:in `respond'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/mime_responds.rb:107:in `respond_to'
c:/msysgit/msysgit/git/referme/app/controllers/businesses_controller.rb:32:in `new'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1327:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/businesses/new.html.erb:43: syntax error, unexpected ':', expecting ')'
...alendar_date_select :business :start_date ).to_s); @output_b...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/businesses/new.html.erb:47: syntax error, unexpected ':', expecting ')'
...alendar_date_select :business :expiry_date ).to_s); @output_...
...                               ^) on line #43 of app/views/businesses/new.html.erb:
40:   </p>
41:   <p>
42:     <%= f.label :start_date %><br />
43:     <%= f.calendar_date_select :business :start_date %>
44:   </p>
45:   <p>
46:     <%= f.label :expiry_date %><br />

    app/controllers/businesses_controller.rb:33:in `block (2 levels) in new'
    app/controllers/businesses_controller.rb:32:in `new'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (112.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:13:53) [GET]
Rendering businesses/new
Completed in 31ms (View: 19, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 16:20:29) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 16:20:43) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 37ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 16:20:52) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:21:00) [GET]
Rendering businesses/new
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 16:21:18) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 62ms (View: 14, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 16:21:21) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 28ms (View: 16, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 16:21:31) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#index (for 127.0.0.1 at 2009-09-30 16:28:34) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 15, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-09-30 16:28:38) [GET]
Rendering businesses/new
Completed in 31ms (View: 20, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-09-30 16:28:55) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 67ms (View: 55, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing HomeController#index (for 127.0.0.1 at 2009-09-30 16:43:05) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 16:43:07) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 19, DB: 1) | 200 OK [http://localhost/home/search]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 16:48:09) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 19, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 16:48:45) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 16:53:55) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 71ms (View: 60, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 16:54:38) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 19, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 16:56:33) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 19, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:23:07) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 36ms (View: 26, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:28:23) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 63ms (View: 52, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#referal_detail (for 127.0.0.1 at 2009-09-30 17:28:24) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%2%') [0m
Rendering template within layouts/application
Rendering home/referal_detail

ActionView::TemplateError (undefined method `name' for []:Array) on line #5 of app/views/home/referal_detail.html.erb:
2:   <table>
3:   <tr>
4:   <td>
5:   <b><%= @business.name %></b><br/>
6:   <%= @business.referal_program_name %> <br/>
7:   <%= business.description %> <br/><br/>
8:   Referer reward: $<%= business.referer_reward %><br/>

    app/views/home/referal_detail.html.erb:5
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#referal_detail (for 127.0.0.1 at 2009-09-30 17:29:35) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering home/referal_detail

ActionView::TemplateError (undefined local variable or method `business' for #<ActionView::Base:0x393fde0>) on line #7 of app/views/home/referal_detail.html.erb:
4:   <td>
5:   <b><%= @business.name %></b><br/>
6:   <%= @business.referal_program_name %> <br/>
7:   <%= business.description %> <br/><br/>
8:   Referer reward: $<%= business.referer_reward %><br/>
9:   Referee reward: $<%= business.referee_reward %><br/>
10:   Eligible referee: <%= business.referee_constraint %>

    app/views/home/referal_detail.html.erb:7
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (124.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#referal_detail (for 127.0.0.1 at 2009-09-30 17:29:51) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering home/referal_detail
Completed in 28ms (View: 16, DB: 0) | 200 OK [http://localhost/home/referal_detail/2]


Processing HomeController#referal_detail (for 127.0.0.1 at 2009-09-30 17:30:44) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering home/referal_detail
Completed in 27ms (View: 15, DB: 0) | 200 OK [http://localhost/home/referal_detail/2]


Processing HomeController#referal_detail (for 127.0.0.1 at 2009-09-30 17:31:36) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/application
Rendering home/referal_detail
Completed in 29ms (View: 17, DB: 1) | 200 OK [http://localhost/home/referal_detail/2]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:35:32) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 28ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:36:57) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 30ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:37:13) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 28ms (View: 18, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:39:35) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:43:26) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 36ms (View: 25, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:44:00) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (3.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 31ms (View: 19, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:44:50) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 19, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:45:38) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:47:07) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 28ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:47:39) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 30ms (View: 20, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:48:05) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:49:03) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 30ms (View: 20, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:49:21) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 19, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:49:47) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 19, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:50:28) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 34ms (View: 24, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-09-30 17:53:11) [POST]
  Parameters: {"authenticity_token"=>"RDAWy7DttZQ/zL/+zncipF+1sFZhauljeA3MeX9bW+c=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 21ms (View: 11, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 14:07:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 771ms (View: 770, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 14:07:51) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 22ms (View: 11, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 14:15:38) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 28ms (View: 18, DB: 1) | 200 OK [http://localhost/home/search]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 14:30:45) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyadfafd", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyadfafd') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing LoginController#login (for 127.0.0.1 at 2009-10-01 14:30:45) [GET]
Rendering login/login
Completed in 49ms (View: 39, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 14:32:40) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 4, DB: 0) | 200 OK [http://localhost/]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 14:32:41) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

Errno::ENOENT (No such file or directory - c:/msysgit/msysgit/git/referme/app/views/layouts/_refreshparent.rhtml):
  app/controllers/login_controller.rb:16:in `processlogin'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 14:33:50) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyadsf", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyadsf') [0m
Redirected to http://localhost:3000/application/home
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing ApplicationController#home (for 127.0.0.1 at 2009-10-01 14:33:50) [GET]

ActionController::UnknownAction (No action responded to home. Actions: ):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 14:35:21) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 14:35:27) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyadfa", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyadfa') [0m
Redirected to http://localhost:3000/home
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 14:35:27) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 14:36:24) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 13, DB: 0) | 200 OK [http://localhost/home]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 14:36:28) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyadf", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyadf') [0m
Redirected to http://localhost:3000/home
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 14:36:29) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 14:36:52) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 13ms (View: 12, DB: 0) | 200 OK [http://localhost/home]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 14:36:59) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyadf", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyadf') [0m
Redirected to http://localhost:3000/home
Completed in 9ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 14:36:59) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 6, DB: 0) | 200 OK [http://localhost/home]
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateReferals (20090916041044)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to RemoveReferalAndRequestAndPicture (20091001222623)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (3.0ms)[0m   [0mDROP TABLE "referals"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDROP TABLE "requests"[0m
  [4;35;1mSQL (1.0ms)[0m   [0mDROP TABLE "pictures"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091001222623')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to RemoveReferalAndRequestAndPicture (20091001222623)
Migrating to CreateReferals (20091001222911)
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to RemoveReferalAndRequestAndPicture (20091001222623)
Migrating to CreateReferals (20091001222911)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to RemoveReferalAndRequestAndPicture (20091001222623)
Migrating to CreateReferals (20091001222911)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to RemoveReferalAndRequestAndPicture (20091001222623)
Migrating to CreateReferals (20091001222911)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to RemoveReferalAndRequestAndPicture (20091001222623)
Migrating to CreateReferals (20091001222911)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: referals: DROP TABLE "referals"[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (6.0ms)[0m   [0mCREATE TABLE "referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "business_id" integer, "user_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (11.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091001224801')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT * FROM "businesses" [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
/!\ FAILSAFE /!\  2009-10-01 16:17:48 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:18:30 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:18:36 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:18:40 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:18:45 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:19:37 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:20:32 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:20:33 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:21:51 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-01 16:21:52 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/referals_helper.rb to define ReferalsHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:137:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:120:in `block in helper'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:115:in `helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:6:in `<class:ApplicationController>'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 16:22:22) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 30ms (View: 28, DB: 0) | 200 OK [http://localhost/]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 16:22:25) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/home
Completed in 109ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 16:22:25) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/home]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 16:23:18) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/users/profile/8
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:23:19) [GET]
  Parameters: {"id"=>"8"}
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #1 of app/views/users/profile.html.erb:
1: <% @businesses.each do |business| %>
2:     <%=h business.name %><br/>
3:     <%= h business.referal_program_name%><br/>
4: <% end %>

    app/views/users/profile.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (118.0ms)
Rendered rescues/_request_and_response (2.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:23:40) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 30ms (View: 11, DB: 0) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:30:03) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 35ms (View: 15, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:33:44) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (undefined method `referer_award' for #<Business:0x3986880>) on line #12 of app/views/users/profile.html.erb:
9:     <tr>
10:       <td><%=h business.name %></td>
11:       <td><%= h business.referal_program_name%></td>
12:       <td><%= h business.referer_award%></td>
13:       <td><%= h business.expiry_date%></td>
14:     </tr>
15:   <% end %>

    app/views/users/profile.html.erb:12:in `block in _run_erb_app47views47users47profile46html46erb'
    app/views/users/profile.html.erb:8:in `each'
    app/views/users/profile.html.erb:8
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:34:36) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 34ms (View: 17, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:34:51) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 34ms (View: 17, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 16:45:51) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/users/profile/8
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:45:51) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 34ms (View: 17, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:47:11) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 35ms (View: 17, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:47:22) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 35ms (View: 16, DB: 0) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:57:10) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (undefined method `id' for #<Array:0x41a49e0>) on line #23 of app/views/users/profile.html.erb:
20: </table>
21: 
22: <% form_for :referal, :url => { :action => :create } do |form| %>
23:   <%= form.select(:business_id, @businesses.id) %>
24: <% end %>

    app/views/users/profile.html.erb:23:in `block in _run_erb_app47views47users47profile46html46erb'
    app/views/users/profile.html.erb:22
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:58:37) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 36ms (View: 18, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:59:30) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 34ms (View: 17, DB: 0) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 16:59:59) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 35ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:00:10) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 37ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:00:24) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 35ms (View: 18, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:00:36) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 37ms (View: 19, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:01:53) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 39ms (View: 19, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:02:07) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 35ms (View: 18, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:03:49) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 37ms (View: 18, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:04:12) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 36ms (View: 18, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:04:39) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 35ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 17:49:05) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 17:49:07) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 28ms (View: 17, DB: 1) | 200 OK [http://localhost/home/search]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 17:50:12) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/users/profile/8
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 17:50:12) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 37ms (View: 19, DB: 0) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 18:04:01) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
ERROR: compiling _run_erb_app47views47users47profile46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:32: syntax error, unexpected '<'
  <%= form.text_area :comment )....
   ^
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:34: syntax error, unexpected $undefined, expecting ')'
...r.concat "\n</div>\n\n<div id=\"profileform\">\n  \n</div>"
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:40: syntax error, unexpected keyword_ensure, expecting ')'
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:42: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _run_erb_app47views47users47profile46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"businesslist\">\n<table>\n  <tr>\n    <th>Id</th>\n    <th>Business Name</th>\n    <th>Referal Program Name</th>\n    <th>Referer Reward</th>\n    <th>Expiry Date</th>\n    <th>Eligible</th>\n  </tr>\n  "









;  @businesses.each do |business| ; @output_buffer.concat "\n    <tr>\n      <td>"

; @output_buffer.concat((h business.id ).to_s); @output_buffer.concat "</td>\n      <td>"
; @output_buffer.concat((h business.name ).to_s); @output_buffer.concat "</td>\n      <td>"
; @output_buffer.concat(( h business.referal_program_name).to_s); @output_buffer.concat "</td>\n      <td>$"
; @output_buffer.concat(( h business.referer_reward).to_s); @output_buffer.concat "</td>\n      <td>"
; @output_buffer.concat(( h business.expiry_date).to_s); @output_buffer.concat "</td>\n      <td></td>\n    </tr>\n  "


;  end ; @output_buffer.concat "\n</table>\n</div>\n\n<br/>\n\n<div id=\"referalform\">\nNew Referal\n"







;  form_for :referal, :url => { :action => :create, :id => @user.id } do |form| ; @output_buffer.concat "\n  Business Name:\n  "

; @output_buffer.concat(( form.collection_select(:business_id, @businesses, :id, :referal_program_name) ).to_s); @output_buffer.concat "<br/>\n  "
; @output_buffer.concat(( form.hidden_field :user_id>
  <%= form.text_area :comment ).to_s); @output_buffer.concat "<br/>\n  "
; @output_buffer.concat(( submit_tag "Add" ).to_s); @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n</div>\n\n<div id=\"profileform\">\n  \n</div>"




; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:32: syntax error, unexpected '<'
  <%= form.text_area :comment )....
   ^
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:34: syntax error, unexpected $undefined, expecting ')'
...r.concat "\n</div>\n\n<div id=\"profileform\">\n  \n</div>"
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:40: syntax error, unexpected keyword_ensure, expecting ')'
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:42: syntax error, unexpected keyword_end, expecting ')') on line #32 of app/views/users/profile.html.erb:
29:   Business Name:
30:   <%= form.collection_select(:business_id, @businesses, :id, :referal_program_name) %><br/>
31:   <%= form.hidden_field :user_id>
32:   <%= form.text_area :comment %><br/>
33:   <%= submit_tag "Add" %>
34: <% end %>
35: </div>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (122.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 18:23:35) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 37ms (View: 19, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#create (for 127.0.0.1 at 2009-10-01 18:27:02) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"6", "user_id"=>"", "comment"=>""}, "commit"=>"Add", "id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" IS NULL) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" IS NULL) LIMIT 1[0m
Rendering template within layouts/users
Rendering users/new
Completed in 172ms (View: 12, DB: 0) | 200 OK [http://localhost/users/create/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 18:28:04) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 39ms (View: 21, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing ApplicationController#create (for 127.0.0.1 at 2009-10-01 18:28:06) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"6", "user_id"=>"", "comment"=>""}, "commit"=>"Add", "id"=>"8"}

LoadError (Expected c:/msysgit/msysgit/git/referme/app/controllers/referals_controller.rb to define ReferalsController):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (53.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#create (for 127.0.0.1 at 2009-10-01 18:28:42) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"6", "user_id"=>"", "comment"=>""}, "commit"=>"Add", "id"=>"8"}

LoadError (Expected c:/msysgit/msysgit/git/referme/app/controllers/referals_controller.rb to define ReferalsController):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (52.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-01 18:30:19) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"6", "user_id"=>"", "comment"=>""}, "commit"=>"Add", "id"=>"8"}
  [4;35;1mReferal Create (2.0ms)[0m   [0mINSERT INTO "referals" ("business_id", "user_id", "comment", "created_at", "updated_at") VALUES(6, NULL, '', '2009-10-02 01:30:19', '2009-10-02 01:30:19')[0m

ActionView::MissingTemplate (Missing template referals/create.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" [0m


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-01 19:05:25) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"6", "user_id"=>"", "comment"=>""}, "commit"=>"Add", "id"=>"8"}
  [4;36;1mReferal Create (3.0ms)[0m   [0;1mINSERT INTO "referals" ("business_id", "user_id", "comment", "created_at", "updated_at") VALUES(6, NULL, '', '2009-10-02 02:05:25', '2009-10-02 02:05:25')[0m
Redirected to http://localhost:3000/users/profile
Completed in 22ms (DB: 3) | 302 Found [http://localhost/referals/create/8]


Processing UsersController#show (for 127.0.0.1 at 2009-10-01 19:05:25) [GET]
  Parameters: {"id"=>"profile"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=profile):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 19:06:13) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 40ms (View: 23, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 19:07:28) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 42ms (View: 24, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 19:07:42) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 38ms (View: 20, DB: 0) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 19:09:16) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 39ms (View: 20, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 19:09:24) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
Completed in 39ms (View: 21, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 20:40:00) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (undefined method `referals' for #<User:0x45c9620>) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.referals.each do |referal| %>
30:   <%= referal.business.referal_business_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 20:44:10) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (Could not find the association :referals in model User) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_business_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (130.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 20:44:11) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (Could not find the association :referals in model User) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_business_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (87.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 20:44:36) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (Could not find the association :referals in model User) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (86.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 20:45:09) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (Could not find the association :referal in model User) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (132.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (5.0ms)[0m   [0;1mDROP TABLE "referals"[0m
  [4;35;1mSQL (5.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20091001224801'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:01:41) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (Could not find the association :referal in model User) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (87.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (7.0ms)[0m   [0mCREATE TABLE "referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "users_id" integer, "businesses_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091001224801')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:05:48) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (Could not find the association :referal in model User) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (129.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 21:05:54) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/users/profile/8
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:05:54) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (Could not find the association :referal in model User) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (131.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:11:27) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses"  INNER JOIN "referals" ON "businesses".id = "referals".business_id    WHERE (("referals".user_id = 8)) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (106.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:12:34) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (Could not find the association :referal in model User) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (87.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:12:42) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses"  INNER JOIN "referals" ON "businesses".id = "referals".business_id    WHERE (("referals".user_id = 8)) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (154.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:15:16) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses"  INNER JOIN "referals" ON "businesses".id = "referals".business_id    WHERE (("referals".user_id = 8)) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:15:18) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses"  INNER JOIN "referals" ON "businesses".id = "referals".business_id    WHERE (("referals".user_id = 8)) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (107.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:15:19) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses"  INNER JOIN "referals" ON "businesses".id = "referals".business_id    WHERE (("referals".user_id = 8)) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (146.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:15:22) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses"  INNER JOIN "referals" ON "businesses".id = "referals".business_id    WHERE (("referals".user_id = 8)) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (149.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:15:28) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 29ms (View: 26, DB: 0) | 200 OK [http://localhost/]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 21:15:30) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/users/profile/8
Completed in 12ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:15:30) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses"  INNER JOIN "referals" ON "businesses".id = "referals".business_id    WHERE (("referals".user_id = 8)) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (145.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:17:24) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile

ActionView::TemplateError (uninitialized constant User::Businesses) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (100.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:19:19) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT "businesses".* FROM "businesses"  INNER JOIN "referals" ON "businesses".id = "referals".business_id    WHERE (("referals".user_id = 8)) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.businesses.each do |business| %>
30:   <%= business.referal_program_name %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (105.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:21:48) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mReferal Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: referals.user_id: SELECT * FROM "referals" WHERE ("referals".user_id = 8) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT * FROM "referals" WHERE ("referals".user_id = 8) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.referals.each do |business| %>
30:   <%= business.comment %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (151.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:22:34) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: referals.user_id: SELECT * FROM "referals" WHERE ("referals".user_id = 8) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT * FROM "referals" WHERE ("referals".user_id = 8) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.referals.each do |business| %>
30:   <%= business.comment %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:22:35) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mReferal Load (0.0ms)[0m   [0mSQLite3::SQLException: no such column: referals.user_id: SELECT * FROM "referals" WHERE ("referals".user_id = 8) [0m

ActionView::TemplateError (SQLite3::SQLException: no such column: referals.user_id: SELECT * FROM "referals" WHERE ("referals".user_id = 8) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.referals.each do |business| %>
30:   <%= business.comment %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (107.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDROP TABLE "referals"[0m
  [4;35;1mSQL (5.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20091001224801'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:23:36) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: referals: SELECT * FROM "referals" WHERE ("referals".user_id = 8) [0m

ActionView::TemplateError (SQLite3::SQLException: no such table: referals: SELECT * FROM "referals" WHERE ("referals".user_id = 8) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.referals.each do |business| %>
30:   <%= business.comment %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (157.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:23:39) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mReferal Load (0.0ms)[0m   [0mSQLite3::SQLException: no such table: referals: SELECT * FROM "referals" WHERE ("referals".user_id = 8) [0m

ActionView::TemplateError (SQLite3::SQLException: no such table: referals: SELECT * FROM "referals" WHERE ("referals".user_id = 8) ) on line #29 of app/views/users/profile.html.erb:
26: 
27: <div id="referallist">
28:   <p><b>Your Referal Programs</b></p>
29:   <% @user.referals.each do |business| %>
30:   <%= business.comment %>
31:   <% end %>
32: </div>

    app/views/users/profile.html.erb:29
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (225.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TABLE "referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091001224801')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:24:28) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals".user_id = 8) [0m
Completed in 41ms (View: 22, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:24:57) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 53ms (View: 31, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 21:25:01) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"2", "user_id"=>"8", "comment"=>""}, "commit"=>"Add"}

ActionController::RoutingError (No route matches "/referals_controller/create/8" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 21:25:23) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"2", "user_id"=>"8", "comment"=>""}, "commit"=>"Add"}

ActionController::RoutingError (No route matches "/referals_controller/create/8" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 21:25:51) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"2", "user_id"=>"8", "comment"=>""}, "commit"=>"Add"}

ActionController::RoutingError (No route matches "/referals_controller/create/8" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 21:25:56) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"2", "user_id"=>"8", "comment"=>""}, "commit"=>"Add"}

ActionController::RoutingError (No route matches "/referals_controller/create/8" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:26:06) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 84ms (View: 65, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:26:49) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 39ms (View: 19, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-01 21:26:50) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"2", "user_id"=>"8", "comment"=>""}, "commit"=>"Add"}
  [4;36;1mReferal Create (2.0ms)[0m   [0;1mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(8, 2, '', '2009-10-02 04:26:50', '2009-10-02 04:26:50')[0m
Redirected to http://localhost:3000/users/profile/8
Completed in 19ms (DB: 2) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:26:50) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 39ms (View: 20, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-01 21:26:57) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"6", "user_id"=>"8", "comment"=>""}, "commit"=>"Add"}
  [4;36;1mReferal Create (2.0ms)[0m   [0;1mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(8, 6, '', '2009-10-02 04:26:57', '2009-10-02 04:26:57')[0m
Redirected to http://localhost:3000/users/profile/8
Completed in 19ms (DB: 2) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:26:57) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 39ms (View: 19, DB: 3) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:28:00) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 88ms (View: 67, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:28:18) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 47ms (View: 28, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-01 21:29:43) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 27ms (View: 15, DB: 1) | 200 OK [http://localhost/users/]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-01 21:29:46) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 28ms (View: 17, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-10-01 21:29:49) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 17ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-10-01 21:31:04) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 26ms (View: 15, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:31:15) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 21:31:18) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 67ms (View: 19, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 21:33:28) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 49ms (View: 38, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 21:34:08) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 56ms (View: 39, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 21:34:57) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 50ms (View: 38, DB: 4) | 200 OK [http://localhost/home/search]


Processing UsersController#new (for 127.0.0.1 at 2009-10-01 21:35:26) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 57ms (View: 46, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 21:35:33) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 40ms (View: 29, DB: 2) | 200 OK [http://localhost/home/search]


Processing UsersController#new (for 127.0.0.1 at 2009-10-01 21:36:32) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 33ms (View: 9, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-10-01 21:37:06) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "user"=>{"displayname"=>"zhang wei", "email"=>"wesley.adv08@gmail.com", "password"=>"yyyyyy"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'zhang wei') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'wesley.adv08@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password") VALUES('zhang wei', 'wesley.adv08@gmail.com', NULL, NULL, NULL, '2009-10-02 04:37:06', '2009-10-02 04:37:06', 'yyyyyy')[0m

ActionView::MissingTemplate (Missing layout layouts/_closepopup.erb in view path app/views):
  app/controllers/users_controller.rb:47:in `block (2 levels) in create'
  app/controllers/users_controller.rb:45:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-01 21:37:12) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:37:20) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-10-01 21:37:26) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 21:37:34) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"zhang wei", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'zhang wei' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/users/profile/9
Completed in 12ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:37:34) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 9) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 9)) [0m
Completed in 48ms (View: 28, DB: 3) | 200 OK [http://localhost/users/profile/9]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-01 21:37:40) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "referal"=>{"business_id"=>"2", "user_id"=>"9", "comment"=>""}, "commit"=>"Add"}
  [4;35;1mReferal Create (2.0ms)[0m   [0mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(9, 2, '', '2009-10-02 04:37:40', '2009-10-02 04:37:40')[0m
Redirected to http://localhost:3000/users/profile/9
Completed in 20ms (DB: 2) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 21:37:40) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 9) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 9)) [0m
Completed in 40ms (View: 20, DB: 2) | 200 OK [http://localhost/users/profile/9]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:37:44) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 7ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 21:37:46) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 40ms (View: 29, DB: 2) | 200 OK [http://localhost/home/search]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-01 21:39:45) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 49ms (View: 39, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-01 21:39:48) [GET]
Rendering businesses/new
Completed in 33ms (View: 22, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-01 21:39:54) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:39:58) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 21:40:00) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 31, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:42:46) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 15, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:45:39) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 17ms (View: 15, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:47:13) [GET]
Rendering home/index
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:47:16) [GET]
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 21:47:22) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 31, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:48:28) [GET]
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:50:46) [GET]
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:50:46) [GET]
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:51:21) [GET]
Rendering home/index
Completed in 16ms (View: 14, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:52:38) [GET]
Rendering home/index
Completed in 13ms (View: 10, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:52:38) [GET]
Rendering home/index
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:52:53) [GET]
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:52:54) [GET]
Rendering home/index
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:53:39) [GET]
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:54:14) [GET]
Rendering home/index
Completed in 19ms (View: 14, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 21:54:15) [GET]
Rendering home/index
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:13:18) [GET]
Rendering home/index
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:18:49) [GET]
Rendering home/index
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:19:49) [GET]
Rendering home/index
Completed in 5ms (View: 3, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:22:00) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:22:03) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 30, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:22:15) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 41ms (View: 30, DB: 2) | 200 OK [http://localhost/home/search]


Processing UsersController#new (for 127.0.0.1 at 2009-10-01 22:22:45) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 17ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:23:28) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 30, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:25:27) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 81ms (View: 70, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:31:49) [GET]
Rendering template within layouts/application
Rendering home/index
Completed in 6ms (View: 5, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:35:53) [GET]

ArgumentError (Unknown key(s): condition):
  app/controllers/home_controller.rb:10:in `index'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:36:17) [GET]
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 100) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 22ms (View: 13, DB: 0) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:36:33) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 100) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 4, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:36:34) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 100) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:36:34) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 100) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 15ms (View: 5, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:36:34) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 100) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 14ms (View: 5, DB: 1) | 200 OK [http://localhost/]
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSQLite3::SQLException: database schema has changed: SELECT * FROM "businesses" WHERE (referee_reward > 100) LIMIT 4[0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 100) LIMIT 4[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:37:18) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 41ms (View: 30, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:37:29) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index

ActionView::TemplateError (undefined method `referee' for #<Business:0x38ca380>) on line #14 of app/views/home/index.html.erb:
11:     <b>Hot Referals</b>
12:     <% @hotbusinesses.each do |hotbusiness| %>
13:     <%= hotbusiness.referal_program_name %><br/>
14:     $<%= hotbusiness.referee.reward %><br/>
15:     open to: <%= hotbusiness.referee_constraint %><br/>    
16:     <% end %>
17:     </div>

    app/views/home/index.html.erb:14:in `block in _run_erb_app47views47home47index46html46erb'
    app/views/home/index.html.erb:12:in `each'
    app/views/home/index.html.erb:12
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (121.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:38:18) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 21, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:38:58) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 30ms (View: 20, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:39:23) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 32ms (View: 21, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:39:36) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 21, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 22:39:39) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:40:09) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 39ms (View: 28, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:40:23) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 40ms (View: 29, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:42:08) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 91ms (View: 81, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:42:19) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 50ms (View: 39, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:43:04) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 29ms (View: 19, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:43:40) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 30ms (View: 19, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:44:55) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 69ms (View: 58, DB: 2) | 200 OK [http://localhost/home/search]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TABLE "contact_records" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "business_id" integer, "user_id" integer, "name" varchar(255), "email" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091002054735')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 22:56:02) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 26ms (View: 14, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:04:53) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
ERROR: compiling _run_erb_app47views47home47search46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected tIDENTIFIER, expecting keyword_end
;  form_for :contactrecord url => {:controller => :contactr...
                              ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected '=', expecting tASSOC
...r => :contactrecords, :action =:create} do |form| ; @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:22: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47home47search46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  @businesses.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:60%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    "
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat " <br/>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: $"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat " <br/>\n    Referee reward: $"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat " <br/><br/>\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    "
;  form_for :contactrecord url => {:controller => :contactrecords, :action =:create} do |form| ; @output_buffer.concat "\n    "
; @output_buffer.concat(( form.text_field :name ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected tIDENTIFIER, expecting keyword_end
;  form_for :contactrecord url => {:controller => :contactr...
                              ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected '=', expecting tASSOC
...r => :contactrecords, :action =:create} do |form| ; @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:22: syntax error, unexpected keyword_ensure, expecting $end) on line #12 of app/views/home/search.html.erb:
9:     Referer reward: $<%= business.referer_reward %> <br/>
10:     Referee reward: $<%= business.referee_reward %> <br/><br/>
11:     Eligible referee: <%= business.referee_constraint %>
12:     <% form_for :contactrecord url => {:controller => :contactrecords, :action =:create} do |form| %>
13:     <%= form.text_field :name %>
14:     <%= form.text_field :email %>
15:     <% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (82.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:05:08) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
ERROR: compiling _run_erb_app47views47home47search46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected ':', expecting keyword_end
;  form_for :contactrecord :url => {:controller => :conta...
                            ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected '=', expecting tASSOC
...r => :contactrecords, :action =:create} do |form| ; @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:22: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47home47search46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  @businesses.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:60%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    "
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat " <br/>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: $"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat " <br/>\n    Referee reward: $"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat " <br/><br/>\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    "
;  form_for :contactrecord :url => {:controller => :contactrecords, :action =:create} do |form| ; @output_buffer.concat "\n    "
; @output_buffer.concat(( form.text_field :name ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected ':', expecting keyword_end
;  form_for :contactrecord :url => {:controller => :conta...
                            ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected '=', expecting tASSOC
...r => :contactrecords, :action =:create} do |form| ; @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:22: syntax error, unexpected keyword_ensure, expecting $end) on line #12 of app/views/home/search.html.erb:
9:     Referer reward: $<%= business.referer_reward %> <br/>
10:     Referee reward: $<%= business.referee_reward %> <br/><br/>
11:     Eligible referee: <%= business.referee_constraint %>
12:     <% form_for :contactrecord :url => {:controller => :contactrecords, :action =:create} do |form| %>
13:     <%= form.text_field :name %>
14:     <%= form.text_field :email %>
15:     <% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:05:24) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
ERROR: compiling _run_erb_app47views47home47search46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected '=', expecting tASSOC
...r => :contactrecords, :action =:create} do |form| ; @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:22: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47home47search46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  @businesses.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:60%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    "
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat " <br/>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: $"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat " <br/>\n    Referee reward: $"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat " <br/><br/>\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    "
;  form_for :contactrecord, :url => {:controller => :contactrecords, :action =:create} do |form| ; @output_buffer.concat "\n    "
; @output_buffer.concat(( form.text_field :name ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat "\n    "
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:12: syntax error, unexpected '=', expecting tASSOC
...r => :contactrecords, :action =:create} do |form| ; @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:22: syntax error, unexpected keyword_ensure, expecting $end) on line #12 of app/views/home/search.html.erb:
9:     Referer reward: $<%= business.referer_reward %> <br/>
10:     Referee reward: $<%= business.referee_reward %> <br/><br/>
11:     Eligible referee: <%= business.referee_constraint %>
12:     <% form_for :contactrecord, :url => {:controller => :contactrecords, :action =:create} do |form| %>
13:     <%= form.text_field :name %>
14:     <%= form.text_field :email %>
15:     <% end %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:05:49) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 33ms (View: 22, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:06:43) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 32ms (View: 20, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:08:46) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
Completed in 33ms (View: 22, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:12:24) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
ERROR: compiling _run_erb_app47views47home47search46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:24: syntax error, unexpected '<'
        </td>
         ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:25: unknown regexp options - td
unmatched close parenthesis: /td>
        <td><%= submit_tag "show interest").to_s); @output_buffer.concat "</
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:25: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n      </tr>\n    </table>\n ...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:25: unknown regexp options - tabl
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:25: syntax error, unexpected $undefined
...td>\n      </tr>\n    </table>\n    "
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:28: syntax error, unexpected $undefined, expecting ')'
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"
                                 ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:28: syntax error, unexpected '>'
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"
                                           ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:28: unknown regexp options - td
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:28: syntax error, unexpected $undefined
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"
                                                             ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:33: unknown regexp options - tabl
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:33: unterminated string meets end of file
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:33: syntax error, unexpected $end, expecting ')'
Function body:           def _run_erb_app47views47home47search46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  @businesses.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:60%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    "
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat " <br/>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: $"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat " <br/>\n    Referee reward: $"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat " <br/><br/>\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    "
;  form_for :contactrecord, :url => {:controller => :contactrecords, :action => :create} do |form| ; @output_buffer.concat "\n    <table>\n      <tr>\n        <th>your name</th>\n        <th>your email</email>\n      </tr>\n      <tr>\n        <td>"






; @output_buffer.concat(( form.text_field :name ).to_s); @output_buffer.concat "</td>\n        <td>\n          "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat "\n          "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n          "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)]>
        </td>
        <td><%= submit_tag "show interest").to_s); @output_buffer.concat "</td>\n      </tr>\n    </table>\n    "


;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:24: syntax error, unexpected '<'
        </td>
         ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:25: unknown regexp options - td
unmatched close parenthesis: /td>
        <td><%= submit_tag "show interest").to_s); @output_buffer.concat "</
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:25: syntax error, unexpected $undefined
...; @output_buffer.concat "</td>\n      </tr>\n    </table>\n ...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:25: unknown regexp options - tabl
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:25: syntax error, unexpected $undefined
...td>\n      </tr>\n    </table>\n    "
...                               ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:28: syntax error, unexpected $undefined, expecting ')'
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"
                                 ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:28: syntax error, unexpected '>'
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"
                                           ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:28: unknown regexp options - td
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:28: syntax error, unexpected $undefined
;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"
                                                             ^
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:33: unknown regexp options - tabl
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:33: unterminated string meets end of file
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:33: syntax error, unexpected $end, expecting ')') on line #24 of app/views/home/search.html.erb:
21:           <%= form.text_field :email %>
22:           <%= form.hidden_field :business_id, :value => business.id%>
23:           <%= form.hidden_field :user_id, :value => business.users[rand(business.users.length)]>
24:         </td>
25:         <td><%= submit_tag "show interest"%></td>
26:       </tr>
27:     </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (124.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:13:02) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 49ms (View: 38, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:15:25) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 52ms (View: 39, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:15:37) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 49ms (View: 36, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:16:03) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 90ms (View: 79, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-01 23:16:30) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/home/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:16:34) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 43ms (View: 27, DB: 3) | 200 OK [http://localhost/home/search]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-01 23:19:07) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/users/profile/8
Completed in 11ms (DB: 0) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-01 23:19:07) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 41ms (View: 19, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:19:16) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 78ms (View: 66, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:19:51) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 55ms (View: 37, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-01 23:20:02) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/home/search]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:51:53) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:52:37) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:52:41) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:56:07) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:56:27) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:57:04) [GET]

ActionController::RoutingError (No route matches "/contactrecords/" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:58:52) [GET]

ActionController::RoutingError (No route matches "/contactrecords/" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:58:56) [GET]

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-01 23:59:01) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:00:18) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:00:25) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:01:18) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:06:20) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:06:26) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:06:50) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:07:01) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x3b380e0>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contactrecords/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:07:23) [GET]

ActionController::RoutingError (No route matches "/contactrecords/a" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:07:26) [GET]

ActionController::RoutingError (No route matches "/contactrecords/aaa" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 00:11:50) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 00:11:52) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 48ms (View: 36, DB: 2) | 200 OK [http://localhost/home/search]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 00:11:57) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x31c3840>"}, "commit"=>"refer me"}

ActionController::RoutingError (No route matches "/contact_records/create" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 00:15:56) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 29ms (View: 19, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 00:15:58) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (3.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 88ms (View: 65, DB: 4) | 200 OK [http://localhost/home/search]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-02 00:16:03) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x40518e0>"}, "commit"=>"refer me"}
  [4;36;1mContactRecord Create (2.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "created_at", "updated_at") VALUES(2, 0, 'Ji', 'aaa@aaa,com', '2009-10-02 07:16:03', '2009-10-02 07:16:03')[0m

NoMethodError (undefined method `recipient' for #<Mailer:0x3b542c0>):
  app/models/mailer.rb:4:in `mail'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (67.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-02 00:18:01) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"aaa@aaa,com", "business_id"=>"2", "user_id"=>"#<User:0x40518e0>"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "created_at", "updated_at") VALUES(2, 0, 'Ji', 'aaa@aaa,com', '2009-10-02 07:18:01', '2009-10-02 07:18:01')[0m

ActionView::TemplateError (undefined local variable or method `contactrecord' for #<ActionView::Base:0x213b360>) on line #1 of app/views/mailer/mail.html.erb:
1: <span>My name is</span> <%= contactrecord.name %><br/>
2: <span>My email is</span> <%= contactrecord.email %><br/>
3: <span>Can you refer me at </span> <%= contactrecord.business.name %><br/><span>?</span>

    app/views/mailer/mail.html.erb:1
    app/controllers/home_controller.rb:16:in `record_contact'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (76.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 00:18:36) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 49ms (View: 37, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-02 00:19:07) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', '2009-10-02 07:19:08', '2009-10-02 07:19:08')[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Fri, 2 Oct 2009 00:19:08 -0700
From: noreply@referme.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

SocketError (getaddrinfo: The storage control blocks were destroyed. ):
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `initialize'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `open'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `block in do_start'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:52:in `timeout'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:82:in `timeout'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `do_start'
  tlsmail (0.0.1) lib/net/smtp.rb:440:in `start'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (113.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mContactRecord Load (1.0ms)[0m   [0;1mSELECT * FROM "contact_records" [0m


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-02 00:21:57) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', '2009-10-02 07:21:57', '2009-10-02 07:21:57')[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Fri, 2 Oct 2009 00:21:57 -0700
From: noreply@referme.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

SocketError (getaddrinfo: The storage control blocks were destroyed. ):
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `initialize'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `open'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `block in do_start'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:52:in `timeout'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:82:in `timeout'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `do_start'
  tlsmail (0.0.1) lib/net/smtp.rb:440:in `start'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 00:22:08) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/home/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 00:22:10) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 51ms (View: 39, DB: 4) | 200 OK [http://localhost/home/search]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-02 00:22:11) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"9"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "created_at", "updated_at") VALUES(2, 9, '', '', '2009-10-02 07:22:11', '2009-10-02 07:22:11')[0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to 

Date: Fri, 2 Oct 2009 00:22:11 -0700
From: noreply@referme.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> <br/>
<span>My email is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

SocketError (getaddrinfo: The storage control blocks were destroyed. ):
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `initialize'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `open'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `block in do_start'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:52:in `timeout'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:82:in `timeout'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `do_start'
  tlsmail (0.0.1) lib/net/smtp.rb:440:in `start'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (72.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-02 00:23:41) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"9"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "created_at", "updated_at") VALUES(2, 9, '', '', '2009-10-02 07:23:41', '2009-10-02 07:23:41')[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to 

Date: Fri, 2 Oct 2009 00:23:41 -0700
From: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> <br/>
<span>My email is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

SocketError (getaddrinfo: The storage control blocks were destroyed. ):
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `initialize'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `open'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `block in do_start'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:52:in `timeout'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:82:in `timeout'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `do_start'
  tlsmail (0.0.1) lib/net/smtp.rb:440:in `start'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-02 12:41:53) [GET]
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "created_at", "updated_at") VALUES(NULL, NULL, NULL, NULL, '2009-10-02 19:41:53', '2009-10-02 19:41:53')[0m

ActionView::TemplateError (You have a nil object when you didn't expect it!
The error occurred while evaluating nil.name) on line #3 of app/views/mailer/mail.html.erb:
1: <span>My name is</span> <%= @contactrecord.name %><br/>
2: <span>My email is</span> <%= @contactrecord.email %><br/>
3: <span>Can you refer me at </span> <%= @contactrecord.business.name %><br/><span>?</span>

    app/views/mailer/mail.html.erb:3
    app/controllers/home_controller.rb:16:in `record_contact'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (223.0ms)
Rendered rescues/_request_and_response (27.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (585.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mContactRecord Load (19.0ms)[0m   [0;1mSELECT * FROM "contact_records" [0m
  [4;35;1mContactRecord Load (1.0ms)[0m   [0mSELECT * FROM "contact_records" WHERE ("contact_records"."business_id" = 2) LIMIT 1[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 12:44:44) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 12:44:45) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 45ms (View: 32, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-02 12:44:53) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mContactRecord Create (2.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', '2009-10-02 19:44:53', '2009-10-02 19:44:53')[0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Fri, 2 Oct 2009 12:44:53 -0700
From: yanji84@gmail.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

SocketError (getaddrinfo: The storage control blocks were destroyed. ):
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `initialize'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `open'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `block in do_start'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:52:in `timeout'
  c:/ruby19/lib/ruby/1.9.1/timeout.rb:82:in `timeout'
  tlsmail (0.0.1) lib/net/smtp.rb:454:in `do_start'
  tlsmail (0.0.1) lib/net/smtp.rb:440:in `start'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 12:47:43) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 21, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 12:48:09) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 31, DB: 1) | 200 OK [http://localhost/home/search]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 12:48:35) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/users/profile/8
Completed in 12ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-02 12:48:35) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 40ms (View: 19, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#new (for 127.0.0.1 at 2009-10-02 12:52:49) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-10-02 12:53:08) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 19ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 12:53:44) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 34ms (View: 22, DB: 2) | 200 OK [http://localhost/]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "users" ADD "role" varchar(255)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091002195422')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT * FROM "users" [0m
  [4;36;1mUser Load (65.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing UsersController#index (for 127.0.0.1 at 2009-10-02 13:04:15) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 75ms (View: 64, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-02 13:04:35) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#new (for 127.0.0.1 at 2009-10-02 13:04:41) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-02 13:07:48) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit

ActionView::TemplateError (undefined local variable or method `admin' for #<ActionView::Base:0x9193240>) on line #20 of app/views/users/edit.html.erb:
17:   </p>
18:   <p>
19:     <%= f.label :role %><br />
20:     <%= f.collection_select :role, [admin, referer] %>
21:   </p>  
22:   <p>
23:     <%= f.submit 'Update' %>

    app/views/users/edit.html.erb:20:in `block in _run_erb_app47views47users47edit46html46erb'
    app/views/users/edit.html.erb:3
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (84.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2009-10-02 13:08:03) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit

ActionView::TemplateError (wrong number of arguments (2 for 4)) on line #20 of app/views/users/edit.html.erb:
17:   </p>
18:   <p>
19:     <%= f.label :role %><br />
20:     <%= f.collection_select :role, ["admin", "referer"] %>
21:   </p>  
22:   <p>
23:     <%= f.submit 'Update' %>

    app/views/users/edit.html.erb:20:in `block in _run_erb_app47views47users47edit46html46erb'
    app/views/users/edit.html.erb:3
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (83.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2009-10-02 13:08:17) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
ERROR: compiling _run_erb_app47views47users47edit46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/users/edit.html.erb:20: syntax error, unexpected '[', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...( f.collection_select :role, :["admin", "referer"] ).to_s); ...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/edit.html.erb:20: syntax error, unexpected ',', expecting ')'
...ection_select :role, :["admin", "referer"] ).to_s); @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/edit.html.erb:20: syntax error, unexpected ']', expecting ')'
...ct :role, :["admin", "referer"] ).to_s); @output_buffer.conc...
...                               ^
Function body:           def _run_erb_app47views47users47edit46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<h1>Editing user</h1>\n\n"

;  form_for(@user) do |f| ; @output_buffer.concat "\n  "
; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n\n  <p>\n    "


; @output_buffer.concat(( f.label :displayname ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :displayname ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :email ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :email ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :password ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.text_field :password ).to_s); @output_buffer.concat "\n  </p>\n  <p>\n    "


; @output_buffer.concat(( f.label :role ).to_s); @output_buffer.concat "<br />\n    "
; @output_buffer.concat(( f.collection_select :role, :["admin", "referer"] ).to_s); @output_buffer.concat "\n  </p>  \n  <p>\n    "


; @output_buffer.concat(( f.submit 'Update' ).to_s); @output_buffer.concat "\n  </p>\n"

;  end ; @output_buffer.concat "\n\n"

; @output_buffer.concat(( link_to 'Show', @user ).to_s); @output_buffer.concat " |\n"
; @output_buffer.concat(( link_to 'Back', users_path ).to_s); @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/users/edit.html.erb:20: syntax error, unexpected '[', expecting tSTRING_CONTENT or tSTRING_DBEG or tSTRING_DVAR or tSTRING_END
...( f.collection_select :role, :["admin", "referer"] ).to_s); ...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/edit.html.erb:20: syntax error, unexpected ',', expecting ')'
...ection_select :role, :["admin", "referer"] ).to_s); @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/edit.html.erb:20: syntax error, unexpected ']', expecting ')'
...ct :role, :["admin", "referer"] ).to_s); @output_buffer.conc...
...                               ^) on line #20 of app/views/users/edit.html.erb:
17:   </p>
18:   <p>
19:     <%= f.label :role %><br />
20:     <%= f.collection_select :role, :["admin", "referer"] %>
21:   </p>  
22:   <p>
23:     <%= f.submit 'Update' %>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (84.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#edit (for 127.0.0.1 at 2009-10-02 13:10:46) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 28ms (View: 16, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-10-02 13:10:52) [PUT]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"yyyyyy", "role"=>"Admin"}, "commit"=>"Update", "id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'Ji' AND "users".id <> 8) LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji84@gmail.com' AND "users".id <> 8) LIMIT 1[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE "users" SET "role" = 'Admin', "updated_at" = '2009-10-02 20:10:52' WHERE "id" = 8[0m
Redirected to http://localhost:3000/users/8
Completed in 85ms (DB: 1) | 302 Found [http://localhost/users/8]


Processing UsersController#show (for 127.0.0.1 at 2009-10-02 13:10:52) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/users/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-02 13:10:56) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 66ms (View: 55, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-02 13:11:02) [GET]
  Parameters: {"id"=>"9"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 9) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 149ms (View: 8, DB: 1) | 200 OK [http://localhost/users/9/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-10-02 13:11:05) [PUT]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "user"=>{"displayname"=>"zhang wei", "email"=>"wesley.adv08@gmail.com", "password"=>"yyyyyy", "role"=>"Referer"}, "commit"=>"Update", "id"=>"9"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 9) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'zhang wei' AND "users".id <> 9) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'wesley.adv08@gmail.com' AND "users".id <> 9) LIMIT 1[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "role" = 'Referer', "updated_at" = '2009-10-02 20:11:05' WHERE "id" = 9[0m
Redirected to http://localhost:3000/users/9
Completed in 23ms (DB: 2) | 302 Found [http://localhost/users/9]


Processing UsersController#show (for 127.0.0.1 at 2009-10-02 13:11:05) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 9) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 16ms (View: 6, DB: 1) | 200 OK [http://localhost/users/9]


Processing UsersController#index (for 127.0.0.1 at 2009-10-02 13:11:07) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:11:43) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 23ms (View: 13, DB: 2) | 200 OK [http://localhost/]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 13:14:18) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/businesses
Completed in 18ms (DB: 2) | 302 Found [http://localhost/login/processlogin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-02 13:14:18) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 87ms (View: 77, DB: 1) | 200 OK [http://localhost/businesses]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 13:14:51) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"zhang wei", "password"=>"", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'zhang wei' and password = '') [0m
Redirected to http://localhost:3000/home
Completed in 16ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:14:51) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 23ms (View: 13, DB: 1) | 200 OK [http://localhost/home]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 13:14:56) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Zhang Wei", "password"=>"", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Zhang Wei' and password = '') [0m
Redirected to http://localhost:3000/home
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:14:56) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 23ms (View: 13, DB: 2) | 200 OK [http://localhost/home]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 13:15:05) [GET]

ActionController::RoutingError (No route matches "/usrs" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2009-10-02 13:15:08) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 13:15:19) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"zhang wei", "password"=>"", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'zhang wei' and password = '') [0m
Redirected to http://localhost:3000/home
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:15:19) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 33ms (View: 23, DB: 1) | 200 OK [http://localhost/home]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 13:15:25) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Jiadf", "password"=>"", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Jiadf' and password = '') [0m
Redirected to http://localhost:3000/home
Completed in 11ms (DB: 0) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:15:25) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 23ms (View: 12, DB: 1) | 200 OK [http://localhost/home]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 13:15:40) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"zhang wei", "password"=>"", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'zhang wei' and password = '') [0m
Redirected to http://localhost:3000/home
Completed in 31ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:15:40) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 46ms (View: 12, DB: 1) | 200 OK [http://localhost/home]


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-02 13:15:51) [DELETE]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "id"=>"9"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 9) [0m
  [4;36;1mUser Destroy (1.0ms)[0m   [0;1mDELETE FROM "users" WHERE "id" = 9[0m
Redirected to http://localhost:3000/users
Completed in 25ms (DB: 2) | 302 Found [http://localhost/users/9]


Processing UsersController#index (for 127.0.0.1 at 2009-10-02 13:15:51) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 83ms (View: 72, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-10-02 13:15:53) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#new (for 127.0.0.1 at 2009-10-02 13:16:42) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 26ms (View: 14, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-10-02 13:17:16) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "user"=>{"displayname"=>"wesley", "email"=>"wesley.adv08@gmail.com", "password"=>"wesley", "role"=>"Referer"}, "commit"=>"Create"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'wesley') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'wesley.adv08@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (1.0ms)[0m   [0;1mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password", "role") VALUES('wesley', 'wesley.adv08@gmail.com', NULL, NULL, NULL, '2009-10-02 20:17:16', '2009-10-02 20:17:16', 'wesley', 'Referer')[0m

ActionView::MissingTemplate (Missing layout layouts/_closepopup.erb in view path app/views):
  app/controllers/users_controller.rb:47:in `block (2 levels) in create'
  app/controllers/users_controller.rb:45:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing UsersController#show (for 127.0.0.1 at 2009-10-02 13:18:14) [GET]
  Parameters: {"id"=>"index"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=index):
  app/controllers/users_controller.rb:16:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (65.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2009-10-02 13:18:33) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:18:44) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 23ms (View: 13, DB: 1) | 200 OK [http://localhost/]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 13:18:50) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"wesley", "password"=>"wesley", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'wesley' and password = 'wesley') [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 10) [0m
Redirected to http://localhost:3000/users/profile/10
Completed in 16ms (DB: 2) | 302 Found [http://localhost/login/processlogin]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-02 13:18:50) [GET]
  Parameters: {"id"=>"10"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 10) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 10)) [0m
Completed in 38ms (View: 18, DB: 3) | 200 OK [http://localhost/users/profile/10]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:19:06) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 23ms (View: 13, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:19:08) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 31, DB: 1) | 200 OK [http://localhost/home/search]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 13:19:23) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/businesses
Completed in 15ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-02 13:19:23) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 14, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-02 13:19:26) [GET]
Rendering businesses/new
Completed in 59ms (View: 48, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-02 13:19:30) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 14, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-02 13:19:36) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 37ms (View: 25, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-02 13:19:39) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:20:00) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 26ms (View: 15, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:20:49) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 40ms (View: 28, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:39:16) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 43ms (View: 30, DB: 4) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:43:49) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 45ms (View: 35, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:44:13) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 30ms (View: 20, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:44:16) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 30, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:45:02) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 20, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:45:05) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 43ms (View: 32, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:46:10) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 73ms (View: 62, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:46:12) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 31, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:46:42) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 91ms (View: 79, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:46:46) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 41ms (View: 29, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:48:34) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 20, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:48:38) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 29, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:49:50) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 26ms (View: 14, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:51:09) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 21, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:51:11) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 41ms (View: 30, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:51:59) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:52:00) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 50ms (View: 38, DB: 4) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:55:22) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 33ms (View: 23, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:55:31) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 29, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:56:41) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 31ms (View: 21, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:57:03) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 52ms (View: 40, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:57:10) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 43ms (View: 30, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:57:32) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 33ms (View: 23, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 13:57:37) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Completed in 42ms (View: 30, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 13:58:51) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
Completed in 24ms (View: 12, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:07:36) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m

ActionView::TemplateError (Missing template home/_business_list.erb in view path app/views) on line #1 of app/views/home/index.html.erb:
1: <%= render :partial => "business_list", :object => Business.all %>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:09:39) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m

ActionView::TemplateError (Missing template business/_business_list.erb in view path app/views) on line #1 of app/views/home/index.html.erb:
1: <%= render :partial => "business/business_list", :object => Business.all %>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (34.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:10:04) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m

ActionView::TemplateError (Missing template home/_businessusiness_list.erb in view path app/views) on line #1 of app/views/home/index.html.erb:
1: <%= render :partial => "business\business_list", :object => Business.all %>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:11:42) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 136ms (View: 52, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 14:11:48) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search

ActionView::TemplateError (Missing template home/_business_list, :object => @businesses.erb in view path app/views) on line #1 of app/views/home/search.html.erb:
1: <%= render :partial => "business_list, :object => @businesses"%>

    app/views/home/search.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (86.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 14:12:09) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search

ActionView::TemplateError (Missing template shared/_business_list,.erb in view path app/views) on line #1 of app/views/home/search.html.erb:
1: <%= render :partial => "shared/business_list, :object => @businesses"%>

    app/views/home/search.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (90.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:12:46) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 45ms (View: 33, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 14:12:47) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (26.0ms)
Completed in 48ms (View: 36, DB: 4) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 14:12:51) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (24.0ms)
Completed in 39ms (View: 29, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 14:12:58) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 44ms (View: 32, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 14:15:06) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 51ms (View: 41, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 14:15:21) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (97.0ms)
Completed in 112ms (View: 100, DB: 4) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:22:34) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 44ms (View: 32, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:22:37) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (26.0ms)
Completed in 43ms (View: 30, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:22:37) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 44ms (View: 31, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:30:29) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 54ms (View: 42, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:31:34) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 66ms (View: 52, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:32:02) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 54ms (View: 41, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:32:28) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 57ms (View: 44, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:32:39) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 53ms (View: 39, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:32:46) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 53ms (View: 39, DB: 5) | 200 OK [http://localhost/]


Processing LoginController#processlogin (for 127.0.0.1 at 2009-10-02 14:33:04) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/businesses
Completed in 17ms (DB: 1) | 302 Found [http://localhost/login/processlogin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-02 14:33:04) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 14, DB: 2) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:34:56) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 53ms (View: 42, DB: 3) | 200 OK [http://localhost/]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddPhoneToReferal (20091002213545)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mALTER TABLE "Referals" ADD "phone" varchar(255)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091002213545')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:37:38) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:40:26) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (26.0ms)
Completed in 43ms (View: 31, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 14:46:46) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 53ms (View: 39, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:02:08) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 54ms (View: 42, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 15:02:08) [GET]

ActionController::RoutingError (No route matches "/images/logo_jpg" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:02:10) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 48ms (View: 35, DB: 4) | 200 OK [http://localhost/home]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 15:02:11) [GET]

ActionController::RoutingError (No route matches "/images/logo_jpg" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:02:12) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (26.0ms)
Completed in 44ms (View: 31, DB: 5) | 200 OK [http://localhost/home]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 15:02:12) [GET]

ActionController::RoutingError (No route matches "/images/logo_jpg" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:02:32) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 56ms (View: 42, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:03:21) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 53ms (View: 40, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:03:45) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
ERROR: compiling _run_erb_app47views47layouts47application46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:21: syntax error, unexpected tINTEGER, expecting ')'
...image_tag("logo.jpg", :border=0), :action => 'index' ).to_s)...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:21: syntax error, unexpected ')', expecting keyword_end
...=0), :action => 'index' ).to_s); @output_buffer.concat "\n\t...
...                               ^
Function body:           def _run_erb_app47views47layouts47application46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<html>\n\t<head>\n\t\t<style type=\"text/css\">\n\t\t.center\n\t\t{\n\t\t\tmargin:auto;\n\t\t\twidth:1000\n\t\t}\n\t\t</style>\n\t\t"








; @output_buffer.concat(( greybox_includes ).to_s); @output_buffer.concat "\n\t\t <script type=\"text/javascript\">\n\t\tfunction refresh() {\n\t\t\tjavascript:location.reload(true)\n\t\t}\n\t\t</script>\n\t</head>\n\t<body>\n\t\t<table class=\"center\">\n\t\t<tr>\n\t\t\t<td>\n\t\t\t"










; @output_buffer.concat(( link_to image_tag("logo.jpg", :border=0), :action => 'index' ).to_s); @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<div id=\"searhpanel\">\n\t\t\t\t"





;  form_tag '/home/search' do ; @output_buffer.concat "\n\t\t\t\t<label>Business Name (<span>e.g. The Onyx Apartment</span>)</label>\n\t\t\t\t"

; @output_buffer.concat(( text_field_tag :businessname, params[:businessname], :id => 'businessname_field' ).to_s); @output_buffer.concat "\n\t\t\t\t"
; @output_buffer.concat(( submit_tag "Search" ).to_s); @output_buffer.concat "\n\t\t\t\t<hr/>\n\t\t\t\t</div>\n\t\t\t\t"


;  end ; @output_buffer.concat "\n\t\t\t</td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td style=\"width:70%\">\n\t\t\t<div id = \"content\" style=\"float:left\">\n\t\t\t\t"





; @output_buffer.concat(( yield ).to_s); @output_buffer.concat "\n\t\t\t</div>\n\t\t\t</td>\n\t\t\t<td style=\"text-align:left;vertical-align:top;width:30%\" >\n\t\t\t<div id=\"login\">\n\t\t\t\tAdmin/Referer login\n\t\t\t       "





;  form_tag :controller => :login, :action => :processlogin do 
@output_buffer.concat "\t\t\t       <table>\n\t\t\t       <tr>\n\t\t\t       <td>\n\t\t\t       <label>user name</label>\n\t\t\t       "



; @output_buffer.concat(( text_field_tag :username, params[:username], :id => 'username_field', :size => 30 ).to_s); @output_buffer.concat "\n\t\t\t       </td>\n\t\t\t       </tr>\n\t\t\t       <tr>\n\t\t\t       <td>\n\t\t\t       <label>password</label>\n\t\t\t       "





; @output_buffer.concat(( password_field_tag :password, params[:password], :id => 'password_field', :size => 30 ).to_s); @output_buffer.concat "\n\t\t\t       </td>\n\t\t\t       </tr>\n\t\t\t       <tr>\n\t\t\t       <td>\n\t\t\t       "




; @output_buffer.concat(( submit_tag "login" ).to_s); @output_buffer.concat "\n\t\t\t       </td>\n\t\t\t       </tr>\n\t\t\t       </table>\n\t\t\t       "



;  end 
@output_buffer.concat "\t\t\t       ";  if flash[:error] ; @output_buffer.concat "\n\t\t\t       <div>"
; @output_buffer.concat(( flash[:error] ).to_s); @output_buffer.concat "</div>\n\t\t\t       "
;  end ; @output_buffer.concat "    \n\t\t\t<div>    \n\t\t\t</td>\n\t\t</tr>\n\t\t</table>\n\t</body>\n</html>"





; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:347:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:21: syntax error, unexpected tINTEGER, expecting ')'
...image_tag("logo.jpg", :border=0), :action => 'index' ).to_s)...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/layouts/application.html.erb:21: syntax error, unexpected ')', expecting keyword_end
...=0), :action => 'index' ).to_s); @output_buffer.concat "\n\t...
...                               ^) on line #21 of app/views/layouts/application.html.erb:
18: 		<table class="center">
19: 		<tr>
20: 			<td>
21: 			<%= link_to image_tag("logo.jpg", :border=0), :action => 'index' %>
22: 			</td>
23: 		</tr>
24: 		<tr>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (155.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-02 15:03:52) [GET]

ActionController::RoutingError (No route matches "/images/logo_jpg" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:04:00) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 54ms (View: 41, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:05:51) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (68.0ms)
Completed in 95ms (View: 82, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:06:25) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 54ms (View: 42, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:06:42) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 56ms (View: 40, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 15:06:58) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (24.0ms)
Completed in 40ms (View: 30, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:07:00) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 45ms (View: 32, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:10:48) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:11:16) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (1839.0ms)
Completed in 1857ms (View: 1846, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:13:32) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (140.0ms)
Completed in 166ms (View: 155, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:14:23) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 54ms (View: 40, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:14:46) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 52ms (View: 39, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:14:53) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 45ms (View: 32, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:15:57) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 52ms (View: 40, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:16:09) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (33.0ms)
Completed in 52ms (View: 39, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:17:06) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 53ms (View: 42, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:17:56) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 53ms (View: 42, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:18:46) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:19:08) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 48ms (View: 35, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 15:19:33) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 113ms (View: 32, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 15:31:48) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 50ms (View: 39, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:31:50) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 45ms (View: 32, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:33:06) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 51ms (View: 39, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:34:07) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 52ms (View: 40, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:34:36) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 53ms (View: 42, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:35:01) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 54ms (View: 41, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:35:50) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (35.0ms)
Completed in 56ms (View: 46, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:35:51) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 43ms (View: 33, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:36:09) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:36:31) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 55ms (View: 41, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:36:38) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (34.0ms)
Completed in 58ms (View: 45, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:36:39) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 44ms (View: 31, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:36:54) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (33.0ms)
Completed in 56ms (View: 44, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:37:12) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (33.0ms)
Completed in 56ms (View: 44, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:37:38) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (35.0ms)
Completed in 63ms (View: 47, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:37:55) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:38:08) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:50:37) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #26 of app/views/shared/_business_list.html.erb:
23:         <td>
24:           <%= form.text_field :email %> <span id="status"></span>
25:           <%= form.hidden_field :business_id, :value => business.id%>
26:           <%= user_id_field(business) %>
27:         </td>
28:         <td><%= submit_tag "refer me"%></td>
29:       </tr>

    app/helpers/application_helper.rb:5:in `user_id_field'
    app/views/shared/_business_list.html.erb:26:in `block (2 levels) in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (108.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:50:56) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined method `users' for :business:Symbol) on line #26 of app/views/shared/_business_list.html.erb:
23:         <td>
24:           <%= form.text_field :email %> <span id="status"></span>
25:           <%= form.hidden_field :business_id, :value => business.id%>
26:           <%= user_id_field :business %>
27:         </td>
28:         <td><%= submit_tag "refer me"%></td>
29:       </tr>

    app/helpers/application_helper.rb:4:in `user_id_field'
    app/views/shared/_business_list.html.erb:26:in `block (2 levels) in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (107.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:51:05) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #26 of app/views/shared/_business_list.html.erb:
23:         <td>
24:           <%= form.text_field :email %> <span id="status"></span>
25:           <%= form.hidden_field :business_id, :value => business.id%>
26:           <%= user_id_field business %>
27:         </td>
28:         <td><%= submit_tag "refer me"%></td>
29:       </tr>

    app/helpers/application_helper.rb:5:in `user_id_field'
    app/views/shared/_business_list.html.erb:26:in `block (2 levels) in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:51:21) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined method `users' for #<Hash:0x3b17440>) on line #26 of app/views/shared/_business_list.html.erb:
23:         <td>
24:           <%= form.text_field :email %> <span id="status"></span>
25:           <%= form.hidden_field :business_id, :value => business.id%>
26:           <%= user_id_field :business => business %>
27:         </td>
28:         <td><%= submit_tag "refer me"%></td>
29:       </tr>

    app/helpers/application_helper.rb:4:in `user_id_field'
    app/views/shared/_business_list.html.erb:26:in `block (2 levels) in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (187.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 15:53:33) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m

ActionView::TemplateError (wrong number of arguments (0 for 1)) on line #26 of app/views/shared/_business_list.html.erb:
23:         <td>
24:           <%= form.text_field :email %> <span id="status"></span>
25:           <%= form.hidden_field :business_id, :value => business.id%>
26:           <%= user_id_field(business) %>
27:         </td>
28:         <td><%= submit_tag "refer me"%></td>
29:       </tr>

    app/helpers/application_helper.rb:5:in `user_id_field'
    app/views/shared/_business_list.html.erb:26:in `block (2 levels) in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (105.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 16:03:30) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 54ms (View: 43, DB: 2) | 200 OK [http://localhost/home]
/!\ FAILSAFE /!\  2009-10-02 16:04:43 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/application_helper.rb to define ApplicationHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:198:in `default_helper_module!'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:212:in `inherited_with_helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-02 16:05:12 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/application_helper.rb to define ApplicationHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:198:in `default_helper_module!'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:212:in `inherited_with_helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
/!\ FAILSAFE /!\  2009-10-02 16:05:20 -0800
  Status: 500 Internal Server Error
  Expected c:/msysgit/msysgit/git/referme/app/helpers/application_helper.rb to define ApplicationHelper
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:426:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `const_get'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:372:in `block in constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/inflector.rb:371:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/string/inflections.rb:162:in `constantize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:198:in `default_helper_module!'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/helpers.rb:212:in `inherited_with_helper'
    c:/msysgit/msysgit/git/referme/app/controllers/application_controller.rb:5:in `<top (required)>'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:380:in `block in load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:521:in `new_constants_in'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:379:in `load_file'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:259:in `require_or_load'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:425:in `load_missing_constant'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:80:in `const_missing_with_dependencies'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/dependencies.rb:92:in `const_missing'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:90:in `rescue in dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:97:in `dispatch'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
    c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 16:06:05) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (80.0ms)
Completed in 431ms (View: 112, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-02 16:08:18) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 55ms (View: 42, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-02 16:08:20) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 50ms (View: 38, DB: 4) | 200 OK [http://localhost/home/search]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-03 14:02:43) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}

ActiveRecord::UnknownAttributeError (unknown attribute: phone):
  app/controllers/home_controller.rb:14:in `new'
  app/controllers/home_controller.rb:14:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (107.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (8.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddPhoneToReferal (20091002213545)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TEMPORARY TABLE "altered_Referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "phone" varchar(255)) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("Referals")[0m
  [4;35;1mSQL (3.0ms)[0m   [0mDROP TABLE "Referals"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCREATE TABLE "Referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("altered_Referals")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDROP TABLE "altered_Referals"[0m
  [4;35;1mSQL (5.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20091002213545'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("Referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (5.0ms)[0m   [0mALTER TABLE "Referals" ADD "phone" varchar(255)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091002213545')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("Referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("contact_records")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("Referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("contact_records")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDROP TABLE "referals"[0m
  [4;35;1mSQL (4.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20091001224801'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (5.0ms)[0m   [0mCREATE TABLE "referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091001224801')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (2.0ms)[0m   [0mCREATE TEMPORARY TABLE "altered_Referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("Referals")[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "Referals"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCREATE TABLE "Referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("altered_Referals")[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mDROP TABLE "altered_Referals"[0m
  [4;35;1mSQL (4.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20091002213545'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("Referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (5.0ms)[0m   [0mALTER TABLE "Referals" ADD "phone" varchar(255)[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091002213545')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("Referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("contact_records")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (1.0ms)[0m   [0mCREATE TEMPORARY TABLE "altered_Referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime, "phone" varchar(255)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mPRAGMA index_list("Referals")[0m
  [4;35;1mSQL (2.0ms)[0m   [0mDROP TABLE "Referals"[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mCREATE TABLE "Referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("altered_Referals")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mDROP TABLE "altered_Referals"[0m
  [4;35;1mSQL (4.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20091002213545'[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("Referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("Referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("contact_records")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (6.0ms)[0m   [0;1mDROP TABLE "referals"[0m
  [4;35;1mSQL (5.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20091001224801'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (6.0ms)[0m   [0mCREATE TABLE "referals" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "business_id" integer, "comment" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091001224801')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mDROP TABLE "contact_records"[0m
  [4;35;1mSQL (4.0ms)[0m   [0mDELETE FROM schema_migrations WHERE version = '20091002054735'[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("referals")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (6.0ms)[0m   [0mCREATE TABLE "contact_records" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "business_id" integer, "user_id" integer, "name" varchar(255), "email" varchar(255), "phone" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (4.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091002054735')[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 14:18:50) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 45ms (View: 32, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-03 14:18:58) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>""}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, NULL, 'Ji', 'greatjimcom@hotmail.com', '', '2009-10-03 21:18:58', '2009-10-03 21:18:58')[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Sat, 3 Oct 2009 14:18:58 -0700
From: yanji84@gmail.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
  [4;35;1mContactRecord Load (0.0ms)[0m   [0mSELECT * FROM "contact_records" [0m


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-03 14:35:19) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>""}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, NULL, 'Ji', 'greatjimcom@hotmail.com', '', '2009-10-03 21:35:19', '2009-10-03 21:35:19')[0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Sat, 3 Oct 2009 14:35:19 -0700
From: yanji84@gmail.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Rendering home/record_contact
Completed in 2430ms (View: 7, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-03 14:36:38) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>""}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, NULL, 'Ji', 'greatjimcom@hotmail.com', '', '2009-10-03 21:36:38', '2009-10-03 21:36:38')[0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Sat, 3 Oct 2009 14:36:38 -0700
From: yanji84@gmail.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Rendering home/record_contact
Completed in 2859ms (View: 2, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-03 14:38:27) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>""}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, NULL, 'Ji', 'greatjimcom@hotmail.com', '', '2009-10-03 21:38:27', '2009-10-03 21:38:27')[0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Sat, 3 Oct 2009 14:38:27 -0700
From: yanji84@gmail.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Rendering home/record_contact
Completed in 1831ms (View: 9, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-03 14:50:18) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>""}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, NULL, 'Ji', 'greatjimcom@hotmail.com', '', '2009-10-03 21:50:18', '2009-10-03 21:50:18')[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Sat, 3 Oct 2009 14:50:18 -0700
From: yanji84@gmail.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Completed in 2113ms (View: 1, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 15:15:59) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'contact_form'} do ...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    <div id=\"contact_form\">\n      "

;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact
                         :update => 'contact_form'} do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'contact_form'} do ...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end) on line #16 of app/views/shared/_business_list.html.erb:
13:     <div id="contact_form">
14:       <% form_remote_for :contactrecord,
15:                          :url => {:controller => :home, :action => :record_contact
16:                          :update => 'contact_form'} do |form| %>
17:       <table>
18:         <tr>
19:           <th style="text-align:left">name</th>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (100.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#search (for 127.0.0.1 at 2009-10-03 15:19:44) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'contact_form'} do ...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    <div id=\"contact_form\">\n      "

;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact
                         :update => 'contact_form'} do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/search.html.erb:1:in `_run_erb_app47views47home47search46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'contact_form'} do ...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end) on line #16 of app/views/shared/_business_list.html.erb:
13:     <div id="contact_form">
14:       <% form_remote_for :contactrecord,
15:                          :url => {:controller => :home, :action => :record_contact
16:                          :update => 'contact_form'} do |form| %>
17:       <table>
18:         <tr>
19:           <th style="text-align:left">name</th>

    app/views/home/search.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (101.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 15:34:07) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'contact_form'} do ...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    <div id=\"contact_form\">\n      "

;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact
                         :update => 'contact_form'} do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'contact_form'} do ...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end) on line #16 of app/views/shared/_business_list.html.erb:
13:     <div id="contact_form">
14:       <% form_remote_for :contactrecord,
15:                          :url => {:controller => :home, :action => :record_contact
16:                          :update => 'contact_form'} do |form| %>
17:       <table>
18:         <tr>
19:           <th style="text-align:left">name</th>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (99.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 17:12:48) [GET]
  [4;36;1mBusiness Load (210.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (15.0ms)[0m   [0mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'contact_form'} do ...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    <div id=\"contact_form\">\n      "

;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact
                         :update => 'contact_form'} do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'contact_form'} do ...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end) on line #16 of app/views/shared/_business_list.html.erb:
13:     <div id="contact_form">
14:       <% form_remote_for :contactrecord,
15:                          :url => {:controller => :home, :action => :record_contact
16:                          :update => 'contact_form'} do |form| %>
17:       <table>
18:         <tr>
19:           <th style="text-align:left">name</th>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (1765.0ms)
Rendered rescues/_request_and_response (185.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 17:14:23) [GET]
  [4;36;1mBusiness Load (56.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (32.0ms)[0m   [0mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    <div id=\"contact_form\">\n      "

;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact},
                         :update => 'contact_form'} do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...     :update => 'contact_form'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end) on line #16 of app/views/shared/_business_list.html.erb:
13:     <div id="contact_form">
14:       <% form_remote_for :contactrecord,
15:                          :url => {:controller => :home, :action => :record_contact},
16:                          :update => 'contact_form'} do |form| %>
17:       <table>
18:         <tr>
19:           <th style="text-align:left">name</th>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (6094.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 17:14:44) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (14.0ms)[0m   [0mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
                         } do |form| ; @output_buffer.c...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    <div id=\"contact_form\">\n      "

;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact}
                         } do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
                         } do |form| ; @output_buffer.c...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end) on line #16 of app/views/shared/_business_list.html.erb:
13:     <div id="contact_form">
14:       <% form_remote_for :contactrecord,
15:                          :url => {:controller => :home, :action => :record_contact}
16:                          } do |form| %>
17:       <table>
18:         <tr>
19:           <th style="text-align:left">name</th>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (893.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 17:14:58) [GET]
  [4;36;1mBusiness Load (22.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (23.0ms)[0m   [0mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected keyword_do_block, expecting keyword_end
                          do |form| ; @output_buffer.conc...
                            ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    <div id=\"contact_form\">\n      "

;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact}
                          do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected keyword_do_block, expecting keyword_end
                          do |form| ; @output_buffer.conc...
                            ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end) on line #16 of app/views/shared/_business_list.html.erb:
13:     <div id="contact_form">
14:       <% form_remote_for :contactrecord,
15:                          :url => {:controller => :home, :action => :record_contact}
16:                           do |form| %>
17:       <table>
18:         <tr>
19:           <th style="text-align:left">name</th>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (4325.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 17:16:15) [GET]
  [4;36;1mBusiness Load (3.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'email_from'} do |f...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...       :update => 'email_from'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat " <br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    <div id=\"email_from\">\n      "

;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact
                         :update => 'email_from'} do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected tSYMBEG, expecting '}'
                         :update => 'email_from'} do |f...
                          ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:16: syntax error, unexpected '}', expecting keyword_end
...       :update => 'email_from'} do |form| ; @output_buffer.c...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:47: syntax error, unexpected keyword_ensure, expecting $end) on line #16 of app/views/shared/_business_list.html.erb:
13:     <div id="email_from">
14:       <% form_remote_for :contactrecord,
15:                          :url => {:controller => :home, :action => :record_contact
16:                          :update => 'email_from'} do |form| %>
17:       <table>
18:         <tr>
19:           <th style="text-align:left">name</th>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (238.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-03 17:16:40) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (531.0ms)
Completed in 616ms (View: 590, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-03 17:17:04) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "businessname"=>"bank", "commit"=>"Search"}
  [4;36;1mBusiness Load (19.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (75.0ms)
Completed in 147ms (View: 104, DB: 19) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 11:23:48) [GET]
  [4;36;1mBusiness Load (133.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (9.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (17.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (3430.0ms)
Completed in 4883ms (View: 4079, DB: 159) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 11:24:04) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 1888ms (View: 1790, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 11:43:44) [GET]
  [4;35;1mUser Load (9.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 90ms (View: 47, DB: 9) | 200 OK [http://localhost/users]


Processing UsersController#destroy (for 127.0.0.1 at 2009-10-04 11:43:49) [DELETE]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "id"=>"10"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 10) [0m
  [4;35;1mUser Destroy (23.0ms)[0m   [0mDELETE FROM "users" WHERE "id" = 10[0m
Redirected to http://localhost:3000/users
Completed in 208ms (DB: 24) | 302 Found [http://localhost/users/10]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 11:43:49) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 164ms (View: 138, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-04 11:43:52) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 406ms (View: 289, DB: 1) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#update (for 127.0.0.1 at 2009-10-04 11:44:02) [PUT]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "user"=>{"displayname"=>"Ji", "email"=>"yanji84@gmail.com", "password"=>"123456", "role"=>"Admin"}, "commit"=>"Update", "id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'Ji' AND "users".id <> 8) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'yanji84@gmail.com' AND "users".id <> 8) LIMIT 1[0m
  [4;35;1mUser Update (1.0ms)[0m   [0mUPDATE "users" SET "password" = '123456', "updated_at" = '2009-10-04 18:44:09' WHERE "id" = 8[0m
Redirected to http://localhost:3000/users/8
Completed in 7054ms (DB: 2) | 302 Found [http://localhost/users/8]


Processing UsersController#show (for 127.0.0.1 at 2009-10-04 11:44:09) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 24ms (View: 12, DB: 0) | 200 OK [http://localhost/users/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 11:44:11) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 24ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 11:45:11) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-04 11:45:18) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 11:45:20) [GET]
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-04 11:45:30) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 11:45:34) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 11:46:28) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (26.0ms)
Completed in 74ms (View: 59, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 12:10:36) [GET]
  [4;35;1mBusiness Load (40.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 129ms (View: 78, DB: 42) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:10:39) [GET]
  [4;35;1mUser Load (15.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 102ms (View: 19, DB: 15) | 200 OK [http://localhost/users]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 12:10:52) [GET]
  [4;36;1mBusiness Load (39.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 251ms (View: 202, DB: 39) | 200 OK [http://localhost/businesses]
  [4;36;1mSQL (0.0ms)[0m   [0;1mSQLite3::SQLException: no such table: sessions: DELETE FROM sessions[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 12:15:47) [GET]
  [4;35;1mBusiness Load (16.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (15.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (62.0ms)
Completed in 122ms (View: 67, DB: 31) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:15:55) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 12:16:18) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (24.0ms)
Completed in 41ms (View: 28, DB: 3) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:16:21) [GET]

NoMethodError (undefined method `aaa' for #<UsersController:0x787f3c0>):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (102.0ms)
Rendered rescues/_request_and_response (22.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:23:00) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 208ms (View: 30, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:23:38) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 17ms (View: 7, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:31:41) [GET]
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:32:35) [GET]
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:32:36) [GET]
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 2ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:32:54) [GET]
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:32:55) [GET]
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:34:29) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:34:29) [GET]
Rendering template within layouts/application
Rendering login/login
ERROR: compiling _run_erb_app47views47login47login46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/login/login.html.erb:4: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
...password_field_tag, 'password').to_s); @output_buffer.concat...
...                               ^
Function body:           def _run_erb_app47views47login47login46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"loginpanel\">\n"
;  form_tag('/process_login') do 
@output_buffer.concat "  username:"; @output_buffer.concat(( text_field_tag 'username' ).to_s); @output_buffer.concat "<br/>\n  password:"
; @output_buffer.concat(( password_field_tag, 'password').to_s); @output_buffer.concat "<br/>\n  "
; @output_buffer.concat(( submit_tag 'login' ).to_s); @output_buffer.concat "\n  "
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat "\n"
;  end 
@output_buffer.concat "</div>"; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/login/login.html.erb:4: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
...password_field_tag, 'password').to_s); @output_buffer.concat...
...                               ^) on line #4 of app/views/login/login.html.erb:
1: <div id="loginpanel">
2: <% form_tag('/process_login') do -%>
3:   username:<%= text_field_tag 'username' %><br/>
4:   password:<%= password_field_tag, 'password'%><br/>
5:   <%= submit_tag 'login' %>
6:   <%= flash[:notice] %>
7: <% end -%>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (117.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:35:05) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:35:05) [GET]
Rendering template within layouts/application
Rendering login/login
ERROR: compiling _run_erb_app47views47login47login46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/login/login.html.erb:4: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
...assword_field_tag, 'password' ).to_s); @output_buffer.concat...
...                               ^
Function body:           def _run_erb_app47views47login47login46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"loginpanel\">\n"
;  form_tag('/process_login') do 
@output_buffer.concat "  username:"; @output_buffer.concat(( text_field_tag 'username' ).to_s); @output_buffer.concat "<br/>\n  password:"
; @output_buffer.concat(( password_field_tag, 'password' ).to_s); @output_buffer.concat "<br/>\n  "
; @output_buffer.concat(( submit_tag 'login' ).to_s); @output_buffer.concat "\n  "
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat "\n"
;  end 
@output_buffer.concat "</div>"; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/login/login.html.erb:4: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
...assword_field_tag, 'password' ).to_s); @output_buffer.concat...
...                               ^) on line #4 of app/views/login/login.html.erb:
1: <div id="loginpanel">
2: <% form_tag('/process_login') do -%>
3:   username:<%= text_field_tag 'username' %><br/>
4:   password:<%= password_field_tag, 'password' %><br/>
5:   <%= submit_tag 'login' %>
6:   <%= flash[:notice] %>
7: <% end -%>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:35:47) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:35:47) [GET]
Rendering template within layouts/application
Rendering login/login
ERROR: compiling _run_erb_app47views47login47login46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/login/login.html.erb:4: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
...assword_field_tag, "password" ).to_s); @output_buffer.concat...
...                               ^
Function body:           def _run_erb_app47views47login47login46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"loginpanel\">\n"
;  form_tag('/process_login') do 
@output_buffer.concat "  username:"; @output_buffer.concat(( text_field_tag "username" ).to_s); @output_buffer.concat "<br/>\n  password:"
; @output_buffer.concat(( password_field_tag, "password" ).to_s); @output_buffer.concat "<br/>\n  "
; @output_buffer.concat(( submit_tag 'login' ).to_s); @output_buffer.concat "\n  "
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat "\n"
;  end 
@output_buffer.concat "</div>"; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/login/login.html.erb:4: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
...assword_field_tag, "password" ).to_s); @output_buffer.concat...
...                               ^) on line #4 of app/views/login/login.html.erb:
1: <div id="loginpanel">
2: <% form_tag('/process_login') do -%>
3:   username:<%= text_field_tag "username" %><br/>
4:   password:<%= password_field_tag, "password" %><br/>
5:   <%= submit_tag 'login' %>
6:   <%= flash[:notice] %>
7: <% end -%>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (117.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:35:48) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:35:48) [GET]
Rendering template within layouts/application
Rendering login/login
ERROR: compiling _run_erb_app47views47login47login46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/login/login.html.erb:4: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
...assword_field_tag, "password" ).to_s); @output_buffer.concat...
...                               ^
Function body:           def _run_erb_app47views47login47login46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"loginpanel\">\n"
;  form_tag('/process_login') do 
@output_buffer.concat "  username:"; @output_buffer.concat(( text_field_tag "username" ).to_s); @output_buffer.concat "<br/>\n  password:"
; @output_buffer.concat(( password_field_tag, "password" ).to_s); @output_buffer.concat "<br/>\n  "
; @output_buffer.concat(( submit_tag 'login' ).to_s); @output_buffer.concat "\n  "
; @output_buffer.concat(( flash[:notice] ).to_s); @output_buffer.concat "\n"
;  end 
@output_buffer.concat "</div>"; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/login/login.html.erb:4: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
...assword_field_tag, "password" ).to_s); @output_buffer.concat...
...                               ^) on line #4 of app/views/login/login.html.erb:
1: <div id="loginpanel">
2: <% form_tag('/process_login') do -%>
3:   username:<%= text_field_tag "username" %><br/>
4:   password:<%= password_field_tag, "password" %><br/>
5:   <%= submit_tag 'login' %>
6:   <%= flash[:notice] %>
7: <% end -%>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:35:57) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:35:57) [GET]
Rendering template within layouts/application
Rendering login/login
Completed in 15ms (View: 13, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:37:51) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:37:51) [GET]
Rendering login/login
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:39:24) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:39:24) [GET]
Rendering login/login
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:39:43) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:39:43) [GET]
Rendering login/login
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:40:29) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:40:29) [GET]
Rendering login/login
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:40:51) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:40:51) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:41:01) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:41:01) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:41:10) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:41:10) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:41:21) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:41:22) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:41:38) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:41:38) [GET]
Rendering login/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:41:39) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:41:40) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:41:46) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:41:46) [GET]
Rendering login/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:42:22) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:42:23) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:42:24) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:42:24) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:42:56) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:42:56) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:43:41) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:43:41) [GET]
Rendering login/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:43:43) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:43:43) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:43:44) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:43:44) [GET]
Rendering login/login
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:44:11) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:44:11) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:44:11) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:44:11) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 12:45:02) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:45:03) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 12:45:16) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/businesses]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:45:16) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-04 12:45:25) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyfsdf", "commit"=>"login"}

ActionController::RoutingError (No route matches "/process_login" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-04 12:45:47) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyasf", "commit"=>"login"}

ActionController::RoutingError (No route matches "/process_login" with {:method=>:post}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:45:58) [GET]
Rendering login/login
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 12:45:59) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

ActionView::MissingTemplate (Missing template login/process_login.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 12:47:54) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m

ActionView::MissingTemplate (Missing template login/process_login.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 12:48:00) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyddd", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyddd') [0m

ActionView::MissingTemplate (Missing template login/process_login.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 12:48:23) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyysdf", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyysdf') [0m

ActionView::MissingTemplate (Missing template login/process_login.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 12:49:09) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/process_login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 12:49:46) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyaa", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 14ms (DB: 0) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:49:46) [GET]
Rendering login/login
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 12:50:42) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyaaa", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyaaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:50:42) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 12:51:04) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyyaaa", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyyaaa') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 0) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 12:51:04) [GET]
Rendering login/login
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:09:07) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:09:07) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:09:15) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m

NameError (undefined local variable or method `user' for #<LoginController:0x449f660>):
  app/controllers/login_controller.rb:10:in `process_login'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:09:51) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 11ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:09:51) [GET]
Rendering login/login
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:09:54) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/users/admin
Completed in 143ms (DB: 2) | 302 Found [http://localhost/login/process_login]


Processing UsersController#show (for 127.0.0.1 at 2009-10-04 15:09:55) [GET]
  Parameters: {"id"=>"admin"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=admin):
  app/controllers/users_controller.rb:17:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (99.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:14:40) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 0) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:14:40) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:14:44) [POST]
  Parameters: {"authenticity_token"=>"bAjn/HnpGm0QRoSUhJs01KLeqEjt+J1uQ+LaQstIUj8=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 15ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 15:14:44) [GET]
Rendering template within layouts/application
Rendering login/admin
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 15:16:28) [GET]
Rendering login/admin
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-04 15:16:29) [GET]
Redirected to http://localhost:3000/home
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 15:16:30) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 67ms (View: 54, DB: 3) | 200 OK [http://localhost/home]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:16:48) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:16:49) [GET]
Rendering login/login
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:16:50) [POST]
  Parameters: {"authenticity_token"=>"bqR5uq8Nhe6dmS7imYMRzeb5z1PAPTKnDkPCmXOwuV4=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:16:50) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:16:54) [POST]
  Parameters: {"authenticity_token"=>"bqR5uq8Nhe6dmS7imYMRzeb5z1PAPTKnDkPCmXOwuV4=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 15ms (DB: 0) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 15:16:54) [GET]
Rendering login/admin
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/admin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 15:16:58) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 50ms (View: 39, DB: 2) | 200 OK [http://localhost/businesses]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:17:05) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 32ms (View: 21, DB: 1) | 200 OK [http://localhost/users]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-04 15:17:08) [GET]
Redirected to http://localhost:3000/login/login
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:17:08) [GET]
Rendering login/login
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:17:13) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:17:13) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 15:17:19) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/businesses]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:17:19) [GET]
Rendering login/login
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:18:07) [GET]
Rendering login/login
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:18:08) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:18:09) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:18:22) [GET]
Rendering login/login
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:18:34) [GET]
Rendering login/login
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:18:35) [GET]
Rendering login/login
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:20:38) [GET]
Rendering login/login
Completed in 10ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:20:45) [GET]
Rendering login/login
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:20:54) [GET]
Rendering login/login
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:21:05) [GET]
Rendering login/login
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:21:27) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:21:28) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 15:21:37) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (25.0ms)
Completed in 40ms (View: 29, DB: 2) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-04 15:21:39) [GET]

ActionController::RoutingError (No route matches "/uses" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:21:44) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:21:44) [GET]
Rendering login/login
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:21:52) [POST]
  Parameters: {"authenticity_token"=>"t6TkjhwdFBkRd5S5q9+7t6GLukba0IiXyKszSCmqqQg=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 0) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:21:52) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:21:56) [POST]
  Parameters: {"authenticity_token"=>"t6TkjhwdFBkRd5S5q9+7t6GLukba0IiXyKszSCmqqQg=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 31ms (DB: 2) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 15:21:56) [GET]
Rendering login/admin
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-04 15:21:59) [GET]
Redirected to http://localhost:3000/login/login
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:21:59) [GET]
Rendering login/login
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:22:00) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:22:00) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:22:04) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 15ms (DB: 2) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 15:22:04) [GET]
Rendering login/admin
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/admin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 15:22:05) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 22ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:22:14) [GET]
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 2) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-10-04 15:22:17) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 24ms (View: 13, DB: 0) | 200 OK [http://localhost/users/new]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 15:22:50) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (25.0ms)
Completed in 42ms (View: 30, DB: 4) | 200 OK [http://localhost/home]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:22:56) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:22:56) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:23:09) [POST]
  Parameters: {"authenticity_token"=>"DmyqOrIB2giiGHkNILhqtF9n862SlZed082gTggSB9w=", "username"=>"ji", "password"=>"123456", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'ji' and password = '123456') [0m
Redirected to http://localhost:3000/login/login
Completed in 16ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:23:09) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:23:16) [POST]
  Parameters: {"authenticity_token"=>"DmyqOrIB2giiGHkNILhqtF9n862SlZed082gTggSB9w=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 16ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 15:23:16) [GET]
Rendering login/admin
Completed in 41ms (View: 1, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-04 15:23:17) [GET]
Redirected to http://localhost:3000/login/login
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:23:18) [GET]
Rendering login/login
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 15:23:24) [POST]
  Parameters: {"authenticity_token"=>"IVkVWkWp5DyRwmNQXhl7nxhhY1Q12bPDfwAMAR28Ilg=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 15ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 15:23:24) [GET]
Rendering login/admin
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/admin]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:23:26) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-10-04 15:23:28) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:23:30) [GET]
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 7, DB: 2) | 200 OK [http://localhost/users]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-04 15:23:33) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 63ms (View: 52, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#show (for 127.0.0.1 at 2009-10-04 15:23:39) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 23ms (View: 12, DB: 1) | 200 OK [http://localhost/users/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:23:41) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#show (for 127.0.0.1 at 2009-10-04 15:23:43) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/show
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/users/8]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-04 15:23:44) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 20ms (View: 8, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:23:44) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 6, DB: 1) | 200 OK [http://localhost/users]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 15:23:45) [GET]
Rendering login/admin
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 15:23:49) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#new (for 127.0.0.1 at 2009-10-04 15:24:07) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 74ms (View: 9, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-04 15:24:44) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#edit (for 127.0.0.1 at 2009-10-04 15:25:01) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Rendering template within layouts/users
Rendering users/edit
Completed in 18ms (View: 7, DB: 0) | 200 OK [http://localhost/users/8/edit]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:25:06) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 15:43:19) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (24.0ms)
Completed in 41ms (View: 28, DB: 3) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:45:26) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:46:04) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #27 of app/views/users/index.html.erb:
24: <br />
25: 
26: <%= link_to 'New user', new_user_path %>
27: <%= link_to 'Referals', :action => 'profile', :id => @user.id %>

    app/views/users/index.html.erb:27
    app/controllers/users_controller.rb:8:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (85.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:46:54) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #17 of app/views/users/index.html.erb:
14:     <td><%=h user.email %></td>
15:     <td><%=h user.password %></td>
16:     <td><%=h user.role %></td>
17:     <td><%= link_to 'Referals', :action => 'profile', :id => @user.id %></td>
18:     <td><%= link_to 'Edit', edit_user_path(user) %></td>
19:     <td><%= link_to 'Destroy', user, :confirm => 'Are you sure?', :method => :delete %></td>
20:   </tr>

    app/views/users/index.html.erb:17:in `block in _run_erb_app47views47users47index46html46erb'
    app/views/users/index.html.erb:11:in `each'
    app/views/users/index.html.erb:11
    app/controllers/users_controller.rb:8:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (134.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:46:55) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #17 of app/views/users/index.html.erb:
14:     <td><%=h user.email %></td>
15:     <td><%=h user.password %></td>
16:     <td><%=h user.role %></td>
17:     <td><%= link_to 'Referals', :action => 'profile', :id => @user.id %></td>
18:     <td><%= link_to 'Edit', edit_user_path(user) %></td>
19:     <td><%= link_to 'Destroy', user, :confirm => 'Are you sure?', :method => :delete %></td>
20:   </tr>

    app/views/users/index.html.erb:17:in `block in _run_erb_app47views47users47index46html46erb'
    app/views/users/index.html.erb:11:in `each'
    app/views/users/index.html.erb:11
    app/controllers/users_controller.rb:8:in `index'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (87.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:47:18) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 26ms (View: 14, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:47:22) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 83ms (View: 25, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:47:35) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 36ms (View: 16, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-04 15:47:40) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "referal"=>{"business_id"=>"2", "user_id"=>"8", "comment"=>""}, "commit"=>"Add"}
  [4;35;1mReferal Create (1.0ms)[0m   [0mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(8, 2, '', '2009-10-04 22:47:40', '2009-10-04 22:47:40')[0m
Redirected to http://localhost:3000/users/profile/8
Completed in 19ms (DB: 1) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:47:40) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 38ms (View: 18, DB: 3) | 200 OK [http://localhost/users/profile/8]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-04 15:47:43) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "referal"=>{"business_id"=>"6", "user_id"=>"8", "comment"=>""}, "commit"=>"Add"}
  [4;35;1mReferal Create (1.0ms)[0m   [0mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(8, 6, '', '2009-10-04 22:47:43', '2009-10-04 22:47:43')[0m
Redirected to http://localhost:3000/users/profile/8
Completed in 18ms (DB: 1) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:47:43) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 40ms (View: 18, DB: 3) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:50:14) [GET]
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 0) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:50:15) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m

ActionView::TemplateError (undefined local variable or method `action' for #<ActionView::Base:0x4212040>) on line #46 of app/views/users/profile.html.erb:
43: <% end %>
44: </div>
45: 
46: <%= link_to 'back', :controller => 'users', action => 'index' %>
47: </div>

    app/views/users/profile.html.erb:46
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (76.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:50:32) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 46ms (View: 27, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:50:36) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:50:49) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 45ms (View: 26, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:50:56) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-10-04 15:51:02) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 16ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#create (for 127.0.0.1 at 2009-10-04 15:51:51) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "user"=>{"displayname"=>"zhangwei", "email"=>"wesley.adv08@gmail.com", "password"=>"wesley", "role"=>"Referer"}, "commit"=>"Create"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'zhangwei') LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'wesley.adv08@gmail.com') LIMIT 1[0m
  [4;35;1mUser Create (1.0ms)[0m   [0mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password", "role") VALUES('zhangwei', 'wesley.adv08@gmail.com', NULL, NULL, NULL, '2009-10-04 22:51:52', '2009-10-04 22:51:52', 'wesley', 'Referer')[0m
Rendering users/create
Completed in 30ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:52:00) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 20ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:52:38) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 37ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-04 15:52:45) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "referal"=>{"business_id"=>"2", "user_id"=>"11", "comment"=>""}, "commit"=>"Add"}
  [4;36;1mReferal Create (1.0ms)[0m   [0;1mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(11, 2, '', '2009-10-04 22:52:45', '2009-10-04 22:52:45')[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 20ms (DB: 1) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:52:45) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 15:52:50) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:53:20) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 17, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:53:38) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 83ms (View: 63, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:55:06) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 46ms (View: 26, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:55:56) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 45ms (View: 25, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:56:23) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 46ms (View: 27, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:56:49) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 45ms (View: 26, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:57:33) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 45ms (View: 24, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 15:59:57) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 45ms (View: 26, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:00:02) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:00:04) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 40ms (View: 19, DB: 0) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:00:10) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:02:12) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 45ms (View: 25, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:02:15) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 36ms (View: 17, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:02:28) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 37ms (View: 17, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:02:49) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 47ms (View: 25, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:03:02) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 46ms (View: 27, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:03:03) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:03:05) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:03:08) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:03:09) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 40ms (View: 20, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:03:12) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:03:14) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 75ms (View: 55, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:03:16) [GET]
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 2) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:05:42) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 47ms (View: 26, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:05:57) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:05:58) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:05:59) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 46ms (View: 26, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:06:01) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:06:03) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 37ms (View: 17, DB: 3) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:06:06) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:06:07) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 37ms (View: 17, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:06:11) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:06:12) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 37ms (View: 17, DB: 3) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:06:13) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:06:23) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 44ms (View: 24, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:06:25) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:06:26) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:06:27) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:06:42) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 81ms (View: 62, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:06:44) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 21ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:06:45) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 18, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:06:46) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:07:31) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 37ms (View: 17, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-04 16:07:36) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "referal"=>{"business_id"=>"6", "user_id"=>"11"}, "commit"=>"Add"}
  [4;36;1mReferal Create (2.0ms)[0m   [0;1mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(11, 6, NULL, '2009-10-04 23:07:36', '2009-10-04 23:07:36')[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 23ms (DB: 2) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:07:36) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 79ms (View: 57, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:07:38) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:07:40) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 17, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:07:46) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:07:47) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 38ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:07:49) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:08:19) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 77ms (View: 56, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:08:45) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 47ms (View: 25, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:09:30) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:09:33) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 39ms (View: 17, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:09:46) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:10:12) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 45ms (View: 25, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:10:15) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 37ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:10:50) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 46ms (View: 26, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:11:00) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 17ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:11:01) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 17, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:11:04) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 38ms (View: 17, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:11:33) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 47ms (View: 27, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:12:54) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 26ms (View: 16, DB: 1) | 200 OK [http://localhost/users]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 16:13:24) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 33ms (View: 22, DB: 2) | 200 OK [http://localhost/businesses]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:13:54) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 47ms (View: 25, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:15:09) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 84ms (View: 65, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:15:11) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:15:12) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 40ms (View: 20, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:15:14) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#new (for 127.0.0.1 at 2009-10-04 16:15:15) [GET]
Rendering template within layouts/users
Rendering users/new
Completed in 18ms (View: 6, DB: 0) | 200 OK [http://localhost/users/new]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:15:24) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 37ms (View: 17, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:17:35) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 19ms (View: 9, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:17:42) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 47ms (View: 26, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:23:23) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
ERROR: compiling _run_erb_app47views47users47profile46html46erb RAISED c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:17: syntax error, unexpected ':', expecting ')'
...fer.concat(( link_to 'remove' :controller => 'referals', :ac...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:17: syntax error, unexpected ',', expecting ')'
...ove' :controller => 'referals', :action => 'remove', :id => ...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:17: syntax error, unexpected ',', expecting ')'
...referals', :action => 'remove', :id => referal_id ).to_s); @...
...                               ^
Function body:           def _run_erb_app47views47users47profile46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"referallist\">\n  <h3>Your referal list</h3>\n  <table border=\"1px\" >\n    <tr>\n      <th>Business Name</th>\n      <th>Referal Program Name</th>\n      <th>Referer Reward</th>\n      <th>Expiry Date</th>\n    </tr>\n    "








;  @user.businesses.each do |business| ; @output_buffer.concat "\n    <tr>\n      <td>"

; @output_buffer.concat((h business.name ).to_s); @output_buffer.concat "</td>\n      <td>"
; @output_buffer.concat(( h business.referal_program_name).to_s); @output_buffer.concat "</td>\n      <td>$"
; @output_buffer.concat(( h business.referer_reward).to_s); @output_buffer.concat "</td>\n      <td>"
; @output_buffer.concat(( h business.expiry_date).to_s); @output_buffer.concat "</td>\n      "
;  referal_id = Referal.find_by_business_id_and_user_id(business.id, @user.id) ; @output_buffer.concat "\n      <td>"
; @output_buffer.concat(( link_to 'remove' :controller => 'referals', :action => 'remove', :id => referal_id ).to_s); @output_buffer.concat "</td>\n    </tr>\n    "

;  end ; @output_buffer.concat "\n  </table>\n  <br/>\n</div>\n\n<div id=\"referalform\">\n"





;  form_for :referal, :url => { :controller => :referals, :action => :create } do |form| ; @output_buffer.concat "\n  "
;  eligible_referals = @businesses - @user.businesses ; @output_buffer.concat "\n  "
;  unless eligible_referals.length == 0 ; @output_buffer.concat "\n    Business Name:\n    "

; @output_buffer.concat(( form.collection_select(:business_id, @businesses - @user.businesses, :id, :referal_program_name) ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( form.hidden_field :user_id, :value => @user.id ).to_s); @output_buffer.concat "\n    "
; @output_buffer.concat(( submit_tag "Add" ).to_s); @output_buffer.concat "\n  "
;  end ; @output_buffer.concat "\n"
;  end ; @output_buffer.concat "\n</div>\n<br/>\n"


; @output_buffer.concat(( link_to 'back', :controller => 'users', :action => 'index' ).to_s); @output_buffer.concat "\n</div>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:17: syntax error, unexpected ':', expecting ')'
...fer.concat(( link_to 'remove' :controller => 'referals', :ac...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:17: syntax error, unexpected ',', expecting ')'
...ove' :controller => 'referals', :action => 'remove', :id => ...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/users/profile.html.erb:17: syntax error, unexpected ',', expecting ')'
...referals', :action => 'remove', :id => referal_id ).to_s); @...
...                               ^) on line #17 of app/views/users/profile.html.erb:
14:       <td>$<%= h business.referer_reward%></td>
15:       <td><%= h business.expiry_date%></td>
16:       <% referal_id = Referal.find_by_business_id_and_user_id(business.id, @user.id) %>
17:       <td><%= link_to 'remove' :controller => 'referals', :action => 'remove', :id => referal_id %></td>
18:     </tr>
19:     <% end %>
20:   </table>

    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (81.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 16:24:17) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 14, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-04 16:24:21) [GET]
Rendering businesses/new
Completed in 31ms (View: 19, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-04 16:24:32) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "business"=>{"name"=>"sdf", "referal_program_name"=>"ad", "address"=>"", "description"=>"", "city"=>"", "state"=>"", "url"=>"adf", "referee_reward"=>"", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
Rendering businesses/new
Completed in 31ms (View: 7, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-04 16:24:39) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "business"=>{"name"=>"sdf", "referal_program_name"=>"ad", "address"=>"", "description"=>"sdf", "city"=>"", "state"=>"", "url"=>"adf", "referee_reward"=>"", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
  [4;36;1mBusiness Create (1.0ms)[0m   [0;1mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at", "picture", "url", "referer_reward", "referee_reward", "expiry_date", "referal_program_name", "start_date", "upper_limit", "referee_constraint") VALUES('sdf', '', '', '', NULL, NULL, NULL, NULL, 'sdf', NULL, NULL, '2009-10-04 23:24:39', '2009-10-04 23:24:39', NULL, 'adf', NULL, NULL, NULL, 'ad', NULL, NULL, '')[0m

ActionView::MissingTemplate (Missing layout layouts/_refreshparent.erb in view path app/views):
  app/controllers/businesses_controller.rb:51:in `block (2 levels) in create'
  app/controllers/businesses_controller.rb:49:in `create'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 16:24:42) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 15, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-10-04 16:24:51) [DELETE]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "id"=>"7"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 7) [0m
  [4;35;1mBusiness Destroy (1.0ms)[0m   [0mDELETE FROM "businesses" WHERE "id" = 7[0m
Redirected to http://localhost:3000/businesses
Completed in 18ms (DB: 2) | 302 Found [http://localhost/businesses/7]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 16:24:51) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 64ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:26:15) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:17) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 8) LIMIT 1[0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."business_id" = 6 AND "referals"."user_id" = 8) LIMIT 1[0m
Completed in 53ms (View: 31, DB: 2) | 200 OK [http://localhost/users/profile/8]


Processing ReferalsController#remove (for 127.0.0.1 at 2009-10-04 16:26:20) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 2) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mReferal Destroy (1.0ms)[0m   [0mDELETE FROM "referals" WHERE "id" = 2[0m
Redirected to http://localhost:3000/users/profile/8
Completed in 27ms (DB: 2) | 302 Found [http://localhost/referals/remove/2]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:20) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 8) LIMIT 1[0m
Completed in 40ms (View: 19, DB: 3) | 200 OK [http://localhost/users/profile/8]


Processing ReferalsController#remove (for 127.0.0.1 at 2009-10-04 16:26:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 1) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mReferal Destroy (1.0ms)[0m   [0;1mDELETE FROM "referals" WHERE "id" = 1[0m
Redirected to http://localhost:3000/users/profile/8
Completed in 26ms (DB: 2) | 302 Found [http://localhost/referals/remove/1]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:24) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
Completed in 37ms (View: 18, DB: 0) | 200 OK [http://localhost/users/profile/8]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-04 16:26:26) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "referal"=>{"business_id"=>"2", "user_id"=>"8"}, "commit"=>"Add"}
  [4;36;1mReferal Create (2.0ms)[0m   [0;1mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(8, 2, NULL, '2009-10-04 23:26:26', '2009-10-04 23:26:26')[0m
Redirected to http://localhost:3000/users/profile/8
Completed in 20ms (DB: 2) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:26) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 8) LIMIT 1[0m
Completed in 39ms (View: 21, DB: 1) | 200 OK [http://localhost/users/profile/8]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-04 16:26:28) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "referal"=>{"business_id"=>"6", "user_id"=>"8"}, "commit"=>"Add"}
  [4;35;1mReferal Create (3.0ms)[0m   [0mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(8, 6, NULL, '2009-10-04 23:26:28', '2009-10-04 23:26:28')[0m
Redirected to http://localhost:3000/users/profile/8
Completed in 37ms (DB: 3) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:28) [GET]
  Parameters: {"id"=>"8"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
  [4;35;1mReferal Load (1.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 8) LIMIT 1[0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."business_id" = 6 AND "referals"."user_id" = 8) LIMIT 1[0m
Completed in 50ms (View: 24, DB: 5) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:26:29) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 24ms (View: 10, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:31) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 11) LIMIT 1[0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."business_id" = 6 AND "referals"."user_id" = 11) LIMIT 1[0m
Completed in 42ms (View: 23, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#remove (for 127.0.0.1 at 2009-10-04 16:26:32) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 3) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mReferal Destroy (1.0ms)[0m   [0mDELETE FROM "referals" WHERE "id" = 3[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 25ms (DB: 2) | 302 Found [http://localhost/referals/remove/3]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:32) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."business_id" = 6 AND "referals"."user_id" = 11) LIMIT 1[0m
Completed in 40ms (View: 20, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#remove (for 127.0.0.1 at 2009-10-04 16:26:33) [GET]
  Parameters: {"id"=>"4"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 4) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mReferal Destroy (1.0ms)[0m   [0;1mDELETE FROM "referals" WHERE "id" = 4[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 25ms (DB: 2) | 302 Found [http://localhost/referals/remove/4]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:33) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 37ms (View: 17, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-04 16:26:34) [POST]
  Parameters: {"authenticity_token"=>"oLyU42867o7AEu074ksXygeJEepyt0yG0l17ncw4CyI=", "referal"=>{"business_id"=>"2", "user_id"=>"11"}, "commit"=>"Add"}
  [4;36;1mReferal Create (1.0ms)[0m   [0;1mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(11, 2, NULL, '2009-10-04 23:26:34', '2009-10-04 23:26:34')[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 19ms (DB: 1) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-04 16:26:34) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 11) LIMIT 1[0m
Completed in 40ms (View: 19, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-04 16:26:36) [GET]
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 18ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 16:26:41) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-04 16:27:07) [GET]
Rendering businesses/new
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-04 16:28:38) [GET]
Rendering businesses/new
Completed in 23ms (View: 12, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 16:29:44) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (68.0ms)
Completed in 85ms (View: 72, DB: 4) | 200 OK [http://localhost/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 16:37:01) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 13, DB: 2) | 200 OK [http://localhost/businesses]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-04 16:37:11) [GET]

ActionController::RoutingError (No route matches "/admin" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-04 16:37:14) [GET]

ActionController::RoutingError (No route matches "/admins" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-10-04 16:37:26) [GET]
  Parameters: {"id"=>"admin"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=admin):
  app/controllers/users_controller.rb:17:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing HomeController#admin (for 127.0.0.1 at 2009-10-04 16:38:04) [GET]

ActionController::UnknownAction (No action responded to admin. Actions: index, record_contact, require_login, and search):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 16:38:35) [GET]
Rendering login/admin
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-04 16:38:37) [GET]
Redirected to http://localhost:3000/login/login
Completed in 3ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 16:38:37) [GET]
Rendering login/login
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/login]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 16:38:42) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/businesses]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 16:38:42) [GET]
Rendering login/login
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 16:38:50) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 45ms (View: 31, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:08:54) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 53ms (View: 41, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:09:04) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 52ms (View: 39, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:11:47) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:9: syntax error, unexpected '<'
...ut_buffer.concat(( url_for "#{<%= business.url ).to_s); @out...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:9: syntax error, unexpected $undefined, expecting '}'
...  Referer reward: <span style=\"color:red\">$<b>"
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:42: syntax error, unexpected keyword_end, expecting '}'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:44: syntax error, unexpected keyword_ensure, expecting '}'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:46: syntax error, unexpected keyword_end, expecting '}'
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat "&nbsp;&nbsp"; @output_buffer.concat(( url_for "#{<%= business.url ).to_s); @output_buffer.concat "}\"%><br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    "
;  form_remote_for :contactrecord,
                       :url => {:controller => :home, :action => :record_contact} do |form| ; @output_buffer.concat "\n    <table>\n      <tr>\n        <th style=\"text-align:left\">name</th>\n        <th style=\"text-align:left\">phone</th>\n        <th style=\"text-align:left\">email</email>\n      </tr>\n      <tr>\n        <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n        <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n        <td>\n          "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n          "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n          <!--If there is referer, pick a referer randomly to notify-->\n          "

;  if business.users.length > 0 ; @output_buffer.concat "\n          "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n          "
;  else ; @output_buffer.concat "\n          "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n          "
;  end ; @output_buffer.concat "\n        </td>\n        <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n      </tr>\n    </table>\n    "


;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:9: syntax error, unexpected '<'
...ut_buffer.concat(( url_for "#{<%= business.url ).to_s); @out...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:9: syntax error, unexpected $undefined, expecting '}'
...  Referer reward: <span style=\"color:red\">$<b>"
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:42: syntax error, unexpected keyword_end, expecting '}'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:44: syntax error, unexpected keyword_ensure, expecting '}'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:46: syntax error, unexpected keyword_end, expecting '}') on line #9 of app/views/shared/_business_list.html.erb:
6:     <b><%= business.name %></b><br/>
7:     <span style="float:left" ><u><%= business.referal_program_name %></u></span>
8:     <span style="float:right;margin-right:5">Expire: <%= business.expiry_date %></span></br></br>
9:     <%= business.description %>&nbsp;&nbsp<%= url_for "#{<%= business.url %>}"%><br/><br/>
10:     Referer reward: <span style="color:red">$<b><%= business.referer_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
11:     Referee reward: <span style="color:red">$<b><%= business.referee_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
12:     Eligible referee: <%= business.referee_constraint %>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (140.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:12:03) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:9: syntax error, unexpected $undefined, expecting '}'
...to_s); @output_buffer.concat "\"}\"%><br/><br/>\n    Referer...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:42: syntax error, unexpected keyword_end, expecting '}'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:44: syntax error, unexpected keyword_ensure, expecting '}'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:46: syntax error, unexpected keyword_end, expecting '}'
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<table>\n"
;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b><br/>\n    <span style=\"float:left\" ><u>"
; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</u></span>\n    <span style=\"float:right;margin-right:5\">Expire: "
; @output_buffer.concat(( business.expiry_date ).to_s); @output_buffer.concat "</span></br></br>\n    "
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat "&nbsp;&nbsp"; @output_buffer.concat(( url_for "#{"<%= business.url ).to_s); @output_buffer.concat "\"}\"%><br/><br/>\n    Referer reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Referee reward: <span style=\"color:red\">$<b>"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</b></span>&nbsp&nbsp&nbsp&nbsp\n    Eligible referee: "
; @output_buffer.concat(( business.referee_constraint ).to_s); @output_buffer.concat "\n    "
;  form_remote_for :contactrecord,
                       :url => {:controller => :home, :action => :record_contact} do |form| ; @output_buffer.concat "\n    <table>\n      <tr>\n        <th style=\"text-align:left\">name</th>\n        <th style=\"text-align:left\">phone</th>\n        <th style=\"text-align:left\">email</email>\n      </tr>\n      <tr>\n        <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n        <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8 ).to_s); @output_buffer.concat "or</td>\n        <td>\n          "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat " <span id='status'></span>\n          "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n          <!--If there is referer, pick a referer randomly to notify-->\n          "

;  if business.users.length > 0 ; @output_buffer.concat "\n          "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n          "
;  else ; @output_buffer.concat "\n          "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n          "
;  end ; @output_buffer.concat "\n        </td>\n        <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n      </tr>\n    </table>\n    "


;  end ; @output_buffer.concat "\n    <hr/>\n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:9: syntax error, unexpected $undefined, expecting '}'
...to_s); @output_buffer.concat "\"}\"%><br/><br/>\n    Referer...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:42: syntax error, unexpected keyword_end, expecting '}'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:44: syntax error, unexpected keyword_ensure, expecting '}'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:46: syntax error, unexpected keyword_end, expecting '}') on line #9 of app/views/shared/_business_list.html.erb:
6:     <b><%= business.name %></b><br/>
7:     <span style="float:left" ><u><%= business.referal_program_name %></u></span>
8:     <span style="float:right;margin-right:5">Expire: <%= business.expiry_date %></span></br></br>
9:     <%= business.description %>&nbsp;&nbsp<%= url_for "#{"<%= business.url %>"}"%><br/><br/>
10:     Referer reward: <span style="color:red">$<b><%= business.referer_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
11:     Referee reward: <span style="color:red">$<b><%= business.referee_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
12:     Eligible referee: <%= business.referee_constraint %>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (100.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 17:13:33) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 0ms (DB: 0) | 302 Found [http://localhost/businesses]


Processing LoginController#login (for 127.0.0.1 at 2009-10-04 17:13:33) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-04 17:13:38) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 18ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-04 17:13:38) [GET]
Rendering login/admin
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/login/admin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 17:13:40) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 13, DB: 2) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:20:26) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 53ms (View: 40, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:20:28) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 44ms (View: 32, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:21:01) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 91ms (View: 80, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:21:11) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 53ms (View: 40, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:21:13) [GET]
  Parameters: {"url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 44ms (View: 32, DB: 4) | 200 OK [http://localhost/home?url=https%3A%2F%2Fepreferences.bankofamerica.com%2Fasbs%2Fhtm%2Flanding_page%2FPhase3_Referral_Landing_page.html%3Bjsessionid%3DD4B457C619CDCB8F9328B4D635A2449A%3Frc%3DCRPOE%26adlink%3D000309029c910000a641]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:21:19) [GET]
  Parameters: {"url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (38.0ms)
Completed in 59ms (View: 43, DB: 5) | 200 OK [http://localhost/home?url=https%3A%2F%2Fepreferences.bankofamerica.com%2Fasbs%2Fhtm%2Flanding_page%2FPhase3_Referral_Landing_page.html%3Bjsessionid%3DD4B457C619CDCB8F9328B4D635A2449A%3Frc%3DCRPOE%26adlink%3D000309029c910000a641]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 17:21:19) [GET]
  Parameters: {"url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 43ms (View: 30, DB: 4) | 200 OK [http://localhost/home?url=https%3A%2F%2Fepreferences.bankofamerica.com%2Fasbs%2Fhtm%2Flanding_page%2FPhase3_Referral_Landing_page.html%3Bjsessionid%3DD4B457C619CDCB8F9328B4D635A2449A%3Frc%3DCRPOE%26adlink%3D000309029c910000a641]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-04 18:02:28) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 24ms (View: 14, DB: 2) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 22:52:37) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 44ms (View: 32, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 22:55:56) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 51ms (View: 40, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 22:56:00) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 43ms (View: 32, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 22:57:51) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 51ms (View: 39, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-04 22:59:32) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 52ms (View: 40, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 00:01:56) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (25.0ms)
Completed in 41ms (View: 29, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 00:16:31) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined local variable or method `recaptcha_tags' for #<ActionView::Base:0x40ca280>) on line #26 of app/views/shared/_business_list.html.erb:
23:         <td><%= form.text_field :phone, :size => 8 %>or</td>
24:         <td>
25:           <%= form.text_field :email %> <span id='status'></span>
26:           <%= recaptcha_tags %>
27:           <%= form.hidden_field :business_id, :value => business.id%>
28:           <!--If there is referer, pick a referer randomly to notify-->
29:           <% if business.users.length > 0 %>

    app/views/shared/_business_list.html.erb:26:in `block (2 levels) in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (142.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 00:19:09) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 51ms (View: 39, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 00:21:42) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined local variable or method `recaptcha_tags' for #<ActionView::Base:0x3b65fc0>) on line #26 of app/views/shared/_business_list.html.erb:
23:         <td><%= form.text_field :phone, :size => 8 %>or</td>
24:         <td>
25:           <%= form.text_field :email %> <span id='status'></span>
26:           <%= recaptcha_tags %>
27:           <%= form.hidden_field :business_id, :value => business.id%>
28:           <!--If there is referer, pick a referer randomly to notify-->
29:           <% if business.users.length > 0 %>

    app/views/shared/_business_list.html.erb:26:in `block (2 levels) in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (141.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 00:22:42) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (54.0ms)

ActionView::TemplateError (undefined local variable or method `greybox_includes' for #<ActionView::Base:0x428b400>) on line #10 of app/views/layouts/application.html.erb:
7: 			width:1000
8: 		}
9: 		</style>
10: 		<%= greybox_includes %>
11: 		 <script type="text/javascript">
12: 		function refresh() {
13: 			javascript:location.reload(true)

    app/views/layouts/application.html.erb:10
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (79.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 00:23:19) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 48ms (View: 36, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 00:24:34) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"11"}, "recaptcha_challenge_field"=>"02sckZDeX7SyvNhZOhPULyWmRNr9s8lkPml-X4SBIyIpzW2zfLRfD36kqzuHvB6nsbEtAtvfnQT6uXhpFVyRODq09vxZiOxCScl15t7Ip9f0Fkh8kIKekF41mhWM7Zu_jS_2Se42z0fZDmQQdNzHSz9Es1L5c8P5KuiCaKtq7dzosMajC253HptOwizKmA7cDH4dkwbfMXu4sq_Ta8nrrMP7KJ2uQIvOT4ia3QNw1UmvhDi2snI8Px-sDNrjiiiqAFrzaIYZHB9wBcLuOSIVaJBImD-GMB", "recaptcha_response_field"=>"they areas", "commit"=>"refer me"}
  [4;36;1mContactRecord Create (1.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 11, '', '', '', '2009-10-05 07:24:34', '2009-10-05 07:24:34')[0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to 

Date: Mon, 5 Oct 2009 00:24:34 -0700
From: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> <br/>
<span>My email is</span> <br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

Net::SMTPFatalError (555 5.5.2 Syntax error. 15sm343997gxk.8
):
  tlsmail (0.0.1) lib/net/smtp.rb:787:in `check_response'
  tlsmail (0.0.1) lib/net/smtp.rb:760:in `getok'
  tlsmail (0.0.1) lib/net/smtp.rb:739:in `rcptto'
  tlsmail (0.0.1) lib/net/smtp.rb:648:in `block in send0'
  tlsmail (0.0.1) lib/net/smtp.rb:647:in `each'
  tlsmail (0.0.1) lib/net/smtp.rb:647:in `send0'
  tlsmail (0.0.1) lib/net/smtp.rb:574:in `send_message'
  tlsmail (0.0.1) lib/net/smtp.rb:441:in `start'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (73.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 00:31:02) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 52ms (View: 42, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 11:24:15) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (34.0ms)
Completed in 51ms (View: 39, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-05 11:26:45) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;36;1mBusiness Load (19.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (24.0ms)
Completed in 80ms (View: 51, DB: 19) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-05 11:44:41) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 49ms (View: 39, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 11:44:45) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}

ActiveRecord::RecordInvalid (Validation failed: Name can't be blank, Email can't be blank, Email is invalid):
  app/controllers/home_controller.rb:15:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (69.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 11:45:37) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to 

Date: Mon, 5 Oct 2009 11:45:38 -0700
From: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> <br/>
<span>My email is</span> <br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

Net::SMTPFatalError (555 5.5.2 Syntax error. 21sm879460pzk.7
):
  tlsmail (0.0.1) lib/net/smtp.rb:787:in `check_response'
  tlsmail (0.0.1) lib/net/smtp.rb:760:in `getok'
  tlsmail (0.0.1) lib/net/smtp.rb:739:in `rcptto'
  tlsmail (0.0.1) lib/net/smtp.rb:648:in `block in send0'
  tlsmail (0.0.1) lib/net/smtp.rb:647:in `each'
  tlsmail (0.0.1) lib/net/smtp.rb:647:in `send0'
  tlsmail (0.0.1) lib/net/smtp.rb:574:in `send_message'
  tlsmail (0.0.1) lib/net/smtp.rb:441:in `start'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#search (for 127.0.0.1 at 2009-10-05 11:48:48) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search

ActionView::TemplateError (undefined local variable or method `f' for #<ActionView::Base:0x60b94a0>) on line #15 of app/views/shared/_business_list.html.erb:
12:     Eligible referee: <%= business.referee_constraint %>
13:     <% form_remote_for :contactrecord,
14:                        :url => {:controller => :home, :action => :record_contact} do |form| %>
15:     <%= f.error_messages %>
16:     <table>
17:       <tr>
18:         <th style="text-align:left">name</th>

    app/views/shared/_business_list.html.erb:15:in `block (2 levels) in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/search.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 11:49:00) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to 

Date: Mon, 5 Oct 2009 11:49:00 -0700
From: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> <br/>
<span>My email is</span> <br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>

Net::SMTPFatalError (555 5.5.2 Syntax error. 22sm118665pxi.6
):
  tlsmail (0.0.1) lib/net/smtp.rb:787:in `check_response'
  tlsmail (0.0.1) lib/net/smtp.rb:760:in `getok'
  tlsmail (0.0.1) lib/net/smtp.rb:739:in `rcptto'
  tlsmail (0.0.1) lib/net/smtp.rb:648:in `block in send0'
  tlsmail (0.0.1) lib/net/smtp.rb:647:in `each'
  tlsmail (0.0.1) lib/net/smtp.rb:647:in `send0'
  tlsmail (0.0.1) lib/net/smtp.rb:574:in `send_message'
  tlsmail (0.0.1) lib/net/smtp.rb:441:in `start'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mContactRecord Load (539.0ms)[0m   [0;1mSELECT * FROM "contact_records" [0m


Processing HomeController#search (for 127.0.0.1 at 2009-10-05 11:50:26) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 51ms (View: 39, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 11:50:44) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"yanji84@gmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'yanji84@gmail.com', NULL, '2009-10-05 18:50:44', '2009-10-05 18:50:44')[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 11:50:44 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> yanji84@gmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Completed in 4195ms (View: 1, DB: 3) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 11:51:54) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 18:51:54', '2009-10-05 18:51:54')[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to greatjimcom@hotmail.com

Date: Mon, 5 Oct 2009 11:51:54 -0700
From: yanji84@gmail.com
To: greatjimcom@hotmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Completed in 1938ms (View: 1, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 11:58:26) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 18:58:26', '2009-10-05 18:58:26')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSQLite3::SQLException: no such column: users.contact_record_id: SELECT * FROM "users" WHERE ("users".contact_record_id = 9) LIMIT 1[0m

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: users.contact_record_id: SELECT * FROM "users" WHERE ("users".contact_record_id = 9)  LIMIT 1):
  app/models/mailer.rb:4:in `mail'
  app/controllers/home_controller.rb:16:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (96.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (30.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddContactRecordToUser (20091005190354)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (10.0ms)[0m   [0mALTER TABLE "users" ADD "contact_record_id" integer[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20091005190354')[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:05:34) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 19:05:34', '2009-10-05 19:05:34')[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users".contact_record_id = 10) LIMIT 1[0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to refermewebmaster@gmail.com

Date: Mon, 5 Oct 2009 12:05:34 -0700
From: greatjimcom@hotmail.com
To: refermewebmaster@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Completed in 10375ms (View: 1, DB: 4) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:07:45) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 18ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:07:53) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 22ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:08:10) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 27ms (View: 4, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:08:23) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:08:42) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Completed in 43ms (View: 2, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:09:20) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:10:00) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:13:40) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:14:38) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mContactRecord Create (1.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 19:14:38', '2009-10-05 19:14:38')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:14:38 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Completed in 2215ms (View: 1, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:17:41) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 46ms (View: 31, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:20:59) [POST]
  Parameters: {"authenticity_token"=>"PkLd8EoXuPQzTEP607388Em4gvBwv5O2nlkdaiZLkeM=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"11"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 11, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 19:20:59', '2009-10-05 19:20:59')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to wesley.adv08@gmail.com

Date: Mon, 5 Oct 2009 12:20:59 -0700
From: greatjimcom@hotmail.com
To: wesley.adv08@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Completed in 1902ms (View: 1, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing UsersController#index (for 127.0.0.1 at 2009-10-05 12:22:26) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 42ms (View: 31, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 12:22:35) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 11) LIMIT 1[0m
Completed in 52ms (View: 31, DB: 1) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#remove (for 127.0.0.1 at 2009-10-05 12:22:39) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 7) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mReferal Destroy (1.0ms)[0m   [0mDELETE FROM "referals" WHERE "id" = 7[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 29ms (DB: 2) | 302 Found [http://localhost/referals/remove/7]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 12:22:39) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 40ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-05 12:22:41) [GET]
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 22ms (View: 9, DB: 2) | 200 OK [http://localhost/users]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-05 12:22:45) [GET]

ActionController::RoutingError (No route matches "/admin" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing UsersController#show (for 127.0.0.1 at 2009-10-05 12:22:51) [GET]
  Parameters: {"id"=>"admin"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 0) [0m

ActiveRecord::RecordNotFound (Couldn't find User with ID=admin):
  app/controllers/users_controller.rb:17:in `show'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing LoginController#admin (for 127.0.0.1 at 2009-10-05 12:23:03) [GET]
Rendering login/admin
Completed in 18ms (View: 16, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-05 12:23:04) [GET]
Redirected to http://localhost:3000/login/login
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-05 12:23:04) [GET]
Rendering login/login
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:23:09) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 45ms (View: 34, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:23:20) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 19:23:20', '2009-10-05 19:23:20')[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:23:20 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<span>My name is</span> Ji<br/>
<span>My email is</span> greatjimcom@hotmail.com<br/>
<span>My phone is</span> <br/>
<span>Can you refer me at </span> Bank of America<br/><span>?</span>
Completed in 2067ms (View: 1, DB: 4) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:24:40) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mContactRecord Create (1.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 19:24:40', '2009-10-05 19:24:40')[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:24:40 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

<html>
  <body>
    <span>My name is</span> Ji<br/>
    <span>My email is</span> greatjimcom@hotmail.com<br/>
    <span>My phone is</span> <br/>
    <span>Can you refer me at </span> Bank of America<br/><span>?</span>
  </body>
</html>
Completed in 2163ms (View: 1, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:25:14) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 19:25:14', '2009-10-05 19:25:14')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:25:14 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

aaa
Completed in 1729ms (View: 1, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:26:29) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 19:26:29', '2009-10-05 19:26:29')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:26:29 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is greatjimcom@hotmail.com
My phone is 
Can you refer me at Bank of America

Completed in 1810ms (View: 1, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:28:49) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mContactRecord Create (1.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', NULL, '2009-10-05 19:28:49', '2009-10-05 19:28:49')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:28:49 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is greatjimcom@hotmail.com
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 2078ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:31:34) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 53ms (View: 40, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:32:03) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 55ms (View: 41, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:32:14) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (33.0ms)
Completed in 55ms (View: 41, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:33:08) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:33:08 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 2930ms (View: 1, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:35:25) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:35:25 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 1920ms (View: 1, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:40:09) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (33.0ms)
Completed in 55ms (View: 41, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:40:11) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:40:11 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/home_controller.rb:21:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (147.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:40:25) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:40:26 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 1920ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:43:15) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:43:15 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 1878ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:44:17) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:44:17 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 1945ms (View: 1, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:44:27) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:44:27 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 2029ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:44:46) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:44:46 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 2327ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:45:32) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (4.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (34.0ms)
Completed in 57ms (View: 42, DB: 7) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-05 12:45:32) [GET]

ActionController::RoutingError (No route matches "/javascripts/ptotype.js" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:45:33) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 46ms (View: 35, DB: 3) | 200 OK [http://localhost/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-05 12:45:33) [GET]

ActionController::RoutingError (No route matches "/javascripts/ptotype.js" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:46:01) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 50ms (View: 39, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:46:42) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:46:42 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 1976ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:48:27) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (67.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:48:27 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 2316ms (View: 2, DB: 68) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:48:36) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 62ms (View: 49, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:48:39) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:48:39 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 2856ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:49:12) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 44ms (View: 30, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:54:30) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:54:31) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:54:31 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


ActionView::MissingTemplate (Missing template home/_\shared\after_contact.erb in view path app/views):
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:54:37) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:54:37 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


ActionView::MissingTemplate (Missing template home/_\shared\after_contact.erb in view path app/views):
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:55:11) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:55:11 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (0.0ms)
Completed in 1825ms (View: 9, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-05 12:55:13) [GET]

ActionController::RoutingError (No route matches "/check.png" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-05 12:57:41) [GET]

ActionController::RoutingError (No route matches "/public/logo.jpg" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:58:21) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 43ms (View: 31, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:58:23) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:58:23 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (1.0ms)
Completed in 2221ms (View: 9, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-05 12:58:25) [GET]

ActionController::RoutingError (No route matches "/public/check.png" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 12:59:40) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 47ms (View: 33, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 12:59:42) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 12:59:42 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (2.0ms)
Completed in 1908ms (View: 10, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:00:34) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 45ms (View: 33, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:00:35) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:00:35 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (1.0ms)
Completed in 2065ms (View: 10, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:00:50) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 47ms (View: 32, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:00:51) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:00:51 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (2.0ms)
Completed in 1902ms (View: 9, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:01:21) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:01:22 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)

Rendered shared/_after_contact (2.0ms)
Completed in 1958ms (View: 9, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:01:28) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:01:28 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)

Rendered shared/_after_contact (0.0ms)
Completed in 2816ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:01:45) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 45ms (View: 32, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:01:46) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:01:46 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)

Rendered shared/_after_contact (0.0ms)
Completed in 1982ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:05:02) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (33.0ms)
Completed in 125ms (View: 42, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:05:03) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:05:03 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:05:57) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:05:57 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:06:47) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:06:47 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:18:in `+'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (59.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:06:59) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:06:59 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:18:in `+'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:07:59) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:07:59 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 1886ms (View: 1, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:08:01) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (27.0ms)
Completed in 43ms (View: 30, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:08:02) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:08:02 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 1804ms (View: 1, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:08:34) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (36.0ms)
Completed in 62ms (View: 47, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:08:35) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:08:35 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 2030ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:09:48) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:09:48 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (76.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:09:51) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:09:51 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (85.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:10:35) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:10:35 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (147.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:10:38) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:10:38 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (88.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:10:53) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:10:53 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (76.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:11:10) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:11:10 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:11:12) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:11:12 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (151.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:11:51) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:11:51 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:11:55) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 54ms (View: 41, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:11:57) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:11:57 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (75.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:12:02) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:12:02 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is ji
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (76.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:12:11) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"", "email"=>"asdf@adf.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:12:11 -0700
From: asdf@adf.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is ji
My email is asdf@adf.com
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (146.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:12:16) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"", "email"=>"asdf@adf.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:12:16 -0700
From: asdf@adf.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is ji
My email is asdf@adf.com
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:19:in `+'
  app/controllers/home_controller.rb:19:in `block in record_contact'
  app/controllers/home_controller.rb:18:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (77.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:12:54) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"", "email"=>"asdf@adf.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:12:54 -0700
From: asdf@adf.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is ji
My email is asdf@adf.com
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 1672ms (View: 2, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:15:07) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (36.0ms)
Completed in 53ms (View: 38, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:15:08) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"", "email"=>"asdf@adf.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:15:08 -0700
From: asdf@adf.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is ji
My email is asdf@adf.com
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Completed in 2010ms (View: 2, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:15:31) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"", "email"=>"asdf@adf.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:15:31 -0700
From: asdf@adf.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is ji
My email is asdf@adf.com
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (0.0ms)
Completed in 1968ms (View: 4, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 13:15:34) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 13:15:34 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is 
My phone is 
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)

Rendered shared/_after_contact (1.0ms)
Completed in 1836ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#search (for 127.0.0.1 at 2009-10-05 13:28:33) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (25.0ms)
Completed in 41ms (View: 29, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 13:55:47) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 50ms (View: 35, DB: 4) | 200 OK [http://localhost/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-05 14:06:21) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/businesses]


Processing LoginController#login (for 127.0.0.1 at 2009-10-05 14:06:21) [GET]
Rendering login/login
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:13:04) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}

NameError (undefined local variable or method `contact' for #<HomeController:0x27e2980>):
  app/controllers/home_controller.rb:17:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:13:23) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering home/record_contact
Completed in 33ms (View: 6, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:14:43) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (35.0ms)
Completed in 59ms (View: 45, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:14:56) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering home/record_contact
Completed in 31ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:16:46) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Rendering home/record_contact
Completed in 18ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:19:08) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering home/record_contact
Completed in 26ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:19:09) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering home/record_contact
Completed in 27ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:19:09) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (35.0ms)
Completed in 57ms (View: 45, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:19:11) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering home/record_contact
Completed in 32ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:19:42) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering home/record_contact
Completed in 27ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:19:50) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 46ms (View: 34, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:19:51) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering home/record_contact
Completed in 27ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:20:01) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mContactRecord Create (1.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, '', '', '', '2009-10-05 21:20:01', '2009-10-05 21:20:01')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 14:20:01 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (1.0ms)
Completed in 3421ms (View: 3, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:20:05) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 44ms (View: 32, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:20:06) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, '', '', '', '2009-10-05 21:20:06', '2009-10-05 21:20:06')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 14:20:06 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (1.0ms)
Completed in 2308ms (View: 3, DB: 3) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:21:13) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 44ms (View: 30, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:21:15) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering home/record_contact
Completed in 28ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:21:29) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 45ms (View: 33, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:21:30) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering home/record_contact
Completed in 28ms (View: 1, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:22:07) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:22:10) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 45ms (View: 32, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:22:11) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:22:15) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:23:28) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:23:30) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 47ms (View: 36, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:23:32) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:23:33) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (35.0ms)
Completed in 52ms (View: 39, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:23:43) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (97.0ms)
Completed in 114ms (View: 99, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:23:44) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;36;1mContactRecord Create (1.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, '', '', '', '2009-10-05 21:23:44', '2009-10-05 21:23:44')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 14:23:44 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/home_controller.rb:26:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (69.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:23:46) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, '', '', '', '2009-10-05 21:23:46', '2009-10-05 21:23:46')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 14:23:46 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/home_controller.rb:26:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (69.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: database schema has changed: SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:26:04) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 46ms (View: 34, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:26:06) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendered shared/_after_contact (1.0ms)
  [4;36;1mContactRecord Create (2.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, '', '', '', '2009-10-05 21:26:06', '2009-10-05 21:26:06')[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 14:26:06 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/home_controller.rb:26:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:26:31) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 46ms (View: 31, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:26:32) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendered shared/_after_contact (1.0ms)

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:27:03) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 49ms (View: 35, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:27:03) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendered shared/_after_contact (1.0ms)

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:27:05) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendered shared/_after_contact (1.0ms)

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-05 14:29:32) [GET]

SyntaxError (c:/msysgit/msysgit/git/referme/app/controllers/home_controller.rb:28: syntax error, unexpected $end, expecting keyword_end):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:29:59) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 46ms (View: 32, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:30:02) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Rendered shared/_after_contact (0.0ms)
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:30:25) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 14ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:30:48) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 47ms (View: 33, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:30:49) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:31:06) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 48ms (View: 33, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:31:08) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 15ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:31:17) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 44ms (View: 32, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:31:18) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:31:19) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:31:34) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 46ms (View: 34, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:31:35) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:32:20) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 44ms (View: 33, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:32:21) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:17:in `+'
  app/controllers/home_controller.rb:17:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (60.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:32:35) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 46ms (View: 34, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:32:36) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:17:in `+'
  app/controllers/home_controller.rb:17:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (61.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:32:38) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m

TypeError (can't convert Fixnum into String):
  app/controllers/home_controller.rb:17:in `+'
  app/controllers/home_controller.rb:17:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:32:46) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 46ms (View: 33, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:32:48) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:32:49) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 26ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:34:53) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 46ms (View: 34, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:34:54) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 28ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:34:58) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ads", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 95ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 14:35:58) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (35.0ms)
Completed in 57ms (View: 44, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:36:00) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 14:36:03) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"sdf", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 25ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 16:13:23) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ads", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 26ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:13:58) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (38.0ms)
Completed in 59ms (View: 45, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 16:14:01) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 28ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 16:14:02) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ads", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 26ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:21:36) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (34.0ms)
Completed in 64ms (View: 52, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 16:21:52) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:31:09) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 57ms (View: 43, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:31:54) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 44ms (View: 33, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:32:32) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 46ms (View: 33, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:35:29) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (104.0ms)
Completed in 125ms (View: 111, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:47:33) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 53ms (View: 40, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:47:50) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (34.0ms)
Completed in 50ms (View: 39, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:48:56) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 56ms (View: 44, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:49:20) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 53ms (View: 42, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:49:38) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 54ms (View: 42, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:50:07) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:50:58) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 57ms (View: 41, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:51:59) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 54ms (View: 41, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:54:02) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (33.0ms)
Completed in 59ms (View: 47, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:54:37) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (54.0ms)
Completed in 78ms (View: 65, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:55:13) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (29.0ms)
Completed in 125ms (View: 112, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:57:11) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 55ms (View: 43, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#search (for 127.0.0.1 at 2009-10-05 16:57:22) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "businessname"=>"", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 46ms (View: 33, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 16:59:25) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 53ms (View: 38, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:00:11) [GET]
  [4;35;1mBusiness Load (6.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 59ms (View: 42, DB: 6) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:02:45) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 32ms (View: 4, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:02:46) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 25ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:04:29) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 57ms (View: 43, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:05:02) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 56ms (View: 43, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:08:48) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 46ms (View: 32, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:08:51) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"343", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:08:53) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"3", "phone"=>"343", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:09:01) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3433432343", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:09:17) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3433432343", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:09:18) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3433432343", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:09:21) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:11:08) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"4258301447", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:11:59) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"4258301447", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:13:01) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 46ms (View: 34, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:13:03) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"4258301447", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:13:20) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 27ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:13:22) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"34234", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 25ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:13:26) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m

ActionView::MissingTemplate (Missing template home/record_contact.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:19:06) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 46ms (View: 33, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:19:09) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"sfgsdg", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 29ms (View: 4, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:19:15) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 27ms (View: 4, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:19:20) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd.cdd", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 25ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:19:22) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd.cdd", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 25ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:20:48) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd.cdd", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:20:49) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (28.0ms)
Completed in 46ms (View: 34, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:20:52) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd.cd", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:20:54) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd.cdh", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 25ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:20:56) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd.cdh", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 27ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:21:16) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 52ms (View: 38, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:21:19) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd.cdh", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;36;1mContactRecord Create (1.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'ji', 'aaa@fasd.cdh', '3423433333', '2009-10-06 00:21:19', '2009-10-06 00:21:19')[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 17:21:19 -0700
From: aaa@fasd.cdh
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is ji
My email is aaa@fasd.cdh
My phone is 3423433333
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)


ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/home_controller.rb:42:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (70.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:34:31) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(6, 8, '', '', '', '2009-10-06 00:34:31', '2009-10-06 00:34:31')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 17:34:31 -0700
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is 
My email is 
My phone is 
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)


ActionController::DoubleRenderError (Can only render or redirect once per action):
  app/controllers/home_controller.rb:42:in `record_contact'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (67.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:34:43) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 46ms (View: 34, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:35:19) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (30.0ms)
Completed in 48ms (View: 34, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:35:20) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"aaa@fasd.cdh", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:35:30) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 25ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:35:36) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"yanji84@gmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 28ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:35:39) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"yanji84@gmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:36:31) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (34.0ms)
Completed in 50ms (View: 38, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:36:32) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"yanji84@gmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 27ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:36:37) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 25ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:36:42) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"sdfg@dsfgs.sfg", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 24ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:37:05) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ji", "phone"=>"3423433333", "email"=>"sdfg@dsfgs.sfg", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;35;1mContactRecord Create (1.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'ji', 'sdfg@dsfgs.sfg', '3423433333', '2009-10-06 00:37:05', '2009-10-06 00:37:05')[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 17:37:05 -0700
From: sdfg@dsfgs.sfg
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is ji
My email is sdfg@dsfgs.sfg
My phone is 3423433333
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (1.0ms)
Completed in 1996ms (View: 3, DB: 3) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:41:58) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (35.0ms)
Completed in 56ms (View: 43, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:42:19) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 80ms (View: 58, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:43:43) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined local variable or method `time' for #<ActionView::Base:0x417b6a0>) on line #8 of app/views/shared/_business_list.html.erb:
5:   <div id="referalinfo" style="width:100%;float:left">
6:     <b><%= business.name %></b><span style="float:right;margin-right:5">Expire: <%= business.expiry_date %></span></br>
7:     <span style="float:left" ><u><%= business.referal_program_name %></u></span>
8:     <span style="float:right;margin-right:5"><%= (business.expiry_date - time.now).to_natural_language %></span></br><br/>
9:     <%= business.description %>&nbsp;&nbsp<a href="<%= business.url %>" target="_blank">details</a><br/><br/>
10:     Referer reward: <span style="color:red">$<b><%= business.referer_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
11:     Referee reward: <span style="color:red">$<b><%= business.referee_reward %></b></span>&nbsp&nbsp&nbsp&nbsp

    app/views/shared/_business_list.html.erb:8:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (105.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:44:18) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (expected numeric or date) on line #8 of app/views/shared/_business_list.html.erb:
5:   <div id="referalinfo" style="width:100%;float:left">
6:     <b><%= business.name %></b><span style="float:right;margin-right:5">Expire: <%= business.expiry_date %></span></br>
7:     <span style="float:left" ><u><%= business.referal_program_name %></u></span>
8:     <span style="float:right;margin-right:5"><%= (business.expiry_date - Time.now).to_natural_language %></span></br><br/>
9:     <%= business.description %>&nbsp;&nbsp<a href="<%= business.url %>" target="_blank">details</a><br/><br/>
10:     Referer reward: <span style="color:red">$<b><%= business.referer_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
11:     Referee reward: <span style="color:red">$<b><%= business.referee_reward %></b></span>&nbsp&nbsp&nbsp&nbsp

    c:/ruby19/lib/ruby/1.9.1/date.rb:1356:in `-'
    app/views/shared/_business_list.html.erb:8:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (105.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:47:10) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (60.0ms)
Completed in 82ms (View: 68, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:47:24) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined method `date' for Mon, 05 Oct 2009 17:47:24 -0700:DateTime) on line #8 of app/views/shared/_business_list.html.erb:
5:   <div id="referalinfo" style="width:100%;float:left">
6:     <b><%= business.name %></b><span style="float:right;margin-right:5">Expire: <%= business.expiry_date %></span></br>
7:     <span style="float:left" ><u><%= business.referal_program_name %></u></span>
8:     <span style="float:right;margin-right:5"><%= DateTime.now.date %></span></br><br/>
9:     <%= business.description %>&nbsp;&nbsp<a href="<%= business.url %>" target="_blank">details</a><br/><br/>
10:     Referer reward: <span style="color:red">$<b><%= business.referer_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
11:     Referee reward: <span style="color:red">$<b><%= business.referee_reward %></b></span>&nbsp&nbsp&nbsp&nbsp

    app/views/shared/_business_list.html.erb:8:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (106.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:48:53) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined method `to_natural_language' for (3368622293/28800000):Rational) on line #8 of app/views/shared/_business_list.html.erb:
5:   <div id="referalinfo" style="width:100%;float:left">
6:     <b><%= business.name %></b><span style="float:right;margin-right:5">Expire: <%= business.expiry_date %></span></br>
7:     <span style="float:left" ><u><%= business.referal_program_name %></u></span>
8:     <span style="float:right;margin-right:5"><%= (business.expiry_date - DateTime.now).to_natural_language %></span></br><br/>
9:     <%= business.description %>&nbsp;&nbsp<a href="<%= business.url %>" target="_blank">details</a><br/><br/>
10:     Referer reward: <span style="color:red">$<b><%= business.referer_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
11:     Referee reward: <span style="color:red">$<b><%= business.referee_reward %></b></span>&nbsp&nbsp&nbsp&nbsp

    app/views/shared/_business_list.html.erb:8:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:50:30) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (111.0ms)
Completed in 133ms (View: 119, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:51:02) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined method `abs' for 2009-10-05 17:49:05 -0800:Time) on line #8 of app/views/shared/_business_list.html.erb:
5:   <div id="referalinfo" style="width:100%;float:left">
6:     <b><%= business.name %></b><span style="float:right;margin-right:5">Expire: <%= business.expiry_date %></span></br>
7:     <span style="float:left" ><u><%= business.referal_program_name %></u></span>
8:     <span style="float:right;margin-right:5"><%= time_ago_in_words(business.expiry_date - DateTime.now) %></span></br><br/>
9:     <%= business.description %>&nbsp;&nbsp<a href="<%= business.url %>" target="_blank">details</a><br/><br/>
10:     Referer reward: <span style="color:red">$<b><%= business.referer_reward %></b></span>&nbsp&nbsp&nbsp&nbsp
11:     Referee reward: <span style="color:red">$<b><%= business.referee_reward %></b></span>&nbsp&nbsp&nbsp&nbsp

    app/views/shared/_business_list.html.erb:8:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:2:in `each'
    app/views/shared/_business_list.html.erb:2
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (106.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:51:29) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (42.0ms)
Completed in 65ms (View: 51, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:52:01) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 69ms (View: 56, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:52:32) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (41.0ms)
Completed in 63ms (View: 50, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:52:50) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (40.0ms)
Completed in 61ms (View: 48, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:52:57) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 73ms (View: 58, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 17:53:20) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 70ms (View: 56, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:53:45) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 28ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 17:53:46) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 97ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing UsersController#index (for 127.0.0.1 at 2009-10-05 21:36:29) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-05 21:36:30) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-05 21:36:47) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 18ms (DB: 2) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-05 21:36:47) [GET]
Rendering login/admin
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/admin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-05 21:36:53) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 48ms (View: 36, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-05 21:37:00) [GET]
Rendering businesses/new
Completed in 33ms (View: 21, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-05 21:37:04) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 25ms (View: 13, DB: 1) | 200 OK [http://localhost/businesses]


Processing UsersController#index (for 127.0.0.1 at 2009-10-05 21:37:10) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 20ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 21:37:17) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 39ms (View: 18, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-05 21:37:26) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "referal"=>{"business_id"=>"2", "user_id"=>"11"}, "commit"=>"Add"}
  [4;36;1mReferal Create (1.0ms)[0m   [0;1mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(11, 2, NULL, '2009-10-06 04:37:26', '2009-10-06 04:37:26')[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 28ms (DB: 1) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 21:37:26) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
  [4;36;1mReferal Load (1.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 11) LIMIT 1[0m
Completed in 45ms (View: 22, DB: 4) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#remove (for 127.0.0.1 at 2009-10-05 21:37:30) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."id" = 8) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mReferal Destroy (1.0ms)[0m   [0mDELETE FROM "referals" WHERE "id" = 8[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 26ms (DB: 2) | 302 Found [http://localhost/referals/remove/8]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 21:37:30) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#create (for 127.0.0.1 at 2009-10-05 21:37:32) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "referal"=>{"business_id"=>"6", "user_id"=>"11"}, "commit"=>"Add"}
  [4;35;1mReferal Create (1.0ms)[0m   [0mINSERT INTO "referals" ("user_id", "business_id", "comment", "created_at", "updated_at") VALUES(11, 6, NULL, '2009-10-06 04:37:32', '2009-10-06 04:37:32')[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 19ms (DB: 1) | 302 Found [http://localhost/referals]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 21:37:32) [GET]
  Parameters: {"id"=>"11"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."business_id" = 6 AND "referals"."user_id" = 11) LIMIT 1[0m
Completed in 44ms (View: 22, DB: 3) | 200 OK [http://localhost/users/profile/11]


Processing ReferalsController#remove (for 127.0.0.1 at 2009-10-05 21:37:34) [GET]
  Parameters: {"id"=>"9"}
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."id" = 9) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mReferal Destroy (1.0ms)[0m   [0;1mDELETE FROM "referals" WHERE "id" = 9[0m
Redirected to http://localhost:3000/users/profile/11
Completed in 26ms (DB: 2) | 302 Found [http://localhost/referals/remove/9]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 21:37:34) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 38ms (View: 18, DB: 2) | 200 OK [http://localhost/users/profile/11]


Processing UsersController#index (for 127.0.0.1 at 2009-10-05 21:37:36) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 20ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 21:37:41) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 8)) [0m
  [4;36;1mReferal Load (0.0ms)[0m   [0;1mSELECT * FROM "referals" WHERE ("referals"."business_id" = 2 AND "referals"."user_id" = 8) LIMIT 1[0m
  [4;35;1mReferal Load (0.0ms)[0m   [0mSELECT * FROM "referals" WHERE ("referals"."business_id" = 6 AND "referals"."user_id" = 8) LIMIT 1[0m
Completed in 43ms (View: 22, DB: 3) | 200 OK [http://localhost/users/profile/8]


Processing UsersController#index (for 127.0.0.1 at 2009-10-05 21:37:46) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 20ms (View: 8, DB: 1) | 200 OK [http://localhost/users]


Processing UsersController#profile (for 127.0.0.1 at 2009-10-05 21:37:50) [GET]
  Parameters: {"id"=>"11"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 11) [0m
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/users
Rendering users/profile
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT "businesses".* FROM "businesses" INNER JOIN "referals" ON "businesses".id = "referals".business_id WHERE (("referals".user_id = 11)) [0m
Completed in 39ms (View: 18, DB: 0) | 200 OK [http://localhost/users/profile/11]


Processing HomeController#index (for 127.0.0.1 at 2009-10-05 21:38:09) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (36.0ms)
Completed in 53ms (View: 39, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-05 21:38:21) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (32.0ms)
Completed in 48ms (View: 36, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-05 21:39:04) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"Ji", "phone"=>"3434323434", "email"=>"greatjimcom@hotmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'greatjimcom@hotmail.com', '3434323434', '2009-10-06 04:39:04', '2009-10-06 04:39:04')[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Mon, 5 Oct 2009 21:39:04 -0700
From: greatjimcom@hotmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is greatjimcom@hotmail.com
My phone is 3434323434
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (0.0ms)
Completed in 11048ms (View: 3, DB: 3) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-06 20:54:06) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 28ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-06 20:54:10) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"df", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 26ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 20:54:16) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (90.0ms)
Completed in 107ms (View: 94, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-06 22:07:30) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"wz", "phone"=>"", "email"=>"wz@wz.com/", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;36;1mContactRecord Create (18.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'wz', 'wz@wz.com/', '', '2009-10-07 05:07:30', '2009-10-07 05:07:30')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Tue, 6 Oct 2009 22:07:30 -0700
From: wz@wz.com/
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is wz
My email is wz@wz.com/
My phone is 
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (0.0ms)
Completed in 3613ms (View: 51, DB: 19) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-06 22:08:07) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"fgsfdg", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 30ms (View: 4, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-06 22:08:10) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "contactrecord"=>{"name"=>"ef", "phone"=>"", "email"=>"fgsfdg", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 28ms (View: 2, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing UsersController#index (for 127.0.0.1 at 2009-10-06 22:09:23) [GET]
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m
Rendering template within layouts/users
Rendering users/index
Completed in 233ms (View: 154, DB: 1) | 200 OK [http://localhost/users]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-06 22:09:29) [GET]
Rendering login/admin
Completed in 34ms (View: 2, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-06 22:09:31) [GET]
Redirected to http://localhost:3000/login/login
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-06 22:09:31) [GET]
Rendering login/login
Completed in 15ms (View: 12, DB: 0) | 200 OK [http://localhost/login/login]


Processing UsersController#index (for 127.0.0.1 at 2009-10-06 22:09:38) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-06 22:09:39) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:09:45) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (80.0ms)
Completed in 119ms (View: 107, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-06 22:14:00) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "businessname"=>"sprint", "commit"=>"Search"}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (192.0ms)
Rendered rescues/_request_and_response (28.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing HomeController#search (for 127.0.0.1 at 2009-10-06 22:14:23) [POST]
  Parameters: {"authenticity_token"=>"0R4UXoSnV/Pxhn76SLPRhAIfE6MtzJbBgpnTNcf5jks=", "businessname"=>"bank of america", "commit"=>"Search"}

ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (136.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (unprocessable_entity)


Processing LoginController#admin (for 127.0.0.1 at 2009-10-06 22:14:46) [GET]
Rendering login/admin
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/login/admin]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:14:52) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (88.0ms)
Completed in 105ms (View: 91, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-06 22:14:54) [POST]
  Parameters: {"authenticity_token"=>"kcJIU2Vt0RdaerGzKbaJQuzvHh5+X3ZN9QToPHvJOGc=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (80.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (40.0ms)
Completed in 137ms (View: 42, DB: 82) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-06 22:14:55) [POST]
  Parameters: {"authenticity_token"=>"kcJIU2Vt0RdaerGzKbaJQuzvHh5+X3ZN9QToPHvJOGc=", "businessname"=>"adf", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%adf%') [0m
Rendering template within layouts/application
Rendering home/search
Rendered shared/_business_list (0.0ms)
Completed in 15ms (View: 4, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-06 22:15:01) [POST]
  Parameters: {"authenticity_token"=>"kcJIU2Vt0RdaerGzKbaJQuzvHh5+X3ZN9QToPHvJOGc=", "businessname"=>"sprint", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%sprint%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (36.0ms)
Completed in 53ms (View: 39, DB: 2) | 200 OK [http://localhost/home/search]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-06 22:15:11) [GET]
Rendering login/admin
Completed in 4ms (View: 1, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-06 22:15:14) [GET]
Redirected to http://localhost:3000/login/login
Completed in 3ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-06 22:15:14) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:15:20) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (39.0ms)
Completed in 57ms (View: 45, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-06 22:15:27) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>"sprint", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%sprint%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (36.0ms)
Completed in 54ms (View: 41, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:15:38) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (40.0ms)
Completed in 59ms (View: 43, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:16:09) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (68.0ms)
Completed in 85ms (View: 71, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:16:11) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (78.0ms)
Completed in 97ms (View: 80, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:19:32) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 212ms (View: 196, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:20:23) [GET]
  [4;35;1mBusiness Load (15.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 82ms (View: 53, DB: 18) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:20:42) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 70ms (View: 55, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:20:56) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (91.0ms)
Completed in 115ms (View: 102, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:22:10) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (73.0ms)
Completed in 96ms (View: 85, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:22:48) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (71.0ms)
Completed in 94ms (View: 80, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:23:26) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 66ms (View: 52, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:23:39) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (78.0ms)
Completed in 102ms (View: 87, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:24:07) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (80.0ms)
Completed in 104ms (View: 90, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#search (for 127.0.0.1 at 2009-10-06 22:33:01) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (28.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (104.0ms)
Completed in 147ms (View: 109, DB: 28) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 22:41:13) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (182.0ms)
Completed in 200ms (View: 185, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:00:25) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (40.0ms)
Completed in 57ms (View: 44, DB: 2) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-10-06 23:10:07) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-06 23:10:07) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:40:45) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (41.0ms)
Completed in 60ms (View: 44, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:45:54) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 66ms (View: 52, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:45:55) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (39.0ms)
Completed in 59ms (View: 44, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:46:25) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 68ms (View: 54, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:47:06) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 68ms (View: 54, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:49:57) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 58, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:50:36) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (85.0ms)
Completed in 107ms (View: 92, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:55:34) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 68ms (View: 54, DB: 4) | 200 OK [http://localhost/]


Processing UsersController#index (for 127.0.0.1 at 2009-10-06 23:56:44) [GET]
Redirected to http://localhost:3000/login/login
Filter chain halted as [:require_login] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://localhost/users]


Processing LoginController#login (for 127.0.0.1 at 2009-10-06 23:56:44) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-06 23:56:46) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 12ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-06 23:56:46) [GET]
Rendering login/login
Completed in 5ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-06 23:56:50) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "username"=>"Ji", "password"=>"1234565", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '1234565') [0m
Redirected to http://localhost:3000/login/login
Completed in 13ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-06 23:56:50) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-06 23:56:54) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 18ms (DB: 2) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-06 23:56:54) [GET]
Rendering login/admin
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/admin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-06 23:56:56) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 75ms (View: 63, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-06 23:57:05) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 165ms (View: 151, DB: 0) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-06 23:57:23) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 26ms (View: 14, DB: 2) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-10-06 23:57:34) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (40.0ms)
Completed in 58ms (View: 45, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:00:42) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 69ms (View: 55, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:01:17) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (40.0ms)
Completed in 67ms (View: 51, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:02:40) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (38.0ms)
Completed in 75ms (View: 62, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:03:32) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (63.0ms)
Completed in 90ms (View: 75, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:06:50) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (37.0ms)
Completed in 62ms (View: 49, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-07 00:07:50) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (37.0ms)
Completed in 54ms (View: 41, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-07 00:21:03) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (83.0ms)
Completed in 155ms (View: 141, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-07 00:26:40) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (82.0ms)
Completed in 122ms (View: 110, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#search (for 127.0.0.1 at 2009-10-07 00:27:13) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 67ms (View: 53, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:27:15) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (61.0ms)
Completed in 78ms (View: 65, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:28:43) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 74ms (View: 58, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:29:27) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 84ms (View: 56, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:33:20) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 72ms (View: 57, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:34:31) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (73.0ms)
Completed in 96ms (View: 83, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:34:52) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (451.0ms)
Completed in 594ms (View: 576, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:35:16) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 72ms (View: 58, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:36:31) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 70ms (View: 57, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:36:49) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 72ms (View: 58, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:37:12) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 71ms (View: 59, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:40:19) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 72ms (View: 56, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:41:54) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 74ms (View: 58, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:42:08) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 74ms (View: 58, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:45:57) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 73ms (View: 56, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:46:25) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 74ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:46:48) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (131.0ms)
Completed in 227ms (View: 209, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:47:25) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 77ms (View: 60, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:48:03) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 71ms (View: 55, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:48:04) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 65ms (View: 48, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:48:12) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 74ms (View: 61, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:59:03) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 70ms (View: 56, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:59:04) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (42.0ms)
Completed in 60ms (View: 46, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:59:13) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 74ms (View: 60, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:59:45) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined local variable or method `size' for #<ActionView::Base:0x4140180>) on line #21 of app/views/shared/_business_list.html.erb:
18:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
19:     <div style="width:40%;float:left" ><%= business.description %><br/>
20:       <div>
21:         <span class="attribute"><%= image_tag 'money.jpg', size => 16%><span style="margin-left:0px">Referer reward: <span><%= business.referer_reward %></span></span>
22:         <span class="attribute">Referee reward: <span style="color:red"><%= business.referee_reward %></span></span>
23:         <span class="attribute">Expire in: <%= time_ago_in_words(business.expiry_date) %></span>
24:       </div>    

    app/views/shared/_business_list.html.erb:21:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `each'
    app/views/shared/_business_list.html.erb:13
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (442.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:59:47) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined local variable or method `size' for #<ActionView::Base:0x8326bc0>) on line #21 of app/views/shared/_business_list.html.erb:
18:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
19:     <div style="width:40%;float:left" ><%= business.description %><br/>
20:       <div>
21:         <span class="attribute"><%= image_tag 'money.jpg', size => 16%><span style="margin-left:0px">Referer reward: <span><%= business.referer_reward %></span></span>
22:         <span class="attribute">Referee reward: <span style="color:red"><%= business.referee_reward %></span></span>
23:         <span class="attribute">Expire in: <%= time_ago_in_words(business.expiry_date) %></span>
24:       </div>    

    app/views/shared/_business_list.html.erb:21:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `each'
    app/views/shared/_business_list.html.erb:13
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (150.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:59:54) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined local variable or method `width' for #<ActionView::Base:0x79037c0>) on line #21 of app/views/shared/_business_list.html.erb:
18:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
19:     <div style="width:40%;float:left" ><%= business.description %><br/>
20:       <div>
21:         <span class="attribute"><%= image_tag 'money.jpg', width => 16%><span style="margin-left:0px">Referer reward: <span><%= business.referer_reward %></span></span>
22:         <span class="attribute">Referee reward: <span style="color:red"><%= business.referee_reward %></span></span>
23:         <span class="attribute">Expire in: <%= time_ago_in_words(business.expiry_date) %></span>
24:       </div>    

    app/views/shared/_business_list.html.erb:21:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:13:in `each'
    app/views/shared/_business_list.html.erb:13
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (259.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 00:59:59) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (66.0ms)
Completed in 91ms (View: 76, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:00:11) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (55.0ms)
Completed in 81ms (View: 66, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:00:27) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:21: syntax error, unexpected '=', expecting tASSOC
...y.jpg', :width => 16, :height = >16 ).to_s); @output_buffer....
...                               ^
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<head>\n  <style type=\"text/css\">\n  div, span {font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  hr {border:thin}\n  .search {font-size:14px}\n  .attribute {float:left;margin-right:15px;font-size:12px;font-style:oblique}\n  .attribute_title {font-style:bold;font-size:12px}\n  .attribute_value {font-style:italic;font-size:12px}\n  </style>\n</head>\n\n<table>\n"











;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b></br>\n    <span style=\"float:left\" ><a href=\""
; @output_buffer.concat(( business.url ).to_s); @output_buffer.concat "\" target=\"_blank\">"; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</a></span><br/><br/>\n    <div style=\"width:40%;float:left\" >"
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat "<br/>\n      <div>\n        <span class=\"attribute\">"

; @output_buffer.concat(( image_tag 'money.jpg', :width => 16, :height = >16 ).to_s); @output_buffer.concat "<span style=\"margin-left:0px\">Referer reward: <span>"; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</span></span>\n        <span class=\"attribute\">Referee reward: <span style=\"color:red\">"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</span></span>\n        <span class=\"attribute\">Expire in: "
; @output_buffer.concat(( time_ago_in_words(business.expiry_date) ).to_s); @output_buffer.concat "</span>\n      </div>    \n    </div><br/>\n    <div id=\"contactform"


; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" style=\"float:right;display:none\">\n      "
;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact} do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8, :onkeypress => "return onlyNumbers(event)" ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n          <td><div id=\"error"
; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" style=\"color:red\"></div></td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:21: syntax error, unexpected '=', expecting tASSOC
...y.jpg', :width => 16, :height = >16 ).to_s); @output_buffer....
...                               ^) on line #21 of app/views/shared/_business_list.html.erb:
18:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
19:     <div style="width:40%;float:left" ><%= business.description %><br/>
20:       <div>
21:         <span class="attribute"><%= image_tag 'money.jpg', :width => 16, :height = >16 %><span style="margin-left:0px">Referer reward: <span><%= business.referer_reward %></span></span>
22:         <span class="attribute">Referee reward: <span style="color:red"><%= business.referee_reward %></span></span>
23:         <span class="attribute">Expire in: <%= time_ago_in_words(business.expiry_date) %></span>
24:       </div>    

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (279.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:00:36) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:21: syntax error, unexpected '=', expecting tASSOC
...y.jpg', :width => 16, :height = 16 ).to_s); @output_buffer.c...
...                               ^
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<head>\n  <style type=\"text/css\">\n  div, span {font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  hr {border:thin}\n  .search {font-size:14px}\n  .attribute {float:left;margin-right:15px;font-size:12px;font-style:oblique}\n  .attribute_title {font-style:bold;font-size:12px}\n  .attribute_value {font-style:italic;font-size:12px}\n  </style>\n</head>\n\n<table>\n"











;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td>\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b></br>\n    <span style=\"float:left\" ><a href=\""
; @output_buffer.concat(( business.url ).to_s); @output_buffer.concat "\" target=\"_blank\">"; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</a></span><br/><br/>\n    <div style=\"width:40%;float:left\" >"
; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat "<br/>\n      <div>\n        <span class=\"attribute\">"

; @output_buffer.concat(( image_tag 'money.jpg', :width => 16, :height = 16 ).to_s); @output_buffer.concat "<span style=\"margin-left:0px\">Referer reward: <span>"; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</span></span>\n        <span class=\"attribute\">Referee reward: <span style=\"color:red\">"
; @output_buffer.concat(( business.referee_reward ).to_s); @output_buffer.concat "</span></span>\n        <span class=\"attribute\">Expire in: "
; @output_buffer.concat(( time_ago_in_words(business.expiry_date) ).to_s); @output_buffer.concat "</span>\n      </div>    \n    </div><br/>\n    <div id=\"contactform"


; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" style=\"float:right;display:none\">\n      "
;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact} do |form| ; @output_buffer.concat "\n      <table>\n        <tr>\n          <th style=\"text-align:left\">name</th>\n          <th style=\"text-align:left\">phone</th>\n          <th style=\"text-align:left\">email</email>\n        </tr>\n        <tr>\n          <td>"







; @output_buffer.concat(( form.text_field :name, :size => 8 ).to_s); @output_buffer.concat "</td>\n          <td>"
; @output_buffer.concat(( form.text_field :phone, :size => 8, :onkeypress => "return onlyNumbers(event)" ).to_s); @output_buffer.concat "or</td>\n          <td>\n            "

; @output_buffer.concat(( form.text_field :email ).to_s); @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n            <!--If there is referer, pick a referer randomly to notify-->\n            "

;  if business.users.length > 0 ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n            "
;  else ; @output_buffer.concat "\n            "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n            "
;  end ; @output_buffer.concat "\n          </td>\n          <td>"

; @output_buffer.concat(( submit_tag "refer me").to_s); @output_buffer.concat "</td>\n          <td><div id=\"error"
; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" style=\"color:red\"></div></td>\n        </tr>\n      </table>\n      "


;  end ; @output_buffer.concat "\n    </div>\n    <hr/>\n  </div>\n</td>\n</tr>\n"





;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:21: syntax error, unexpected '=', expecting tASSOC
...y.jpg', :width => 16, :height = 16 ).to_s); @output_buffer.c...
...                               ^) on line #21 of app/views/shared/_business_list.html.erb:
18:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
19:     <div style="width:40%;float:left" ><%= business.description %><br/>
20:       <div>
21:         <span class="attribute"><%= image_tag 'money.jpg', :width => 16, :height = 16 %><span style="margin-left:0px">Referer reward: <span><%= business.referer_reward %></span></span>
22:         <span class="attribute">Referee reward: <span style="color:red"><%= business.referee_reward %></span></span>
23:         <span class="attribute">Expire in: <%= time_ago_in_words(business.expiry_date) %></span>
24:       </div>    

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:00:44) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 76ms (View: 61, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:01:01) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 74ms (View: 58, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:01:35) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (69.0ms)
Completed in 95ms (View: 80, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:03:04) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 60, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:03:34) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:03:48) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 80ms (View: 64, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:04:01) [GET]
  [4;35;1mBusiness Load (43.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (59.0ms)
Completed in 127ms (View: 71, DB: 44) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:04:42) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 62ms (View: 47, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:05:33) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 72ms (View: 59, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:05:55) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (71.0ms)
Completed in 96ms (View: 80, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:06:04) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 73ms (View: 58, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:06:14) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 74ms (View: 60, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:06:15) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 63ms (View: 49, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:06:51) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 72ms (View: 59, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:06:52) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 63ms (View: 49, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:07:03) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 71ms (View: 56, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:08:48) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (139.0ms)
Completed in 163ms (View: 148, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:12:28) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (76.0ms)
Completed in 102ms (View: 86, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#search (for 127.0.0.1 at 2009-10-07 01:12:55) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 62ms (View: 46, DB: 4) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:14:14) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 72ms (View: 58, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:15:35) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 76ms (View: 58, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:16:31) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (75.0ms)
Completed in 100ms (View: 85, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:16:55) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (56.0ms)
Completed in 81ms (View: 66, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:17:31) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 82ms (View: 63, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:17:55) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 72ms (View: 58, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 01:18:28) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:20:58) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 173ms (View: 155, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:21:33) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (54.0ms)
Completed in 79ms (View: 64, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:21:43) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 73ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:24:21) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 61, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:24:22) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 66ms (View: 51, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:24:44) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (83.0ms)
Completed in 108ms (View: 92, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:24:45) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (86.0ms)
Completed in 104ms (View: 90, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:24:56) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 72ms (View: 59, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:25:32) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (90.0ms)
Completed in 115ms (View: 99, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:25:49) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 63ms (View: 47, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:26:22) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 72ms (View: 56, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:29:10) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (57.0ms)
Completed in 91ms (View: 75, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:30:27) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (60.0ms)
Completed in 89ms (View: 71, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:31:25) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (5.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 82ms (View: 60, DB: 8) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:31:45) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 76ms (View: 62, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:32:14) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 72ms (View: 57, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:33:22) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (92.0ms)
Completed in 116ms (View: 103, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:35:42) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 79ms (View: 59, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:35:44) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 106ms (View: 92, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:36:12) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (141.0ms)
Completed in 167ms (View: 151, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:36:55) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (54.0ms)
Completed in 78ms (View: 62, DB: 6) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:37:15) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 72ms (View: 58, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 01:37:33) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 29ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:38:09) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (74.0ms)
Completed in 100ms (View: 84, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:38:31) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 74ms (View: 58, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:39:01) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 76ms (View: 60, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:39:43) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 75ms (View: 60, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:39:54) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (55.0ms)
Completed in 78ms (View: 65, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 01:40:14) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 29ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 01:40:56) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:40:58) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 78ms (View: 63, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 01:40:59) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:41:16) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 77ms (View: 61, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 01:41:17) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:41:47) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 74ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:42:23) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (4.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 77ms (View: 58, DB: 7) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:42:24) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 71ms (View: 55, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:42:35) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (68.0ms)
Completed in 93ms (View: 78, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 01:42:46) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 71ms (View: 56, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:21:06) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 73ms (View: 57, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:21:28) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 76ms (View: 61, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:23:27) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (90.0ms)
Completed in 113ms (View: 102, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:23:51) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (91.0ms)
Completed in 111ms (View: 95, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:26:52) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 76ms (View: 60, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:26:53) [GET]
  [4;35;1mBusiness Load (23.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 88ms (View: 52, DB: 25) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:28:25) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 61, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:28:26) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (91.0ms)
Completed in 110ms (View: 95, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:28:34) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (65.0ms)
Completed in 90ms (View: 76, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:28:47) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (132.0ms)
Completed in 195ms (View: 143, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:29:47) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 79ms (View: 61, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:29:58) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 67ms (View: 51, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:30:47) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:31:23) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 73ms (View: 57, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:31:46) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 79ms (View: 64, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:32:05) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 67ms (View: 53, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:36:20) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 76ms (View: 62, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:36:42) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 78ms (View: 64, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:36:53) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (100.0ms)
Completed in 125ms (View: 111, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:42:22) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (55.0ms)
Completed in 80ms (View: 65, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:42:56) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (96.0ms)
Completed in 121ms (View: 107, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:42:57) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 63ms (View: 47, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:43:04) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 143ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:43:48) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (101.0ms)
Completed in 127ms (View: 111, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:44:11) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (97.0ms)
Completed in 124ms (View: 109, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:44:12) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 66ms (View: 51, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:44:59) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (110.0ms)
Completed in 135ms (View: 119, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:46:59) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (91.0ms)
Completed in 115ms (View: 100, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:47:53) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (88.0ms)
Completed in 113ms (View: 97, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:48:01) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 75ms (View: 60, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:48:02) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 74ms (View: 54, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:48:21) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:49:31) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 77ms (View: 63, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:49:33) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 76ms (View: 53, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:52:20) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 32ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:52:38) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 66ms (View: 52, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:52:41) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 34ms (View: 4, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:52:45) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 69ms (View: 52, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:52:46) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 30ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:52:48) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:52:54) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 30ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:52:55) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:52:57) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 60ms (View: 46, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:52:58) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:53:10) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:53:10) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:53:12) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 72ms (View: 53, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:53:14) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 33ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:53:15) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:53:26) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"ddsf", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 29ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:53:31) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"ddsf", "phone"=>"234234432423", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:53:34) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"ddsf", "phone"=>"234234432423", "email"=>"efr", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 10:53:38) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"ddsf", "phone"=>"34323432", "email"=>"efr", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:55:45) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 79ms (View: 65, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:56:23) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 75ms (View: 60, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:56:31) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (129.0ms)
Completed in 153ms (View: 138, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:56:48) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 73ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:56:49) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 65ms (View: 49, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 10:58:29) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (58.0ms)
Completed in 83ms (View: 68, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:00:26) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 80ms (View: 63, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:00:34) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 62ms (View: 47, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:00:35) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 66ms (View: 47, DB: 6) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:01:17) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (100.0ms)
Completed in 126ms (View: 110, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:01:26) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 69ms (View: 53, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:02:23) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (79.0ms)
Completed in 103ms (View: 90, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:02:46) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 161ms (View: 147, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:03:05) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 65ms (View: 48, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:03:27) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (55.0ms)
Completed in 85ms (View: 66, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:03:39) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (58.0ms)
Completed in 85ms (View: 67, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:03:48) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (54.0ms)
Completed in 82ms (View: 67, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:03:56) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 63ms (View: 50, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:04:25) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:05:09) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 74ms (View: 60, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:05:10) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:05:12) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 31ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:05:20) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:05:22) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (61.0ms)
Completed in 82ms (View: 68, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:05:23) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 34ms (View: 4, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:05:24) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 36ms (View: 3, DB: 0) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:06:57) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 77ms (View: 62, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:06:59) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 36ms (View: 4, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:07:01) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 30ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:07:12) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 68ms (View: 52, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:09:01) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (5.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (56.0ms)
Completed in 81ms (View: 63, DB: 8) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:09:07) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 30ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:09:49) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 76ms (View: 62, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:10:10) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 83ms (View: 64, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:10:42) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (58.0ms)
Completed in 82ms (View: 66, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:11:10) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (150.0ms)
Completed in 174ms (View: 160, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:11:33) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 71ms (View: 52, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:11:56) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (54.0ms)
Completed in 80ms (View: 64, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:12:00) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 33ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:12:05) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 80ms (View: 48, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:13:00) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (60.0ms)
Completed in 86ms (View: 71, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:14:19) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 79ms (View: 61, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:15:33) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (56.0ms)
Completed in 83ms (View: 67, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:16:11) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 61, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:16:24) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 31ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:16:41) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 78ms (View: 61, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:17:04) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 77ms (View: 63, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:17:27) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (54.0ms)
Completed in 80ms (View: 64, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:17:56) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 75ms (View: 60, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:18:07) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 75ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:19:16) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 79ms (View: 63, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:22:02) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 77ms (View: 61, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:22:09) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 66ms (View: 50, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:22:42) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 82ms (View: 64, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:23:50) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (88.0ms)
Completed in 116ms (View: 100, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 11:23:51) [POST]
  Parameters: {"authenticity_token"=>"6UUDYoAKY/h6RSplh+ECVd4KeKnFb8b3MYgboeekubo=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 109ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:25:11) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 75ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:25:15) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 66ms (View: 52, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#search (for 127.0.0.1 at 2009-10-07 11:25:36) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>"bank of america", "commit"=>"Search"}
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%bank of america%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (41.0ms)
Completed in 60ms (View: 45, DB: 3) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:25:40) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 66ms (View: 50, DB: 4) | 200 OK [http://localhost/home]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddContactRecordToUser (20091005190354)
Migrating to AddCategoryToBusiness (20091007182654)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: duplicate column name: category: ALTER TABLE "businesses" ADD "category" varchar(255)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddContactRecordToUser (20091005190354)
Migrating to ChangeRewardtypeInBusiness (20091007182654)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (566.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (54.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddContactRecordToUser (20091005190354)
Migrating to ChangeRewardTypeInBusiness (20091007183510)
  [4;36;1mSQL (1.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddContactRecordToUser (20091005190354)
Migrating to ChangeRewardTypeInBusiness (20091007183510)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;36;1mBusiness Load (168.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 11:43:24) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 146ms (View: 67, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 11:43:38) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 96ms (View: 82, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 11:45:09) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 51ms (View: 33, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-10-07 11:45:21) [PUT]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "business"=>{"name"=>"Bank of America", "referal_program_name"=>"Customer Referral Program", "address"=>"", "description"=>"Refer friends and family, fellow students and business owners to one of our checking accounts today: When they open a new account, you can get a cash bonus and so can they. The more referrals you make, the more rewards you can get. And, there's no limit on how many referrals you can make.", "category"=>"bank", "city"=>"", "state"=>"", "url"=>"https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641", "referee_reward"=>"25", "referer_reward"=>"25", "start_date"=>"", "expiry_date"=>"January 31, 2010", "upper_limit"=>"-1", "referee_constraint"=>"anyone"}, "commit"=>"Update", "id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;36;1mBusiness Update (27.0ms)[0m   [0;1mUPDATE "businesses" SET "category" = 'bank', "updated_at" = '2009-10-07 18:45:22' WHERE "id" = 2[0m
Redirected to http://localhost:3000/businesses/2
Completed in 198ms (DB: 28) | 302 Found [http://localhost/businesses/2]


Processing BusinessesController#show (for 127.0.0.1 at 2009-10-07 11:45:22) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 66ms (View: 49, DB: 0) | 200 OK [http://localhost/businesses/2]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 11:45:24) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 28ms (View: 15, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 11:45:31) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 31ms (View: 17, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-10-07 11:45:46) [PUT]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "business"=>{"name"=>"Sprint", "referal_program_name"=>"Sprint Referral Rewards Program", "address"=>"", "description"=>"Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.", "category"=>"phone/internet", "city"=>"", "state"=>"", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50", "start_date"=>"July 12, 2009", "expiry_date"=>"October 31, 2009", "upper_limit"=>"12", "referee_constraint"=>"anyone"}, "commit"=>"Update", "id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;35;1mBusiness Update (2.0ms)[0m   [0mUPDATE "businesses" SET "category" = 'phone/internet', "updated_at" = '2009-10-07 18:45:46' WHERE "id" = 6[0m
Redirected to http://localhost:3000/businesses/6
Completed in 31ms (DB: 2) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-10-07 11:45:46) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 25ms (View: 11, DB: 0) | 200 OK [http://localhost/businesses/6]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:46:01) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 70ms (View: 52, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:50:12) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 74ms (View: 61, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:51:05) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 59, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:51:06) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 65ms (View: 50, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:51:29) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 74ms (View: 58, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:52:38) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 73ms (View: 57, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:52:51) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 76ms (View: 61, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 11:53:19) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 75ms (View: 61, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:00:52) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected '<'
...ut_buffer.concat(( link_to "#{<%= category ).to_s); @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected ',', expecting '}'
...at "}\", :controller => 'home', :action => 'category', :id =...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected ',', expecting '}'
... 'home', :action => 'category', :id => category %></span><br...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected $undefined
...:id => category %></span><br/>\n    <span style=\"float:left...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...%></span><br/>\n    <span style=\"float:left\" ><a href=\""
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:76: syntax error, unexpected keyword_end, expecting '}'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:78: syntax error, unexpected keyword_ensure, expecting '}'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:80: syntax error, unexpected keyword_end, expecting '}'
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<head>\n  <style type=\"text/css\">\n  div, span, tr {font-style:normal;font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  span.contact_error {color:red}\n  div.contact {border:1px solid;width:60%;color:lightblue}\n  b {font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  tr {text-align:left}\n  hr {border-width:1px;color:grey}\n  .search {font-size:14px}\n  .attribute {float:left;margin-right:15px;font-size:12px}\n  input.flat,button.flat {border:1px solid;border-color:grey}\n  input.flat:focus {border-color:black}\n  </style>\n</head>\n\n<table>\n"















;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td style=\"width:50%\">\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b></br>\n    "
;  category = business.category ; @output_buffer.concat "\n    <span>Category: "
; @output_buffer.concat(( link_to "#{<%= category ).to_s); @output_buffer.concat "}\", :controller => 'home', :action => 'category', :id => category %></span><br/>\n    <span style=\"float:left\" ><a href=\""
; @output_buffer.concat(( business.url ).to_s); @output_buffer.concat "\" target=\"_blank\">"; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</a></span><br/><br/>\n    <span class=\"attribute\" style=\"margin-left:0px\">"
; @output_buffer.concat(( image_tag 'money.jpg', :width => 20, :height => 20 ).to_s); @output_buffer.concat "reward:"; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</span>\n    <span class=\"attribute\">"
; @output_buffer.concat(( image_tag 'calendar.jpg', :width => 20, :height => 20 ).to_s); @output_buffer.concat "expire: in "; @output_buffer.concat(( time_ago_in_words(business.expiry_date) ).to_s); @output_buffer.concat "</span>\n    <br/><br/>\n    <div style=\"float:left\" >"

; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat "<br/><br/>\n    </div><br/>\n  </div>\n</td>\n<td valign=\"top\">\n  <div>\n    <div id=\"contactform"





; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" class=\"contact\">\n      "
;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact} do |form| ; @output_buffer.concat "\n        <table>\n          <tr>\n            <td colspan=2>\n              <b>Please leave your contact info</b><br/>\n            </td>\n          </tr>\n          <tr>\n            <td>name: </td>\n            <td>"








; @output_buffer.concat(( form.text_field :name, :size => 20, :class => 'flat' ).to_s); @output_buffer.concat "</td>\n          </tr>\n          <tr>\n            <td>phone: </td>\n            <td>"



; @output_buffer.concat(( form.text_field :phone, :size => 20, :onkeypress => "return onlyNumbers(event)", :class => 'flat' ).to_s); @output_buffer.concat "</td>\n          </tr>\n          <tr>\n            <td>email: </td>\n            <td>\n              "




; @output_buffer.concat(( form.text_field :email, :size => 20, :class => 'flat' ).to_s); @output_buffer.concat "\n                      "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n              <!--If there is referer, pick a referer randomly to notify-->\n              "

;  if business.users.length > 0 ; @output_buffer.concat "\n              "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n              "
;  else ; @output_buffer.concat "\n              "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n              "
;  end ; @output_buffer.concat "\n            </td>\n          </tr>\n          <tr>\n            <td colspan=2>\n              "




; @output_buffer.concat(( submit_tag "refer me", :class => 'flat').to_s); @output_buffer.concat "\n              <span id=\"error"
; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" class=\"contact_error\"></span>\n            </td>\n          </tr>\n        </table>\n      "



;  end ; @output_buffer.concat "\n    </div>    \n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected '<'
...ut_buffer.concat(( link_to "#{<%= category ).to_s); @output_...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected ',', expecting '}'
...at "}\", :controller => 'home', :action => 'category', :id =...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected ',', expecting '}'
... 'home', :action => 'category', :id => category %></span><br...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected $undefined
...:id => category %></span><br/>\n    <span style=\"float:left...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
...%></span><br/>\n    <span style=\"float:left\" ><a href=\""
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:76: syntax error, unexpected keyword_end, expecting '}'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:78: syntax error, unexpected keyword_ensure, expecting '}'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:80: syntax error, unexpected keyword_end, expecting '}') on line #23 of app/views/shared/_business_list.html.erb:
20:   <div id="referalinfo" style="width:100%;float:left">
21:     <b><%= business.name %></b></br>
22:     <% category = business.category %>
23:     <span>Category: <%= link_to "#{<%= category %>}", :controller => 'home', :action => 'category', :id => category %></span><br/>
24:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
25:     <span class="attribute" style="margin-left:0px"><%= image_tag 'money.jpg', :width => 20, :height => 20 %>reward:<%= business.referer_reward %></span>
26:     <span class="attribute"><%= image_tag 'calendar.jpg', :width => 20, :height => 20 %>expire: in <%= time_ago_in_words(business.expiry_date) %></span>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (111.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:01:10) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected $undefined, expecting ')'
...o_s); @output_buffer.concat ")\", :controller => 'home', :ac...
...                               ^
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<head>\n  <style type=\"text/css\">\n  div, span, tr {font-style:normal;font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  span.contact_error {color:red}\n  div.contact {border:1px solid;width:60%;color:lightblue}\n  b {font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  tr {text-align:left}\n  hr {border-width:1px;color:grey}\n  .search {font-size:14px}\n  .attribute {float:left;margin-right:15px;font-size:12px}\n  input.flat,button.flat {border:1px solid;border-color:grey}\n  input.flat:focus {border-color:black}\n  </style>\n</head>\n\n<table>\n"















;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td style=\"width:50%\">\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b></br>\n    "
;  category = business.category ; @output_buffer.concat "\n    <span>Category: "
; @output_buffer.concat(( link_to "#(<%= category ).to_s); @output_buffer.concat ")\", :controller => 'home', :action => 'category', :id => category %></span><br/>\n    <span style=\"float:left\" ><a href=\""
; @output_buffer.concat(( business.url ).to_s); @output_buffer.concat "\" target=\"_blank\">"; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</a></span><br/><br/>\n    <span class=\"attribute\" style=\"margin-left:0px\">"
; @output_buffer.concat(( image_tag 'money.jpg', :width => 20, :height => 20 ).to_s); @output_buffer.concat "reward:"; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</span>\n    <span class=\"attribute\">"
; @output_buffer.concat(( image_tag 'calendar.jpg', :width => 20, :height => 20 ).to_s); @output_buffer.concat "expire: in "; @output_buffer.concat(( time_ago_in_words(business.expiry_date) ).to_s); @output_buffer.concat "</span>\n    <br/><br/>\n    <div style=\"float:left\" >"

; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat "<br/><br/>\n    </div><br/>\n  </div>\n</td>\n<td valign=\"top\">\n  <div>\n    <div id=\"contactform"





; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" class=\"contact\">\n      "
;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact} do |form| ; @output_buffer.concat "\n        <table>\n          <tr>\n            <td colspan=2>\n              <b>Please leave your contact info</b><br/>\n            </td>\n          </tr>\n          <tr>\n            <td>name: </td>\n            <td>"








; @output_buffer.concat(( form.text_field :name, :size => 20, :class => 'flat' ).to_s); @output_buffer.concat "</td>\n          </tr>\n          <tr>\n            <td>phone: </td>\n            <td>"



; @output_buffer.concat(( form.text_field :phone, :size => 20, :onkeypress => "return onlyNumbers(event)", :class => 'flat' ).to_s); @output_buffer.concat "</td>\n          </tr>\n          <tr>\n            <td>email: </td>\n            <td>\n              "




; @output_buffer.concat(( form.text_field :email, :size => 20, :class => 'flat' ).to_s); @output_buffer.concat "\n                      "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n              <!--If there is referer, pick a referer randomly to notify-->\n              "

;  if business.users.length > 0 ; @output_buffer.concat "\n              "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n              "
;  else ; @output_buffer.concat "\n              "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n              "
;  end ; @output_buffer.concat "\n            </td>\n          </tr>\n          <tr>\n            <td colspan=2>\n              "




; @output_buffer.concat(( submit_tag "refer me", :class => 'flat').to_s); @output_buffer.concat "\n              <span id=\"error"
; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" class=\"contact_error\"></span>\n            </td>\n          </tr>\n        </table>\n      "



;  end ; @output_buffer.concat "\n    </div>    \n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected $undefined, expecting ')'
...o_s); @output_buffer.concat ")\", :controller => 'home', :ac...
...                               ^) on line #23 of app/views/shared/_business_list.html.erb:
20:   <div id="referalinfo" style="width:100%;float:left">
21:     <b><%= business.name %></b></br>
22:     <% category = business.category %>
23:     <span>Category: <%= link_to "#(<%= category %>)", :controller => 'home', :action => 'category', :id => category %></span><br/>
24:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
25:     <span class="attribute" style="margin-left:0px"><%= image_tag 'money.jpg', :width => 20, :height => 20 %>reward:<%= business.referer_reward %></span>
26:     <span class="attribute"><%= image_tag 'calendar.jpg', :width => 20, :height => 20 %>expire: in <%= time_ago_in_words(business.expiry_date) %></span>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:44:09) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected $undefined, expecting ')'
...to_s); @output_buffer.concat "\", :controller => 'home', :ac...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:76: syntax error, unexpected keyword_end, expecting ')'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:78: syntax error, unexpected keyword_ensure, expecting ')'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:80: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<head>\n  <style type=\"text/css\">\n  div, span, tr {font-style:normal;font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  span.contact_error {color:red}\n  div.contact {border:1px solid;width:60%;color:lightblue}\n  b {font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  tr {text-align:left}\n  hr {border-width:1px;color:grey}\n  .search {font-size:14px}\n  .attribute {float:left;margin-right:15px;font-size:12px}\n  input.flat,button.flat {border:1px solid;border-color:grey}\n  input.flat:focus {border-color:black}\n  </style>\n</head>\n\n<table>\n"















;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td style=\"width:50%\">\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b></br>\n    "
;  category = business.category ; @output_buffer.concat "\n    <span>Category: "
; @output_buffer.concat(( link_to "<%= category ).to_s); @output_buffer.concat "\", :controller => 'home', :action => 'category', :id => category %></span><br/>\n    <span style=\"float:left\" ><a href=\""
; @output_buffer.concat(( business.url ).to_s); @output_buffer.concat "\" target=\"_blank\">"; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</a></span><br/><br/>\n    <span class=\"attribute\" style=\"margin-left:0px\">"
; @output_buffer.concat(( image_tag 'money.jpg', :width => 20, :height => 20 ).to_s); @output_buffer.concat "reward:"; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</span>\n    <span class=\"attribute\">"
; @output_buffer.concat(( image_tag 'calendar.jpg', :width => 20, :height => 20 ).to_s); @output_buffer.concat "expire: in "; @output_buffer.concat(( time_ago_in_words(business.expiry_date) ).to_s); @output_buffer.concat "</span>\n    <br/><br/>\n    <div style=\"float:left\" >"

; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat "<br/><br/>\n    </div><br/>\n  </div>\n</td>\n<td valign=\"top\">\n  <div>\n    <div id=\"contactform"





; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" class=\"contact\">\n      "
;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact} do |form| ; @output_buffer.concat "\n        <table>\n          <tr>\n            <td colspan=2>\n              <b>Please leave your contact info</b><br/>\n            </td>\n          </tr>\n          <tr>\n            <td>name: </td>\n            <td>"








; @output_buffer.concat(( form.text_field :name, :size => 20, :class => 'flat' ).to_s); @output_buffer.concat "</td>\n          </tr>\n          <tr>\n            <td>phone: </td>\n            <td>"



; @output_buffer.concat(( form.text_field :phone, :size => 20, :onkeypress => "return onlyNumbers(event)", :class => 'flat' ).to_s); @output_buffer.concat "</td>\n          </tr>\n          <tr>\n            <td>email: </td>\n            <td>\n              "




; @output_buffer.concat(( form.text_field :email, :size => 20, :class => 'flat' ).to_s); @output_buffer.concat "\n                      "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n              <!--If there is referer, pick a referer randomly to notify-->\n              "

;  if business.users.length > 0 ; @output_buffer.concat "\n              "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n              "
;  else ; @output_buffer.concat "\n              "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n              "
;  end ; @output_buffer.concat "\n            </td>\n          </tr>\n          <tr>\n            <td colspan=2>\n              "




; @output_buffer.concat(( submit_tag "refer me", :class => 'flat').to_s); @output_buffer.concat "\n              <span id=\"error"
; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" class=\"contact_error\"></span>\n            </td>\n          </tr>\n        </table>\n      "



;  end ; @output_buffer.concat "\n    </div>    \n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:23: syntax error, unexpected $undefined, expecting ')'
...to_s); @output_buffer.concat "\", :controller => 'home', :ac...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:76: syntax error, unexpected keyword_end, expecting ')'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:78: syntax error, unexpected keyword_ensure, expecting ')'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:80: syntax error, unexpected keyword_end, expecting ')') on line #23 of app/views/shared/_business_list.html.erb:
20:   <div id="referalinfo" style="width:100%;float:left">
21:     <b><%= business.name %></b></br>
22:     <% category = business.category %>
23:     <span>Category: <%= link_to "<%= category %>", :controller => 'home', :action => 'category', :id => category %></span><br/>
24:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
25:     <span class="attribute" style="margin-left:0px"><%= image_tag 'money.jpg', :width => 20, :height => 20 %>reward:<%= business.referer_reward %></span>
26:     <span class="attribute"><%= image_tag 'calendar.jpg', :width => 20, :height => 20 %>expire: in <%= time_ago_in_words(business.expiry_date) %></span>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (112.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:44:34) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
ERROR: compiling _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object RAISED c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:22: syntax error, unexpected $undefined, expecting ')'
...to_s); @output_buffer.concat "\", :controller => 'home', :ac...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:75: syntax error, unexpected keyword_end, expecting ')'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:77: syntax error, unexpected keyword_ensure, expecting ')'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:79: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object(local_assigns)
            old_output_buffer = output_buffer;business_list = local_assigns[:business_list];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<head>\n  <style type=\"text/css\">\n  div, span, tr {font-style:normal;font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  span.contact_error {color:red}\n  div.contact {border:1px solid;width:60%;color:lightblue}\n  b {font-family:arial, 'Lucida Grande', 'Bitstream Vera Sans', verdana, sans-serif;font-size: 13px}\n  tr {text-align:left}\n  hr {border-width:1px;color:grey}\n  .search {font-size:14px}\n  .attribute {float:left;margin-right:15px;font-size:12px}\n  input.flat,button.flat {border:1px solid;border-color:grey}\n  input.flat:focus {border-color:black}\n  </style>\n</head>\n\n<table>\n"















;  business_list.each do |business| ; @output_buffer.concat "\n<tr>\n<td style=\"width:50%\">\n  <div id=\"referalinfo\" style=\"width:100%;float:left\">\n    <b>"



; @output_buffer.concat(( business.name ).to_s); @output_buffer.concat "</b></br>\n    <span>Category: "
; @output_buffer.concat(( link_to "<%= business.category ).to_s); @output_buffer.concat "\", :controller => 'home', :action => 'category', :id => category %></span><br/>\n    <span style=\"float:left\" ><a href=\""
; @output_buffer.concat(( business.url ).to_s); @output_buffer.concat "\" target=\"_blank\">"; @output_buffer.concat(( business.referal_program_name ).to_s); @output_buffer.concat "</a></span><br/><br/>\n    <span class=\"attribute\" style=\"margin-left:0px\">"
; @output_buffer.concat(( image_tag 'money.jpg', :width => 20, :height => 20 ).to_s); @output_buffer.concat "reward:"; @output_buffer.concat(( business.referer_reward ).to_s); @output_buffer.concat "</span>\n    <span class=\"attribute\">"
; @output_buffer.concat(( image_tag 'calendar.jpg', :width => 20, :height => 20 ).to_s); @output_buffer.concat "expire: in "; @output_buffer.concat(( time_ago_in_words(business.expiry_date) ).to_s); @output_buffer.concat "</span>\n    <br/><br/>\n    <div style=\"float:left\" >"

; @output_buffer.concat(( business.description ).to_s); @output_buffer.concat "<br/><br/>\n    </div><br/>\n  </div>\n</td>\n<td valign=\"top\">\n  <div>\n    <div id=\"contactform"





; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" class=\"contact\">\n      "
;  form_remote_for :contactrecord,
                         :url => {:controller => :home, :action => :record_contact} do |form| ; @output_buffer.concat "\n        <table>\n          <tr>\n            <td colspan=2>\n              <b>Please leave your contact info</b><br/>\n            </td>\n          </tr>\n          <tr>\n            <td>name: </td>\n            <td>"








; @output_buffer.concat(( form.text_field :name, :size => 20, :class => 'flat' ).to_s); @output_buffer.concat "</td>\n          </tr>\n          <tr>\n            <td>phone: </td>\n            <td>"



; @output_buffer.concat(( form.text_field :phone, :size => 20, :onkeypress => "return onlyNumbers(event)", :class => 'flat' ).to_s); @output_buffer.concat "</td>\n          </tr>\n          <tr>\n            <td>email: </td>\n            <td>\n              "




; @output_buffer.concat(( form.text_field :email, :size => 20, :class => 'flat' ).to_s); @output_buffer.concat "\n                      "
; @output_buffer.concat(( form.hidden_field :business_id, :value => business.id).to_s); @output_buffer.concat "\n              <!--If there is referer, pick a referer randomly to notify-->\n              "

;  if business.users.length > 0 ; @output_buffer.concat "\n              "
; @output_buffer.concat(( form.hidden_field :user_id, :value => business.users[rand(business.users.length)].id ).to_s); @output_buffer.concat "\n              "
;  else ; @output_buffer.concat "\n              "
; @output_buffer.concat(( form.hidden_field :user_id, :value => nil ).to_s); @output_buffer.concat "\n              "
;  end ; @output_buffer.concat "\n            </td>\n          </tr>\n          <tr>\n            <td colspan=2>\n              "




; @output_buffer.concat(( submit_tag "refer me", :class => 'flat').to_s); @output_buffer.concat "\n              <span id=\"error"
; @output_buffer.concat(( business.id ).to_s); @output_buffer.concat "\" class=\"contact_error\"></span>\n            </td>\n          </tr>\n        </table>\n      "



;  end ; @output_buffer.concat "\n    </div>    \n  </div>\n</td>\n</tr>\n"




;  end ; @output_buffer.concat "\n</table>"
; @output_buffer.force_encoding(__ENCODING__)
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `module_eval'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:77:in `compile!'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:61:in `compile'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:28:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:20:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `block in benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:26:in `benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:19:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable_partial.rb:44:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/partials.rb:184:in `render_partial'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:262:in `render'
c:/msysgit/msysgit/git/referme/app/views/home/index.html.erb:1:in `_run_erb_app47views47home47index46html46erb'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:34:in `block in render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:301:in `with_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/renderable.rb:30:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/template.rb:199:in `render_template'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:260:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:343:in `_render_with_layout'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_view/base.rb:257:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1246:in `render_for_file'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:941:in `render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1322:in `default_render'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:1328:in `perform_action'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:617:in `call_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
c:/ruby19/lib/ruby/1.9.1/benchmark.rb:309:in `realtime'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activesupport-2.3.3/lib/active_support/core_ext/benchmark.rb:17:in `ms'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/flash.rb:146:in `perform_action_with_flash'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:527:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/filters.rb:606:in `process_with_filters'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:391:in `process'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/base.rb:386:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/routing/route_set.rb:434:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:88:in `dispatch'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:111:in `_call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:82:in `block in initialize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:29:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:9:in `cache'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/query_cache.rb:28:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/activerecord-2.3.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/params_parser.rb:15:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/session/cookie_store.rb:93:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/reloader.rb:29:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/failsafe.rb:26:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/actionpack-2.3.3/lib/action_controller/dispatcher.rb:106:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/static.rb:31:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `block in call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rails-2.3.3/lib/rails/rack/log_tailer.rb:17:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
c:/ruby19/lib/ruby/gems/1.9.1/gems/rack-1.0.0/lib/rack/handler/webrick.rb:46:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

ActionView::TemplateError (c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:22: syntax error, unexpected $undefined, expecting ')'
...to_s); @output_buffer.concat "\", :controller => 'home', :ac...
...                               ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:75: syntax error, unexpected keyword_end, expecting ')'
;  end ; @output_buffer.concat "\n</table>"
      ^
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:77: syntax error, unexpected keyword_ensure, expecting ')'
c:/msysgit/msysgit/git/referme/app/views/shared/_business_list.html.erb:79: syntax error, unexpected keyword_end, expecting ')') on line #22 of app/views/shared/_business_list.html.erb:
19: <td style="width:50%">
20:   <div id="referalinfo" style="width:100%;float:left">
21:     <b><%= business.name %></b></br>
22:     <span>Category: <%= link_to "<%= business.category %>", :controller => 'home', :action => 'category', :id => category %></span><br/>
23:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
24:     <span class="attribute" style="margin-left:0px"><%= image_tag 'money.jpg', :width => 20, :height => 20 %>reward:<%= business.referer_reward %></span>
25:     <span class="attribute"><%= image_tag 'calendar.jpg', :width => 20, :height => 20 %>expire: in <%= time_ago_in_words(business.expiry_date) %></span>

    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (115.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:44:55) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m

ActionView::TemplateError (undefined local variable or method `category' for #<ActionView::Base:0x7190780>) on line #22 of app/views/shared/_business_list.html.erb:
19: <td style="width:50%">
20:   <div id="referalinfo" style="width:100%;float:left">
21:     <b><%= business.name %></b></br>
22:     <span>Category: <%= link_to "aa", :controller => 'home', :action => 'category', :id => category %></span><br/>
23:     <span style="float:left" ><a href="<%= business.url %>" target="_blank"><%= business.referal_program_name %></a></span><br/><br/>
24:     <span class="attribute" style="margin-left:0px"><%= image_tag 'money.jpg', :width => 20, :height => 20 %>reward:<%= business.referer_reward %></span>
25:     <span class="attribute"><%= image_tag 'calendar.jpg', :width => 20, :height => 20 %>expire: in <%= time_ago_in_words(business.expiry_date) %></span>

    app/views/shared/_business_list.html.erb:22:in `block in _run_erb_app47views47shared47_business_list46html46erb_locals_business_list_object'
    app/views/shared/_business_list.html.erb:17:in `each'
    app/views/shared/_business_list.html.erb:17
    app/views/home/index.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (120.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:46:04) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 77ms (View: 60, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:47:03) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (83.0ms)
Completed in 109ms (View: 94, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:47:06) [GET]
  Parameters: {"id"=>"bank"}
  [4;35;1mBusiness Load (3.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m
Rendering template within layouts/application
Rendering home/category

ActionView::TemplateError (undefined method `each' for #<Business:0x2651540>) on line #17 of app/views/shared/_business_list.html.erb:
14: </head>
15: 
16: <table>
17: <% business_list.each do |business| %>
18: <tr>
19: <td style="width:50%">
20:   <div id="referalinfo" style="width:100%;float:left">

    app/views/shared/_business_list.html.erb:17
    app/views/home/category.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (113.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:48:05) [GET]
  Parameters: {"id"=>"bank"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m
Rendering template within layouts/application
Rendering home/category

ActionView::TemplateError (undefined method `each' for #<Business:0x7a09100>) on line #17 of app/views/shared/_business_list.html.erb:
14: </head>
15: 
16: <table>
17: <% business_list.each do |business| %>
18: <tr>
19: <td style="width:50%">
20:   <div id="referalinfo" style="width:100%;float:left">

    app/views/shared/_business_list.html.erb:17
    app/views/home/category.html.erb:1
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (128.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:48:10) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (42.0ms)
Completed in 65ms (View: 49, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:49:09) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 67ms (View: 52, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:49:11) [GET]
  Parameters: {"id"=>"bank"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m

NoMethodError (undefined method `count' for #<Business:0x41e6c60>):
  app/controllers/home_controller.rb:46:in `category'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (66.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:49:25) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (51.0ms)
Completed in 68ms (View: 55, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:49:26) [GET]
  Parameters: {"id"=>"bank"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m

NoMethodError (undefined method `length' for #<Business:0x3021e20>):
  app/controllers/home_controller.rb:46:in `category'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (191.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:49:46) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 65ms (View: 53, DB: 1) | 200 OK [http://localhost/home]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:49:47) [GET]
  Parameters: {"id"=>"bank"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m

ActionView::MissingTemplate (Missing template home/bank.erb in view path app/views):
  app/controllers/home_controller.rb:46:in `category'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:50:00) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 70ms (View: 54, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:50:01) [GET]
  Parameters: {"id"=>"bank"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m
Completed in 17ms (View: 2, DB: 0) | 200 OK [http://localhost/home/category/bank]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-07 12:50:04) [GET]

ActionController::RoutingError (No route matches "/home/category/phone/internet" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 12:50:21) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 36ms (View: 16, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 12:50:27) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 32ms (View: 18, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#update (for 127.0.0.1 at 2009-10-07 12:50:38) [PUT]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "business"=>{"name"=>"Sprint", "referal_program_name"=>"Sprint Referral Rewards Program", "address"=>"", "description"=>"Tell friends or family about saving with our family plan, our latest award-winning phones, or how much you love being on the most dependable 3G Network and you could earn up to $600. Refer your friends to Sprint starting 7/12/09 and we'll reward you $50, and your friends $25 in Sprint Referral Rewards by Visa\xC2\xAE debit card for each new line of service activated. You can get up to $600 from 12 new lines before 10/31/2009.", "category"=>"phone", "city"=>"", "state"=>"", "url"=>"http://www.sprint.com/landings/refrewards/", "referee_reward"=>"25", "referer_reward"=>"50", "start_date"=>"July 12, 2009", "expiry_date"=>"October 31, 2009", "upper_limit"=>"12", "referee_constraint"=>"anyone"}, "commit"=>"Update", "id"=>"6"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;36;1mBusiness Update (1.0ms)[0m   [0;1mUPDATE "businesses" SET "category" = 'phone', "updated_at" = '2009-10-07 19:50:38' WHERE "id" = 6[0m
Redirected to http://localhost:3000/businesses/6
Completed in 40ms (DB: 3) | 302 Found [http://localhost/businesses/6]


Processing BusinessesController#show (for 127.0.0.1 at 2009-10-07 12:50:38) [GET]
  Parameters: {"id"=>"6"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/show
Completed in 27ms (View: 10, DB: 1) | 200 OK [http://localhost/businesses/6]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:50:45) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 66ms (View: 50, DB: 1) | 200 OK [http://localhost/]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:50:48) [GET]
  Parameters: {"id"=>"phone"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'phone') LIMIT 1[0m
Completed in 16ms (View: 2, DB: 1) | 200 OK [http://localhost/home/category/phone]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:51:56) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 66ms (View: 52, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:51:59) [GET]
  Parameters: {"id"=>"bank"}
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m
Completed in 87ms (View: 69, DB: 2) | 200 OK [http://localhost/home/category/bank]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:52:07) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 199ms (View: 52, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:52:08) [GET]
  Parameters: {"id"=>"bank"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m

NoMethodError (undefined method `count' for #<Business:0x80b4400>):
  app/controllers/home_controller.rb:46:in `category'
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (68.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') LIMIT 1[0m
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = '--- :all
') LIMIT 1[0m


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:55:35) [GET]
  Parameters: {"id"=>"bank"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') [0m
Completed in 18ms (View: 3, DB: 1) | 200 OK [http://localhost/home/category/bank]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 12:55:46) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (40.0ms)
Completed in 60ms (View: 45, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:55:49) [GET]
  Parameters: {"id"=>"bank"}
  [4;36;1mBusiness Load (6.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') [0m
Rendering template within layouts/application
Rendering home/category
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (35.0ms)
Completed in 63ms (View: 41, DB: 6) | 200 OK [http://localhost/home/category/bank]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 12:55:52) [GET]
  Parameters: {"id"=>"phone"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'phone') [0m
Rendering template within layouts/application
Rendering home/category
  [4;35;1mUser Load (2.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (37.0ms)
Completed in 58ms (View: 40, DB: 3) | 200 OK [http://localhost/home/category/phone]


Processing HomeController#search (for 127.0.0.1 at 2009-10-07 13:01:08) [POST]
  Parameters: {"authenticity_token"=>"ajrUEJ3qGiTLNKVDE9izr+77NNMatNW/3GDuZWtNjsQ=", "businessname"=>";", "commit"=>"Search"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (name LIKE '%;%') [0m
Rendering template within layouts/application
Rendering home/search
Rendered shared/_business_list (0.0ms)
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:08:49) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 76ms (View: 61, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:08:58) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 65ms (View: 51, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:09:14) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 70ms (View: 55, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:09:17) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 61ms (View: 46, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:09:25) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (42.0ms)
Completed in 74ms (View: 59, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:09:43) [GET]
  [4;35;1mBusiness Load (4.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (82.0ms)
Completed in 115ms (View: 99, DB: 6) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:09:56) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (188.0ms)
Completed in 220ms (View: 203, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 13:10:48) [GET]
  Parameters: {"id"=>"bank"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') [0m
Rendering template within layouts/application
Rendering home/category
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (37.0ms)
Completed in 57ms (View: 43, DB: 1) | 200 OK [http://localhost/home/category/bank]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:11:38) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 72ms (View: 58, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:14:14) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (88.0ms)
Completed in 124ms (View: 110, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:14:48) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 74ms (View: 59, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:14:57) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 75ms (View: 62, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:16:12) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (56.0ms)
Completed in 90ms (View: 71, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:16:26) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 77ms (View: 62, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:17:04) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (50.0ms)
Completed in 77ms (View: 61, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:17:44) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (136.0ms)
Completed in 161ms (View: 147, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:18:07) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (52.0ms)
Completed in 84ms (View: 65, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:54:56) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 72ms (View: 58, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:55:06) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (49.0ms)
Completed in 76ms (View: 63, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:55:17) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 71ms (View: 54, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:55:42) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 62ms (View: 49, DB: 4) | 200 OK [http://localhost/home]


Processing ApplicationController#index (for 127.0.0.1 at 2009-10-07 13:55:46) [GET]

ActionController::RoutingError (No route matches "/business" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
  c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
  c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (not_found)


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 13:55:50) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 40ms (View: 24, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 13:55:54) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 29ms (View: 16, DB: 1) | 200 OK [http://localhost/businesses/6/edit]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 13:56:02) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 26ms (View: 14, DB: 1) | 200 OK [http://localhost/businesses]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-07 13:56:11) [GET]
Rendering login/admin
Completed in 3ms (View: 1, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-07 13:56:12) [GET]
Redirected to http://localhost:3000/login/login
Completed in 3ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-07 13:56:12) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-07 13:56:14) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "username"=>"Ji", "password"=>"yyyyyy", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = 'yyyyyy') [0m
Redirected to http://localhost:3000/login/login
Completed in 13ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-07 13:56:14) [GET]
Rendering login/login
Completed in 4ms (View: 3, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-07 13:56:17) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Redirected to http://localhost:3000/login/admin
Completed in 18ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-07 13:56:17) [GET]
Rendering login/admin
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/admin]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 13:56:19) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 27ms (View: 12, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 13:56:23) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 32ms (View: 18, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 13:56:48) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 39ms (View: 23, DB: 0) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 13:57:00) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 41ms (View: 24, DB: 1) | 200 OK [http://localhost/businesses/2/edit]


Processing BusinessesController#edit (for 127.0.0.1 at 2009-10-07 13:57:29) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Rendering template within layouts/businesses
Rendering businesses/edit
Completed in 43ms (View: 28, DB: 0) | 200 OK [http://localhost/businesses/2/edit]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:59:34) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 79ms (View: 60, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 13:59:40) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 64ms (View: 50, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:00:32) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (47.0ms)
Completed in 69ms (View: 55, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:00:33) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 63ms (View: 49, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:01:52) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 158ms (View: 67, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:02:53) [GET]
  [4;35;1mBusiness Load (3.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (42.0ms)
Completed in 77ms (View: 56, DB: 5) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:02:54) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (46.0ms)
Completed in 63ms (View: 48, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:04:53) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 68ms (View: 56, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:05:25) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (42.0ms)
Completed in 67ms (View: 53, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:05:27) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 63ms (View: 50, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:05:40) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 70ms (View: 55, DB: 4) | 200 OK [http://localhost/]


Processing HomeController#search (for 127.0.0.1 at 2009-10-07 14:05:46) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "businessname"=>"", "commit"=>"Search"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (name LIKE '%%') [0m
Rendering template within layouts/application
Rendering home/search
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (53.0ms)
Completed in 70ms (View: 57, DB: 2) | 200 OK [http://localhost/home/search]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:05:48) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 63ms (View: 49, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:12:26) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 67ms (View: 48, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 14:12:37) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "contactrecord"=>{"name"=>"Ji", "phone"=>"1234567890", "email"=>"yanji84@gmail.com", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(2, 8, 'Ji', 'yanji84@gmail.com', '1234567890', '2009-10-07 21:12:37', '2009-10-07 21:12:37')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Wed, 7 Oct 2009 14:12:37 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is yanji84@gmail.com
My phone is 1234567890
Can you refer me at Bank of America? (https://epreferences.bankofamerica.com/asbs/htm/landing_page/Phase3_Referral_Landing_page.html;jsessionid=D4B457C619CDCB8F9328B4D635A2449A?rc=CRPOE&adlink=000309029c910000a641)

Rendered shared/_after_contact (0.0ms)
Completed in 3624ms (View: 5, DB: 3) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 14:13:36) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
Completed in 28ms (View: 3, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:20:59) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 63ms (View: 49, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 14:21:03) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "contactrecord"=>{"name"=>"Ji", "phone"=>"1234567890", "email"=>"yanji84@gmail.com", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;35;1mContactRecord Create (2.0ms)[0m   [0mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(6, 8, 'Ji', 'yanji84@gmail.com', '1234567890', '2009-10-07 21:21:03', '2009-10-07 21:21:03')[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Wed, 7 Oct 2009 14:21:03 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is yanji84@gmail.com
My phone is 1234567890
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)

Rendered shared/_after_contact (1.0ms)
Completed in 1809ms (View: 12, DB: 2) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:22:43) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (90.0ms)
Completed in 114ms (View: 101, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 14:22:45) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "contactrecord"=>{"name"=>"Ji", "phone"=>"1234567890", "email"=>"yanji84@gmail.com", "business_id"=>"6", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 6) [0m
  [4;36;1mContactRecord Create (3.0ms)[0m   [0;1mINSERT INTO "contact_records" ("business_id", "user_id", "name", "email", "phone", "created_at", "updated_at") VALUES(6, 8, 'Ji', 'yanji84@gmail.com', '1234567890', '2009-10-07 21:22:45', '2009-10-07 21:22:45')[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 8) [0m
Sent mail to yanji84@gmail.com

Date: Wed, 7 Oct 2009 14:22:45 -0700
From: yanji84@gmail.com
To: yanji84@gmail.com
Subject: Someone needs your referal
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

My name is Ji
My email is yanji84@gmail.com
My phone is 1234567890
Can you refer me at Sprint? (http://www.sprint.com/landings/refrewards/)

Rendered shared/_after_contact (1.0ms)
Completed in 1820ms (View: 4, DB: 4) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:23:49) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (42.0ms)
Completed in 62ms (View: 48, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:24:26) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 63ms (View: 47, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:24:40) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (42.0ms)
Completed in 59ms (View: 46, DB: 2) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:25:07) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (45.0ms)
Completed in 62ms (View: 48, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:25:10) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (61.0ms)
Completed in 83ms (View: 68, DB: 5) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 14:25:18) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 38ms (View: 11, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:26:14) [GET]
  [4;35;1mBusiness Load (8.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (79.0ms)
Completed in 137ms (View: 103, DB: 12) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:26:27) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (54.0ms)
Completed in 86ms (View: 70, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#category (for 127.0.0.1 at 2009-10-07 14:26:45) [GET]
  Parameters: {"id"=>"phone"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'phone') [0m
Rendering template within layouts/application
Rendering home/category
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (38.0ms)
Completed in 57ms (View: 41, DB: 1) | 200 OK [http://localhost/home/category/phone]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:42:18) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 72ms (View: 59, DB: 3) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:43:22) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (95.0ms)
Completed in 119ms (View: 106, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#record_contact (for 127.0.0.1 at 2009-10-07 14:43:38) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "contactrecord"=>{"name"=>"", "phone"=>"", "email"=>"", "business_id"=>"2", "user_id"=>"8"}, "commit"=>"refer me"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."id" = 2) [0m
Completed in 29ms (View: 2, DB: 1) | 200 OK [http://localhost/home/record_contact]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:45:26) [GET]
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 73ms (View: 57, DB: 4) | 200 OK [http://localhost/home]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:45:27) [GET]
  [4;36;1mBusiness Load (43.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (44.0ms)
Completed in 104ms (View: 48, DB: 46) | 200 OK [http://localhost/home]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 14:45:33) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 107ms (View: 94, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-07 14:45:37) [GET]
Rendering businesses/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-07 14:47:04) [GET]
Rendering businesses/new
Completed in 26ms (View: 13, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-07 14:47:09) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "business"=>{"name"=>"", "referal_program_name"=>"", "address"=>"", "description"=>"", "city"=>"", "state"=>"", "url"=>"", "referee_reward"=>"", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
Rendering template within layouts/businesses
Rendering businesses/new
Completed in 88ms (View: 25, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-07 14:47:24) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "business"=>{"name"=>"aaa", "referal_program_name"=>"aaa", "address"=>"", "description"=>"aaa", "city"=>"", "state"=>"", "url"=>"", "referee_reward"=>"333", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
Rendering template within layouts/businesses
Rendering businesses/new
Completed in 56ms (View: 15, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-07 14:48:14) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "business"=>{"name"=>"aaa", "referal_program_name"=>"aaa", "address"=>"", "description"=>"aaa", "city"=>"", "state"=>"", "url"=>"", "referee_reward"=>"333", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
Rendering template within layouts/businesses
Rendering businesses/new
Completed in 50ms (View: 21, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-07 14:48:24) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "business"=>{"name"=>"aaa", "referal_program_name"=>"aaa", "category"=>"dsfg", "address"=>"", "description"=>"aaa", "city"=>"", "state"=>"", "url"=>"", "referee_reward"=>"333", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
  [4;35;1mBusiness Create (2.0ms)[0m   [0mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at", "picture", "url", "referer_reward", "referee_reward", "expiry_date", "referal_program_name", "start_date", "upper_limit", "referee_constraint") VALUES('aaa', '', '', '', NULL, NULL, NULL, 'dsfg', 'aaa', NULL, NULL, '2009-10-07 21:48:24', '2009-10-07 21:48:24', NULL, '', NULL, 333, NULL, 'aaa', NULL, NULL, '')[0m
Rendering template within layouts/businesses
Rendering businesses/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #20 of app/views/businesses/index.html.erb:
17:     <th>Referee Constraint</th>
18:   </tr>
19: 
20: <% @businesses.each do |business| %>
21:   <tr>
22:     <td><%=h business.name %></td>
23:     <td><%=h business.referal_program_name %></td>

    app/views/businesses/index.html.erb:20
    app/controllers/businesses_controller.rb:51:in `block (2 levels) in create'
    app/controllers/businesses_controller.rb:49:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (100.0ms)
Rendered rescues/_request_and_response (1.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:48:50) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 8)) [0m
Rendered shared/_business_list (48.0ms)
Completed in 79ms (View: 56, DB: 5) | 200 OK [http://localhost/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 14:49:11) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 34ms (View: 16, DB: 1) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-10-07 14:50:03) [DELETE]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "id"=>"8"}
  [4;36;1mBusiness Load (20.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 8) [0m
  [4;35;1mBusiness Destroy (2.0ms)[0m   [0mDELETE FROM "businesses" WHERE "id" = 8[0m
Redirected to http://localhost:3000/businesses
Completed in 43ms (DB: 22) | 302 Found [http://localhost/businesses/8]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 14:50:04) [GET]
  [4;36;1mBusiness Load (26.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 64ms (View: 27, DB: 26) | 200 OK [http://localhost/businesses]


Processing BusinessesController#new (for 127.0.0.1 at 2009-10-07 14:50:09) [GET]
Rendering businesses/new
Completed in 144ms (View: 130, DB: 0) | 200 OK [http://localhost/businesses/new]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-07 14:50:13) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "business"=>{"name"=>"", "referal_program_name"=>"", "category"=>"", "address"=>"", "description"=>"", "city"=>"", "state"=>"", "url"=>"", "referee_reward"=>"", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
Rendering template within layouts/businesses
Rendering businesses/new
Completed in 92ms (View: 14, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-07 14:50:47) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "business"=>{"name"=>"", "referal_program_name"=>"", "category"=>"", "address"=>"", "description"=>"", "city"=>"", "state"=>"", "url"=>"", "referee_reward"=>"", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
Rendering template within layouts/businesses
Rendering businesses/new
Completed in 98ms (View: 21, DB: 0) | 200 OK [http://localhost/businesses]


Processing BusinessesController#create (for 127.0.0.1 at 2009-10-07 14:50:58) [POST]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "business"=>{"name"=>"name", "referal_program_name"=>"referal program name", "category"=>"category", "address"=>"", "description"=>"description", "city"=>"", "state"=>"", "url"=>"", "referee_reward"=>"111", "referer_reward"=>"", "start_date"=>"", "expiry_date"=>"", "upper_limit"=>"", "referee_constraint"=>""}, "commit"=>"Create"}
  [4;35;1mBusiness Create (2.0ms)[0m   [0mINSERT INTO "businesses" ("name", "address", "city", "state", "country", "rating", "review", "category", "description", "zipcode", "yelpid", "created_at", "updated_at", "picture", "url", "referer_reward", "referee_reward", "expiry_date", "referal_program_name", "start_date", "upper_limit", "referee_constraint") VALUES('name', '', '', '', NULL, NULL, NULL, 'category', 'description', NULL, NULL, '2009-10-07 21:50:58', '2009-10-07 21:50:58', NULL, '', NULL, 111, NULL, 'referal program name', NULL, NULL, '')[0m
Rendering template within layouts/businesses
Rendering businesses/index

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #20 of app/views/businesses/index.html.erb:
17:     <th>Referee Constraint</th>
18:   </tr>
19: 
20: <% @businesses.each do |business| %>
21:   <tr>
22:     <td><%=h business.name %></td>
23:     <td><%=h business.referal_program_name %></td>

    app/views/businesses/index.html.erb:20
    app/controllers/businesses_controller.rb:51:in `block (2 levels) in create'
    app/controllers/businesses_controller.rb:49:in `create'
    <internal:prelude>:8:in `synchronize'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
    c:/ruby19/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
    c:/ruby19/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (98.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 14:51:10) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 9)) [0m
Rendered shared/_business_list (100.0ms)
Completed in 130ms (View: 116, DB: 3) | 200 OK [http://localhost/]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 14:51:39) [GET]
  [4;35;1mBusiness Load (2.0ms)[0m   [0mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 31ms (View: 18, DB: 2) | 200 OK [http://localhost/businesses]


Processing BusinessesController#destroy (for 127.0.0.1 at 2009-10-07 14:51:44) [DELETE]
  Parameters: {"authenticity_token"=>"XxncT917UcRJawnOKDkVoZS4DMQR54x5b0AS93GmaH0=", "id"=>"9"}
  [4;36;1mBusiness Load (0.0ms)[0m   [0;1mSELECT * FROM "businesses" WHERE ("businesses"."id" = 9) [0m
  [4;35;1mBusiness Destroy (2.0ms)[0m   [0mDELETE FROM "businesses" WHERE "id" = 9[0m
Redirected to http://localhost:3000/businesses
Completed in 24ms (DB: 2) | 302 Found [http://localhost/businesses/9]


Processing BusinessesController#index (for 127.0.0.1 at 2009-10-07 14:51:44) [GET]
  [4;36;1mBusiness Load (2.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
Rendering template within layouts/businesses
Rendering businesses/index
Completed in 30ms (View: 16, DB: 2) | 200 OK [http://localhost/businesses]


Processing HomeController#index (for 127.0.0.1 at 2009-10-07 15:10:17) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (43.0ms)
Completed in 64ms (View: 51, DB: 3) | 200 OK [http://localhost/]


Processing HomeController#index (for 127.0.0.1 at 2009-10-08 20:34:14) [GET]
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE (referee_reward > 10) LIMIT 4[0m
Rendering template within layouts/application
Rendering home/index
  [4;36;1mBusiness Load (1.0ms)[0m   [0;1mSELECT * FROM "businesses" [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (38.0ms)
Completed in 54ms (View: 43, DB: 2) | 200 OK [http://localhost/]


Processing HomeController#category (for 127.0.0.1 at 2009-10-08 21:32:56) [GET]
  Parameters: {"id"=>"bank"}
  [4;35;1mBusiness Load (1.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'bank') [0m
Rendering template within layouts/application
Rendering home/category
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 2)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 49ms (View: 34, DB: 2) | 200 OK [http://localhost/home/category/bank]


Processing HomeController#category (for 127.0.0.1 at 2009-10-08 21:33:00) [GET]
  Parameters: {"id"=>"phone"}
  [4;35;1mBusiness Load (0.0ms)[0m   [0mSELECT * FROM "businesses" WHERE ("businesses"."category" = 'phone') [0m
Rendering template within layouts/application
Rendering home/category
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".* FROM "users" INNER JOIN "referals" ON "users".id = "referals".user_id WHERE (("referals".business_id = 6)) [0m
Rendered shared/_business_list (31.0ms)
Completed in 48ms (View: 34, DB: 1) | 200 OK [http://localhost/home/category/phone]
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddContactRecordToUser (20091005190354)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("contact_records")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("referals")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("users")[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddContactRecordToUser (20091005190354)
Migrating to LoadInitialUserData (20091009045943)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mUser Delete all (1.0ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mSQL (11.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBusinesses (20090827180332)
Migrating to CreateUsers (20090915061534)
Migrating to CreateRequests (20090916041112)
Migrating to AddPasswordToUsers (20090920025709)
Migrating to CreatePictures (20090924035229)
Migrating to AddPictureAssociationToBusiness (20090924041442)
Migrating to AddUrlAndAmountToBusinesses (20090930212157)
Migrating to AddExpiryDateToBusinesses (20090930214118)
Migrating to AddReferalProgramNameToBusinesses (20090930223151)
Migrating to AddDetailsToBusinesses (20090930224139)
Migrating to CreateReferals (20091001224801)
Migrating to CreateContactRecords (20091002054735)
Migrating to AddRoleToUser (20091002195422)
Migrating to AddContactRecordToUser (20091005190354)
Migrating to LoadInitialUserData (20091009045943)
  [4;36;1mSQL (0.0ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mUser Delete all (1.0ms)[0m   [0mDELETE FROM "users" WHERE 1=1[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'admin') LIMIT 1[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."email" = 'refermewebmaster@gmail.com') LIMIT 1[0m
  [4;36;1mUser Create (0.0ms)[0m   [0;1mINSERT INTO "users" ("displayname", "email", "ratingcount", "averagerating", "picture", "created_at", "updated_at", "password", "role", "contact_record_id") VALUES('admin', 'refermewebmaster@gmail.com', NULL, NULL, NULL, '2009-10-09 05:03:13', '2009-10-09 05:03:13', '123456', 'admin', NULL)[0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE ("users"."displayname" = 'admin' AND "users".id <> 12) LIMIT 1[0m
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE ("users"."email" = 'refermewebmaster@gmail.com' AND "users".id <> 12) LIMIT 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091009045943')[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("contact_records")[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("referals")[0m
  [4;35;1mSQL (1.0ms)[0m   [0mPRAGMA index_list("users")[0m
  [4;35;1mSQL (1.0ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" [0m


Processing LoginController#admin (for 127.0.0.1 at 2009-10-08 22:03:56) [GET]
Rendering login/admin
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-08 22:03:59) [GET]
Redirected to http://localhost:3000/login/login
Completed in 3ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-08 22:03:59) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-08 22:04:04) [POST]
  Parameters: {"authenticity_token"=>"mqufp+DRNS+KCEi7UIV2QDjPtkIJl2oQBJRBMMr4Mck=", "username"=>"Ji", "password"=>"123456", "commit"=>"login"}
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE (displayname = 'Ji' and password = '123456') [0m
Redirected to http://localhost:3000/login/login
Completed in 10ms (DB: 1) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-08 22:04:04) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-08 22:04:10) [POST]
  Parameters: {"authenticity_token"=>"mqufp+DRNS+KCEi7UIV2QDjPtkIJl2oQBJRBMMr4Mck=", "username"=>"admin", "password"=>"123456", "commit"=>"login"}
  [4;36;1mUser Load (1.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'admin' and password = '123456') [0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 12) [0m
Redirected to http://localhost:3000/login/login
Completed in 16ms (DB: 2) | 302 Found [http://localhost/login/process_login]


Processing LoginController#login (for 127.0.0.1 at 2009-10-08 22:04:10) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]


Processing LoginController#process_login (for 127.0.0.1 at 2009-10-08 22:05:04) [POST]
  Parameters: {"authenticity_token"=>"mqufp+DRNS+KCEi7UIV2QDjPtkIJl2oQBJRBMMr4Mck=", "username"=>"admin", "password"=>"123456", "commit"=>"login"}
  [4;36;1mUser Load (2.0ms)[0m   [0;1mSELECT * FROM "users" WHERE (displayname = 'admin' and password = '123456') [0m
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 12) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 12) [0m
Redirected to http://localhost:3000/login/admin
Completed in 17ms (DB: 2) | 302 Found [http://localhost/login/process_login]


Processing LoginController#admin (for 127.0.0.1 at 2009-10-08 22:05:04) [GET]
Rendering login/admin
Completed in 3ms (View: 2, DB: 0) | 200 OK [http://localhost/login/admin]


Processing LoginController#logout (for 127.0.0.1 at 2009-10-08 22:05:06) [GET]
Redirected to http://localhost:3000/login/login
Completed in 2ms (DB: 0) | 302 Found [http://localhost/login/logout]


Processing LoginController#login (for 127.0.0.1 at 2009-10-08 22:05:06) [GET]
Rendering login/login
Completed in 4ms (View: 2, DB: 0) | 200 OK [http://localhost/login/login]
